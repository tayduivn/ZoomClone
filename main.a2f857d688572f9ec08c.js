(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+EQa":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.name,e.sid,n));Object.defineProperties(r,{_signaling:{value:e},_track:{value:null,writable:!0},isSubscribed:{enumerable:!0,get:function(){return!!this._track}},isTrackEnabled:{enumerable:!0,get:function(){return e.isEnabled}},kind:{enumerable:!0,value:e.kind},publishPriority:{enumerable:!0,get:function(){return e.priority}},track:{enumerable:!0,get:function(){return this._track}}});var i=e.error,o=e.isEnabled,s=e.isSwitchedOff,a=e.priority;return e.on("updated",function(){if(i!==e.error)return i=e.error,void r.emit("subscriptionFailed",e.error);o!==e.isEnabled&&(o=e.isEnabled,r.track&&r.track._setEnabled(e.isEnabled),r.emit(e.isEnabled?"trackEnabled":"trackDisabled")),s!==e.isSwitchedOff&&(s=e.isSwitchedOff,r.track&&(r.track._setSwitchedOff(e.isSwitchedOff),r.emit(e.isSwitchedOff?"trackSwitchedOff":"trackSwitchedOn",r.track))),a!==e.priority&&r.emit("publishPriorityChanged",a=e.priority)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}},{key:"_subscribed",value:function(e){!this._track&&e&&(this._track=e,this.emit("subscribed",e))}},{key:"_unsubscribe",value:function(){if(this._track){var e=this._track;this._track=null,this.emit("unsubscribed",e)}}}]),t}(n("tjbx"));e.exports=i},"+OFx":function(e,t,n){"use strict";var r=null;e.exports=function(e){return r=r||document.createElement("canvas"),new Promise(function(t){var n=3;setTimeout(function i(){return n--,function(e){var t=r.getContext("2d");t.drawImage(e,0,0,50,50);var n=t.getImageData(0,0,50,50).data.filter(function(e,t){return(t+1)%4});return 0===Math.max.apply(Math,n)}(e)?n>0?setTimeout(i,250):t(!0):t(!1)},250)})}},"+kOg":function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=n("mAYT"),a=n("1RtY"),c=n("/Ylb"),l=n("ghd6").valueToJSON,u=0,h=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,o,s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=r.log.createLog("default",s),c=new Map;return Object.defineProperties(s,{_log:{value:a},_instanceId:{value:++u},_options:{value:r},_participants:{value:c},_signaling:{value:n},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(n.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return n.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:n.name},participants:{enumerable:!0,value:c},sid:{enumerable:!0,value:n.sid},state:{enumerable:!0,get:function(){return n.state}},mediaRegion:{enumerable:!0,value:n.mediaRegion}}),i=s,(o=n.recording).on("updated",function(){var e=o.isEnabled;i._log.info("Recording "+(e?"started":"stopped")),i.emit("recording"+(e?"Started":"Stopped"))}),function(e,t){var n=e._log;n.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(f.bind(null,e)),n.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",f.bind(null,e)),t.on("dominantSpeakerChanged",function(){return e.emit("dominantSpeakerChanged",e.dominantSpeaker)}),t.on("stateChanged",function r(i,o){switch(n.info("Transitioned to state:",i),i){case"disconnected":e.participants.forEach(function(e){e._unsubscribeTracks()}),e.emit(i,e,o),e.localParticipant.tracks.forEach(function(e){e.unpublish()}),t.removeListener("stateChanged",r);break;case"reconnecting":setTimeout(function(){return e.emit("reconnecting",o)},0);break;default:setTimeout(function(){return e.emit("reconnected")},0)}})}(s,n),a.info("Created a new Room:",s.name),a.debug("Initial RemoteParticipants:",Array.from(s._participants.values())),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"toString",value:function(){return"[Room #"+this._instanceId+": "+this.sid+"]"}},{key:"disconnect",value:function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this}},{key:"getStats",value:function(){var e=this;return this._signaling.getStats().then(function(t){return Array.from(t).map(function(t){var n=r(t,2),i=n[1];return new c(n[0],Object.assign({},i,{localAudioTrackStats:d(e,i.localAudioTrackStats),localVideoTrackStats:d(e,i.localVideoTrackStats)}))})})}},{key:"toJSON",value:function(){return l(this)}}]),t}(s);function d(e,t){var n=e.localParticipant._signaling;return t.reduce(function(e,t){var r=n.tracks.get(t.trackId),i=n.getSender(r);return i?[Object.assign({},t,{trackId:i.id})].concat(e):e},[])}function f(e,t){var n=e._log,i=new a(t,{log:n});n.info("A new RemoteParticipant connected:",i),e._participants.set(i.sid,i),e.emit("participantConnected",i);var s=[["reconnected","participantReconnected"],["reconnecting","participantReconnecting"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished","trackPublishPriorityChanged","trackStarted","trackSubscribed","trackSubscriptionFailed","trackSwitchedOff","trackSwitchedOn","trackUnpublished","trackUnsubscribed"].map(function(t){var n=Array.isArray(t)?t:[t,t],s=r(n,2),a=s[0],c=s[1];function l(){var t=[].slice.call(arguments);t.unshift(c),t.push(i),e.emit.apply(e,o(t))}return i.on(a,l),[a,l]});i.once("disconnected",function(){var t=e.dominantSpeaker;n.info("RemoteParticipant disconnected:",i),e._participants.delete(i.sid),s.forEach(function(e){i.removeListener(e[0],e[1])}),e.emit("participantDisconnected",i),i===t&&e.emit("dominantSpeakerChanged",e.dominantSpeaker)})}e.exports=h},"+qE3":function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,u=m(c,l);for(n=0;n<l;++n)o(u[n],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var n,r,i,o,s;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"/+gY":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({AudioContext:i},t),Object.defineProperties(this,{_AudioContext:{value:t.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:e}})}return r(e,[{key:"getOrCreate",value:function(e){if(!this._holders.has(e)&&(this._holders.add(e),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch(t){}return this._audioContext}},{key:"release",value:function(e){this._holders.has(e)&&(this._holders.delete(e),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))}}]),e}();e.exports=new o},"/Ylb":function(e,t,n){"use strict";var r=n("r2dn"),i=n("BMBc"),o=n("yTCf"),s=n("b9Z9");e.exports=function e(t,n,a){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:t,enumerable:!0},localAudioTrackStats:{value:n.localAudioTrackStats.map(function(e){return new r(e.trackId,e,a)}),enumerable:!0},localVideoTrackStats:{value:n.localVideoTrackStats.map(function(e){return new i(e.trackId,e,a)}),enumerable:!0},remoteAudioTrackStats:{value:n.remoteAudioTrackStats.map(function(e){return new o(e.trackId,e)}),enumerable:!0},remoteVideoTrackStats:{value:n.remoteVideoTrackStats.map(function(e){return new s(e.trackId,e)}),enumerable:!0}})}},"/kv6":function(e,t,n){"use strict";var r=n("sYJf");e.exports=function(e,t,n,i){var o=void 0,s=new Error("Canceled");return new r(function(a,c,l){var u=void 0;e(function(e){return l()?r.reject(s):(u=t(e),n(u).then(function(e){if(l())throw s;return o=e()}))}).then(function(e){if(l())throw e.disconnect(),s;a(i(u,e))}).catch(function(e){c(e)})},function(){o&&o.cancel()})}},0:function(e,t,n){e.exports=n("zUnb")},"0iCT":function(e,t,n){"use strict";e.exports=function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:t,enumerable:!0},trackSid:{value:n.trackSid,enumerable:!0},timestamp:{value:n.timestamp,enumerable:!0},ssrc:{value:n.ssrc,enumerable:!0},packetsLost:{value:"number"==typeof n.packetsLost?n.packetsLost:null,enumerable:!0},codec:{value:"string"==typeof n.codecName?n.codecName:null,enumerable:!0}})}},"1/tH":function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof navigator&&"object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?(e=e||{audio:!0,video:!0},navigator.mediaDevices.getUserMedia(e)):Promise.reject(new Error("getUserMedia is not supported"))}},"1I8i":function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n("lrhj"),a=n("pWYA"),c=n("Aq89"),l=n("gBrb"),u=n("Lh68"),h=n("3sVZ"),d=n("/Ylb"),f=n("Um2Z"),p=n("muOY"),g=n("ghd6"),m=g.constants.DEFAULT_SESSION_TIMEOUT_SEC,y=g.createBandwidthProfilePayload,v=g.defer,b=g.filterObject,_=g.flatMap,w=g.oncePerTick,k=n("5wwa").createTwilioError,S=function(e){function t(e,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n.options=Object.assign({session_timeout:m},n.options),o=Object.assign({DominantSpeakerSignaling:s,NetworkQualityMonitor:a,NetworkQualitySignaling:c,RecordingSignaling:l,RemoteParticipantV2:h,TrackPrioritySignaling:f,TrackSwitchOffSignaling:p,bandwidthProfile:null,sessionTimeout:1e3*n.options.session_timeout,statsPublishIntervalMs:1e4},o),e.setBandwidthProfile(o.bandwidthProfile),i.setIceReconnectTimeout(o.sessionTimeout);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.sid,n.name,o));return Object.defineProperties(u,{_dominantSpeakerSignaling:{value:null,writable:!0},_DominantSpeakerSignaling:{value:o.DominantSpeakerSignaling},_dominantSpeakerSignalingPromise:{value:null,writable:!0},_disconnectedParticipantSids:{value:new Set},_NetworkQualityMonitor:{value:o.NetworkQualityMonitor},_NetworkQualitySignaling:{value:o.NetworkQualitySignaling},_lastBandwidthProfileRevision:{value:e.bandwidthProfileRevision,writable:!0},_networkQualityMonitor:{value:null,writable:!0},_networkQualityMonitorPromise:{value:null,writable:!0},_networkQualityConfiguration:{value:e.networkQualityConfiguration},_peerConnectionManager:{value:i},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:o.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_trackPriorityPromise:{value:null,writable:!0},_trackPrioritySignaling:{value:null,writable:!0},_trackSwitchOffPromise:{value:null,writable:!0},_trackSwitchOffSignaling:{value:null,writable:!0},_TrackPrioritySignaling:{value:o.TrackPrioritySignaling},_TrackSwitchOffSignaling:{value:o.TrackSwitchOffSignaling},_transport:{value:r},_trackReceiverDeferreds:{value:new Map},mediaRegion:{enumerable:!0,value:n.options.media_region||null}}),function(e,t){var n=w(function(){e._publishNewLocalParticipantState()}),r=w(function(){var n=_(t.tracks,function(e){return e.trackTransceiver});e._peerConnectionManager.setTrackSenders(n)});t.on("trackAdded",r),t.on("trackRemoved",r),t.on("updated",n),e.on("stateChanged",function i(o){"disconnected"===o&&(t.removeListener("trackAdded",r),t.removeListener("trackRemoved",r),t.removeListener("updated",n),e.removeListener("stateChanged",i),t.disconnect())}),e.on("signalingConnectionStateChanged",function(){var t=e.localParticipant,n=t.identity,r=t.sid;switch(e.signalingConnectionState){case"connected":t.connect(r,n);break;case"reconnecting":t.reconnecting()}})}(u,e),function(e,t){t.on("description",function(t){e._publishPeerConnectionState(t)}),t.dequeue("description"),t.on("candidates",function(t){e._publishPeerConnectionState(t)}),t.dequeue("candidates"),t.on("trackAdded",e._addTrackReceiver.bind(e)),t.dequeue("trackAdded"),t.getTrackReceivers().forEach(e._addTrackReceiver,e),t.on("connectionStateChanged",function(){e.emit("connectionStateChanged")}),t.on("iceConnectionStateChanged",function(){e.emit("iceConnectionStateChanged"),"failed"===e.iceConnectionState&&(null!==e.localParticipant.networkQualityLevel&&e.localParticipant.setNetworkQualityLevel(0),e.participants.forEach(function(e){null!==e.networkQualityLevel&&e.setNetworkQualityLevel(0)}))})}(u,i),function(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",function n(r,i){"disconnected"===r&&("disconnected"!==e.state&&e._disconnect(i),t.removeListener("stateChanged",n)),e.emit("signalingConnectionStateChanged")})}(u,r),function(e,t,n){var r=!1,i=setInterval(function(){e.getStats().then(function(e){r=!r,e.forEach(function(e,n){var i=new d(n,e,!0);if(t.publishEvent("quality","stats-report",{audioTrackStats:i.remoteAudioTrackStats,localAudioTrackStats:i.localAudioTrackStats,localVideoTrackStats:i.localVideoTrackStats,peerConnectionId:i.peerConnectionId,videoTrackStats:i.remoteVideoTrackStats}),r){var o=function(e,t){return(e=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:t,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},b(e||{},null))).localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",relayProtocol:"udp",url:""},b(e.localCandidate||{},null)),e.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},b(e.remoteCandidate||{},null)),e}(e.activeIceCandidatePair,i.peerConnectionId);t.publishEvent("quality","active-ice-candidate-pair",o)}})},function(){})},n);e.on("stateChanged",function t(n){"disconnected"===n&&(clearInterval(i),e.removeListener("stateChanged",t))})}(u,r,o.statsPublishIntervalMs),u._update(n),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_deleteTrackReceiverDeferred",value:function(e){return this._trackReceiverDeferreds.delete(e)}},{key:"_getOrCreateTrackReceiverDeferred",value:function(e){var t=this._trackReceiverDeferreds.get(e)||v(),n=this._peerConnectionManager.getTrackReceivers().find(function(t){return t.id===e&&"ended"!==t.readyState});return n?t.resolve(n):this._trackReceiverDeferreds.set(e,t),t}},{key:"_addTrackReceiver",value:function(e){return this._getOrCreateTrackReceiverDeferred(e.id).resolve(e),this}},{key:"_disconnect",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_disconnect",this).call(this,e);return n&&(this._teardownDominantSpeakerSignaling(),this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach(function(t){t.publishFailed(e||new Error("LocalParticipant disconnected"))}),n}},{key:"_getTrackReceiver",value:function(e){var t=this;return this._getOrCreateTrackReceiverDeferred(e).promise.then(function(n){return t._deleteTrackReceiverDeferred(e),n})}},{key:"_getTrackSidsToTrackSignalings",value:function(){var e=_(this.participants,function(e){return Array.from(e.tracks)});return new Map(e)}},{key:"_getOrCreateRemoteParticipant",value:function(e){var t=this._RemoteParticipantV2,n=this.participants.get(e.sid),r=this;return n||((n=new t(e,this._getTrackReceiver.bind(this))).on("stateChanged",function e(t){"disconnected"===t&&(n.removeListener("stateChanged",e),r.participants.delete(n.sid),r._disconnectedParticipantSids.add(n.sid))}),this.connectParticipant(n),n.setTrackPrioritySignaling(this._trackPrioritySignaling)),n}},{key:"_getState",value:function(){return{participant:this.localParticipant.getState()}}},{key:"_maybeAddBandwidthProfile",value:function(e){var t=this.localParticipant,n=t.bandwidthProfile,r=t.bandwidthProfileRevision;return n&&this._lastBandwidthProfileRevision<r?(this._lastBandwidthProfileRevision=r,Object.assign({bandwidth_profile:y(n)},e)):e}},{key:"_publishNewLocalParticipantState",value:function(){this._transport.publish(this._maybeAddBandwidthProfile(this._getState()))}},{key:"_publishPeerConnectionState",value:function(e){this._transport.publish(Object.assign({peer_connections:[e]},this._getState()))}},{key:"_update",value:function(e){var t=this;if(e.subscribed&&e.subscribed.revision>this._subscribedRevision){this._subscribedRevision=e.subscribed.revision,e.subscribed.tracks.forEach(function(e){e.id?(t._subscriptionFailures.delete(e.sid),t._subscribed.set(e.sid,e.id)):e.error&&!t._subscriptionFailures.has(e.sid)&&t._subscriptionFailures.set(e.sid,e.error)});var n=new Set(e.subscribed.tracks.filter(function(e){return!!e.id}).map(function(e){return e.sid}));this._subscribed.forEach(function(e,r){n.has(r)||t._subscribed.delete(r)})}var r,i,o=new Set;return(e.participants||[]).forEach(function(e){if(e.sid!==t.localParticipant.sid&&!t._disconnectedParticipantSids.has(e.sid)){var n=t._getOrCreateRemoteParticipant(e);n.update(e),o.add(n)}}),"synced"===e.type&&this.participants.forEach(function(e){o.has(e)||e.disconnect()}),i=(r=this)._getTrackSidsToTrackSignalings(),r._subscriptionFailures.forEach(function(e,t){var n=i.get(t);n&&(r._subscriptionFailures.delete(t),n.subscribeFailed(k(e.code,e.message)))}),i.forEach(function(e){var t=r._subscribed.get(e.sid);(!t||e.isSubscribed&&e.trackTransceiver.id!==t)&&e.setTrackTransceiver(null),t&&r._getTrackReceiver(t).then(function(t){return e.setTrackTransceiver(t)})}),e.peer_connections&&this._peerConnectionManager.update(e.peer_connections,"synced"===e.type),e.recording&&this.recording.update(e.recording),e.published&&e.published.revision>this._publishedRevision&&(this._publishedRevision=e.published.revision,e.published.tracks.forEach(function(e){e.sid&&t._published.set(e.id,e.sid)}),this.localParticipant.update(e.published)),e.participant&&this.localParticipant.connect(e.participant.sid,e.participant.identity),!this._dominantSpeakerSignalingPromise&&e.media_signaling&&e.media_signaling.active_speaker&&e.media_signaling.active_speaker.transport&&"data-channel"===e.media_signaling.active_speaker.transport.type&&this._setupDataTransportBackedDominantSpeakerSignaling(e.media_signaling.active_speaker.transport.label),!this._networkQualityMonitorPromise&&e.media_signaling&&e.media_signaling.network_quality&&e.media_signaling.network_quality.transport&&"data-channel"===e.media_signaling.network_quality.transport.type&&this._setupDataTransportBackedNetworkQualityMonitor(e.media_signaling.network_quality.transport.label),!this._trackPriorityPromise&&e.media_signaling&&e.media_signaling.track_priority&&e.media_signaling.track_priority.transport&&"data-channel"===e.media_signaling.track_priority.transport.type&&this._setupTrackPrioritySignaling(e.media_signaling.track_priority.transport.label),!this._trackSwitchOffPromise&&e.media_signaling&&e.media_signaling.track_switch_off&&e.media_signaling.track_switch_off.transport&&"data-channel"===e.media_signaling.track_switch_off.transport.type&&this._setupTrackSwitchOffMonitor(e.media_signaling.track_switch_off.transport.label),this}},{key:"_setupTrackPrioritySignaling",value:function(e){var t=this;this._teardownTrackPrioritySignaling();var n=this._getTrackReceiver(e).then(function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");t._trackPriorityPromise===n&&(e.once("close",function(){return t._teardownTrackPrioritySignaling()}),t._trackPrioritySignaling=new t._TrackPrioritySignaling(e.toDataTransport()),[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.participants.values())).forEach(function(e){e.setTrackPrioritySignaling(t._trackPrioritySignaling)}))});this._trackPriorityPromise=n}},{key:"_setupTrackSwitchOff",value:function(e){var t=this;this._trackSwitchOffSignaling=e,e.on("updated",function(e,n){t.participants.forEach(function(t){t.tracks.forEach(function(t){e.includes(t.sid)&&t.setSwitchedOff(!0),n.includes(t.sid)&&t.setSwitchedOff(!1)})})})}},{key:"_setupTrackSwitchOffMonitor",value:function(e){var t=this;this._teardownTrackSwitchOff();var n=this._getTrackReceiver(e).then(function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");if(t._trackSwitchOffPromise===n){e.once("close",function(){return t._teardownTrackSwitchOff()});var r=new t._TrackSwitchOffSignaling(e.toDataTransport());t._setupTrackSwitchOff(r)}});this._trackSwitchOffPromise=n}},{key:"_setupDataTransportBackedDominantSpeakerSignaling",value:function(e){var t=this;this._teardownDominantSpeakerSignaling();var n=this._getTrackReceiver(e).then(function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");if(t._dominantSpeakerSignalingPromise===n){e.once("close",function(){return t._teardownDominantSpeakerSignaling()});var r=new t._DominantSpeakerSignaling(e.toDataTransport());t._setDominantSpeakerSignaling(r)}});this._dominantSpeakerSignalingPromise=n}},{key:"_setupDataTransportBackedNetworkQualityMonitor",value:function(e){var t=this,n=this;this._teardownNetworkQualityMonitor();var r=this._getTrackReceiver(e).then(function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");if(t._networkQualityMonitorPromise===r){e.once("close",function(){return t._teardownNetworkQualityMonitor()});var i=new t._NetworkQualitySignaling(e.toDataTransport(),n._networkQualityConfiguration),o=new t._NetworkQualityMonitor(t._peerConnectionManager,i);t._setNetworkQualityMonitor(o)}});this._networkQualityMonitorPromise=r}},{key:"_setDominantSpeakerSignaling",value:function(e){var t=this;this._dominantSpeakerSignaling=e,e.on("updated",function(){return t.setDominantSpeaker(e.loudestParticipantSid)})}},{key:"_setNetworkQualityMonitor",value:function(e){var t=this;this._networkQualityMonitor=e,e.on("updated",function(){"failed"!==t.iceConnectionState&&(t.localParticipant.setNetworkQualityLevel(e.level,e.levels),t.participants.forEach(function(t){var n=e.remoteLevels.get(t.sid);n&&t.setNetworkQualityLevel(n.level,n)}))}),e.start()}},{key:"_teardownDominantSpeakerSignaling",value:function(){this._dominantSpeakerSignalingPromise=null,this._dominantSpeakerSignaling=null}},{key:"_teardownNetworkQualityMonitor",value:function(){this._networkQualityMonitorPromise=null,this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)}},{key:"_teardownTrackPrioritySignaling",value:function(){this._trackPrioritySignaling=null,this._trackPriorityPromise=null,this.localParticipant.setTrackPrioritySignaling(null),this.participants.forEach(function(e){e.setTrackPrioritySignaling(null)})}},{key:"_teardownTrackSwitchOff",value:function(){this._trackSwitchOffSignaling=null,this._trackSwitchOffPromise=null}},{key:"getStats",value:function(){var e=this;return this._peerConnectionManager.getStats().then(function(t){return new Map(Array.from(t).map(function(t){var n=r(t,2),i=n[1];return[n[0],Object.assign({},i,{localAudioTrackStats:T(e,i.localAudioTrackStats),localVideoTrackStats:T(e,i.localVideoTrackStats),remoteAudioTrackStats:O(e,i.remoteAudioTrackStats),remoteVideoTrackStats:O(e,i.remoteVideoTrackStats)})]}))})}},{key:"connectionState",get:function(){return this._peerConnectionManager.connectionState}},{key:"signalingConnectionState",get:function(){return"syncing"===this._transport.state?"reconnecting":this._transport.state}},{key:"iceConnectionState",get:function(){return this._peerConnectionManager.iceConnectionState}}]),t}(u);function C(e,t){return t.reduce(function(t,n){var r=e.get(n.trackId);return r?[Object.assign({},n,{trackSid:r})].concat(t):t},[])}function T(e,t){return C(e._published,t)}function O(e,t){return C(new Map(Array.from(e._subscribed.entries()).map(function(e){var t=r(e,2);return[t[1],t[0]]})),t)}e.exports=S},"1RtY":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._handleTrackSignalingEvents(),r.once("disconnected",r._unsubscribeTracks.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"}},{key:"_addTrack",value:function(e,n,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addTrack",this).call(this,e,r)?(n._subscribed(e),this.emit("trackSubscribed",e,n),e):null}},{key:"_addTrackPublication",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addTrackPublication",this).call(this,e);return n?(this.emit("trackPublished",n),n):null}},{key:"_getTrackPublicationEvents",value:function(){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getTrackPublicationEvents",this).call(this)),[["subscriptionFailed","trackSubscriptionFailed"],["trackDisabled","trackDisabled"],["trackEnabled","trackEnabled"],["publishPriorityChanged","trackPublishPriorityChanged"],["trackSwitchedOff","trackSwitchedOff"],["trackSwitchedOn","trackSwitchedOn"]])}},{key:"_unsubscribeTracks",value:function(){var e=this;this.tracks.forEach(function(t){if(t.isSubscribed){var n=t.track;t._unsubscribe(),e.emit("trackUnsubscribed",n,t)}})}},{key:"_removeTrack",value:function(e,n,r){var o=this._tracks.get(r);return o?(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeTrack",this).call(this,o,r),n._unsubscribe(),this.emit("trackUnsubscribed",o,n),o):null}},{key:"_removeTrackPublication",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeTrackPublication",this).call(this,e);return n?(this.emit("trackUnpublished",n),n):null}}]),t}(n("TTpt"));e.exports=o},"1gqn":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"1pIY":function(e,t,n){"use strict";var r=n("2tF/");t.asyncScheduler=new(n("NTcF").AsyncScheduler)(r.AsyncAction),t.async=t.asyncScheduler},"2NPH":function(e,t,n){"use strict";var r=n("MCLT").inherits,i=n("uxdj");function o(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,o.prototype),n}r(o,i),e.exports=o},"2h1k":function(e,t,n){"use strict";var r={};Object.defineProperties(r,{getStats:{enumerable:!0,value:n("8QmE")},getUserMedia:{enumerable:!0,value:n("1/tH")},MediaStream:{enumerable:!0,value:n("qmcU")},MediaStreamTrack:{enumerable:!0,value:n("DsyS")},RTCIceCandidate:{enumerable:!0,value:n("CmYA")},RTCPeerConnection:{enumerable:!0,value:n("GcCu")},RTCSessionDescription:{enumerable:!0,value:n("HmUk")},version:{enumerable:!0,value:n("k/FX").version}}),e.exports=r},"2mUf":function(e,t,n){"use strict";e.exports=function e(t){var n=t.fractionLost,r=void 0===n?null:n,i=t.level,o=void 0===i?null:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{fractionLost:{value:r,enumerable:!0},level:{value:o,enumerable:!0}})}},"2qMH":function(e,t,n){"use strict";var r=n("Q1FS"),i=n("zB/H");t.scheduleArray=function(e,t){return new r.Observable(function(n){var r=new i.Subscription,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},"2tF/":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n("Dz+M").Action);t.AsyncAction=i},"2xLa":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("4o7n"),o=n("8WNc"),s=n("Ihm+"),a=function(e){function t(e,n,r,i,o,s,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return Object.defineProperties(c,{deltaPacketsLost:{enumerable:!0,value:i},deltaPacketsReceived:{enumerable:!0,value:o},fractionLost:{enumerable:!0,value:s},jitter:{enumerable:!0,value:a},phonyFractionLost:{enumerable:!0,value:o>0?i/o:0}}),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"summarize",value:function(){return{bitrate:this.bitrate,fractionLost:"number"==typeof this.fractionLost?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}}}],[{key:"of",value:function(e,n,r){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var i=(r.timestamp-n.timestamp)/1e3,o=i>0?(r.bytesReceived-n.bytesReceived)/i*8:0,s=Math.max(r.packetsLost-n.packetsLost,0);return new t(n.id,e,o,s,r.packetsReceived-n.packetsReceived,r.fractionLost,r.jitter)}},{key:"summarize",value:function(e){var t=e.map(function(e){return e.summarize()});return{bitrate:s(t.map(function(e){return e.bitrate})),fractionLost:i(t.map(function(e){return e.fractionLost})),jitter:i(t.map(function(e){return e.jitter}))}}}]),t}(o);e.exports=a},"31MG":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n("BWbm").guessBrowser,s=n("d6fC"),a=n("O22K"),c=n("F/ro"),l=n("ghd6"),u=n("5wwa").MediaConnectionError,h="firefox"===o(),d=function(e){function t(e,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),c=(i=Object.assign({audioContextFactory:h?n("/+gY"):null,PeerConnectionV2:s},i)).audioContextFactory?i.audioContextFactory.getOrCreate(o):null,u=c?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(o,{_audioContextFactory:{value:i.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:l.defer()},_connectionState:{value:"new",writable:!0},_dummyAudioTrackSender:{value:c?new a(f(c)):null},_encodingParameters:{value:e},_iceConnectionState:{writable:!0,value:"new"},_dataTrackSenders:{writable:!0,value:new Set},_lastConnectionState:{value:"new",writable:!0},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:u},_peerConnections:{value:new Map},_preferredCodecs:{value:r},_sessionTimeout:{value:null,writable:!0},_PeerConnectionV2:{value:i.PeerConnectionV2}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_closeAbsentPeerConnections",value:function(e){var t=new Set(e.map(function(e){return e.id}));return this._peerConnections.forEach(function(e){t.has(e.id)||e._close()}),this}},{key:"_getConfiguration",value:function(){return this._configurationDeferred.promise}},{key:"_getOrCreate",value:function(e,t){var n=this,r=this,i=this._peerConnections.get(e);if(!i){var o=this._PeerConnectionV2,s=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},this._sessionTimeout?{sessionTimeout:this._sessionTimeout}:{},t);try{i=new o(e,this._encodingParameters,this._preferredCodecs,s)}catch(a){throw new u}this._peerConnections.set(i.id,i),i.on("candidates",this.queue.bind(this,"candidates")),i.on("description",this.queue.bind(this,"description")),i.on("trackAdded",this.queue.bind(this,"trackAdded")),i.on("stateChanged",function e(t){"closed"===t&&(i.removeListener("stateChanged",e),r._peerConnections.delete(i.id),r._closedPeerConnectionIds.add(i.id),_(r),b(r))}),i.on("connectionStateChanged",function(){return _(n)}),i.on("iceConnectionStateChanged",function(){return b(n)}),this._dataTrackSenders.forEach(i.addDataTrackSender,i),this._mediaTrackSenders.forEach(i.addMediaTrackSender,i),b(this)}return i}},{key:"close",value:function(){return this._peerConnections.forEach(function(e){e.close()}),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),b(this),this}},{key:"createAndOffer",value:function(){var e=this;return this._getConfiguration().then(function(t){var n=void 0;do{n=l.makeUUID()}while(e._peerConnections.has(n));return e._getOrCreate(n,t)}).then(function(e){return e.offer()}).then(function(){return e})}},{key:"getTrackReceivers",value:function(){return l.flatMap(this._peerConnections,function(e){return e.getTrackReceivers()})}},{key:"getStates",value:function(){var e=[];return this._peerConnections.forEach(function(t){var n=t.getState();n&&e.push(n)}),e}},{key:"setConfiguration",value:function(e){return this._configuration&&(this._configurationDeferred=l.defer(),this._peerConnections.forEach(function(t){t.setConfiguration(e)})),this._configuration=e,this._configurationDeferred.resolve(e),this}},{key:"setIceReconnectTimeout",value:function(e){return null===this._sessionTimeout&&(this._peerConnections.forEach(function(t){t.setIceReconnectTimeout(e)}),this._sessionTimeout=e),this}},{key:"setTrackSenders",value:function(e){var t=new Set(e.filter(function(e){return"data"===e.kind})),n=new Set(e.filter(function(e){return e&&("audio"===e.kind||"video"===e.kind)})),r=function(e,t,n){return{data:p(e,t),media:g(e,n)}}(this,t,n);return this._dataTrackSenders=t,this._mediaTrackSenders=n,function(e,t){(t.data.add.size||t.data.remove.size||t.media.add.size||t.media.remove.size)&&e._peerConnections.forEach(function(e){t.data.remove.forEach(e.removeDataTrackSender,e),t.media.remove.forEach(e.removeMediaTrackSender,e),t.data.add.forEach(e.addDataTrackSender,e),t.media.add.forEach(e.addMediaTrackSender,e),(t.media.add.size||t.media.remove.size||t.data.add.size&&!e.isApplicationSectionNegotiated)&&e.offer()})}(this,r),this}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n&&this._closeAbsentPeerConnections(e),this._getConfiguration().then(function(n){return Promise.all(e.map(function(e){return t._closedPeerConnectionIds.has(e.id)?null:t._getOrCreate(e.id,n).update(e)}))}).then(function(){return t})}},{key:"getStats",value:function(){var e=Array.from(this._peerConnections.values());return Promise.all(e.map(function(e){return e.getStats().then(function(t){return[e.id,t]})})).then(function(e){return new Map(e)})}},{key:"connectionState",get:function(){return this._connectionState}},{key:"iceConnectionState",get:function(){return this._iceConnectionState}}]),t}(c);function f(e){return e.createMediaStreamDestination().stream.getAudioTracks()[0]}function p(e,t){return{add:l.difference(t,e._dataTrackSenders),remove:l.difference(e._dataTrackSenders,t)}}function g(e,t){return{add:l.difference(t,e._mediaTrackSenders),remove:l.difference(e._mediaTrackSenders,t)}}var m={new:0,checking:1,connecting:2,connected:3,completed:4,disconnected:-1,failed:-2,closed:-3},y=void 0;function v(e){return e.length?(y=y||Object.keys(m).reduce(function(e,t){return Object.assign(e,(i=t,(r=m[t])in(n={})?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n));var n,r,i},{}),e.reduce(function(e,t){return y[Math.max(m[e],m[t])]})):"new"}function b(e){e._lastIceConnectionState=e.iceConnectionState,e._iceConnectionState=v([].concat(i(e._peerConnections.values())).map(function(e){return e.iceConnectionState})),e.iceConnectionState!==e._lastIceConnectionState&&e.emit("iceConnectionStateChanged")}function _(e){e._lastConnectionState=e.connectionState,e._connectionState=v([].concat(i(e._peerConnections.values())).map(function(e){return e.connectionState})),e.connectionState!==e._lastConnectionState&&e.emit("connectionStateChanged")}e.exports=d},"3h4Y":function(e,t,n){"use strict";var r=n("VR5W"),i=r.LocalAudioTrack,o=r.LocalDataTrack,s=r.LocalVideoTrack,a=n("iqXr").version,c={};Object.defineProperties(c,{connect:{enumerable:!0,value:n("9/wP")},createLocalAudioTrack:{enumerable:!0,value:n("M1q1").audio},createLocalTracks:{enumerable:!0,value:n("Qvpb")},createLocalVideoTrack:{enumerable:!0,value:n("M1q1").video},isSupported:{enumerable:!0,value:n("t472")()},LocalAudioTrack:{enumerable:!0,value:i},LocalDataTrack:{enumerable:!0,value:o},LocalVideoTrack:{enumerable:!0,value:s},Logger:{enumerable:!0,value:n("cmf6")},version:{enumerable:!0,value:a}}),e.exports=c},"3oWx":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_publicationsToTrackSenders:{value:new Map},_trackSendersToPublications:{value:new Map}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addTrack",value:function(e,n,r){var o=this._createLocalTrackPublicationSignaling(e,n,r);return this._trackSendersToPublications.set(e,o),this._publicationsToTrackSenders.set(o,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addTrack",this).call(this,o),this}},{key:"getPublication",value:function(e){return this._trackSendersToPublications.get(e)||null}},{key:"getSender",value:function(e){return this._publicationsToTrackSenders.get(e)||null}},{key:"removeTrack",value:function(e){var n=this._trackSendersToPublications.get(e);return n?(this._trackSendersToPublications.delete(e),this._publicationsToTrackSenders.delete(n),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeTrack",this).call(this,n)&&n.stop(),n):null}}]),t}(n("EYe3"));e.exports=o},"3sVZ":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=n("HsAx"),s=n("xVU0"),a=function(e){function t(e,n,r){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.sid,e.identity));return r=Object.assign({RemoteTrackPublicationV2:s},r),Object.defineProperties(a,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:r.RemoteTrackPublicationV2},_getTrackReceiver:{value:n},revision:{enumerable:!0,get:function(){return this._revision}}}),o=a.update(e),i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_getOrCreateTrack",value:function(e){var t=this._RemoteTrackPublicationV2,n=this.tracks.get(e.sid);return n||(n=new t(e),this.addTrack(n)),n}},{key:"update",value:function(e){var t=this;if(null!==this.revision&&e.revision<=this.revision)return this;this._revision=e.revision;var n=new Set;switch(e.tracks.forEach(function(e){var r=t._getOrCreateTrack(e);r.update(e),n.add(r)}),this.tracks.forEach(function(e){n.has(e)||t.removeTrack(e)}),e.state){case"disconnected":this.disconnect();break;case"reconnecting":this.reconnecting();break;case"connected":this.connect(this.sid,this.identity)}return this}}]),t}(o);e.exports=a},"4o7n":function(e,t,n){"use strict";e.exports=function(e){return(e=e.filter(function(e){return"number"==typeof e})).length<1?void 0:e.reduce(function(e,t){return t+e})/e.length}},"5UJR":function(e,t,n){"use strict";var r=n("NSCw"),i=n("2mUf"),o=n("q6IO");e.exports=function e(t){var n=t.bandwidth,s=void 0===n?null:n,a=t.fractionLost,c=void 0===a?null:a,l=t.latency,u=void 0===l?null:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{bandwidth:{value:s?new r(s):null,enumerable:!0},fractionLost:{value:c?new i(c):null,enumerable:!0},latency:{value:u?new o(u):null,enumerable:!0}})}},"5wwa":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("SAu+"),a={};t.createTwilioError=function(e,t){return t="string"==typeof t&&t?t:"Unknown error",a[e="number"==typeof e?e:0]?new a[e]:new s(e,t)};var c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20101,"Invalid Access Token"))}return o(t,e),t}(s);t.AccessTokenInvalidError=c,Object.defineProperty(a,20101,{value:c});var l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20102,"Invalid Access Token header"))}return o(t,e),t}(s);t.AccessTokenHeaderInvalidError=l,Object.defineProperty(a,20102,{value:l});var u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20103,"Invalid Access Token issuer/subject"))}return o(t,e),t}(s);t.AccessTokenIssuerInvalidError=u,Object.defineProperty(a,20103,{value:u});var h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20104,"Access Token expired or expiration date invalid"))}return o(t,e),t}(s);t.AccessTokenExpiredError=h,Object.defineProperty(a,20104,{value:h});var d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20105,"Access Token not yet valid"))}return o(t,e),t}(s);t.AccessTokenNotYetValidError=d,Object.defineProperty(a,20105,{value:d});var f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20106,"Invalid Access Token grants"))}return o(t,e),t}(s);t.AccessTokenGrantsInvalidError=f,Object.defineProperty(a,20106,{value:f});var p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20107,"Invalid Access Token signature"))}return o(t,e),t}(s);t.AccessTokenSignatureInvalidError=p,Object.defineProperty(a,20107,{value:p});var g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53e3,"Signaling connection error"))}return o(t,e),t}(s);t.SignalingConnectionError=g,Object.defineProperty(a,53e3,{value:g});var m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53001,"Signaling connection disconnected"))}return o(t,e),t}(s);t.SignalingConnectionDisconnectedError=m,Object.defineProperty(a,53001,{value:m});var y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53002,"Signaling connection timed out"))}return o(t,e),t}(s);t.SignalingConnectionTimeoutError=y,Object.defineProperty(a,53002,{value:y});var v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53003,"Client received an invalid signaling message"))}return o(t,e),t}(s);t.SignalingIncomingMessageInvalidError=v,Object.defineProperty(a,53003,{value:v});var b=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53004,"Client sent an invalid signaling message"))}return o(t,e),t}(s);t.SignalingOutgoingMessageInvalidError=b,Object.defineProperty(a,53004,{value:b});var _=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53006,"Video server is busy"))}return o(t,e),t}(s);t.SignalingServerBusyError=_,Object.defineProperty(a,53006,{value:_});var w=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53100,"Room name is invalid"))}return o(t,e),t}(s);t.RoomNameInvalidError=w,Object.defineProperty(a,53100,{value:w});var k=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53101,"Room name is too long"))}return o(t,e),t}(s);t.RoomNameTooLongError=k,Object.defineProperty(a,53101,{value:k});var S=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53102,"Room name contains invalid characters"))}return o(t,e),t}(s);t.RoomNameCharsInvalidError=S,Object.defineProperty(a,53102,{value:S});var C=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53103,"Unable to create Room"))}return o(t,e),t}(s);t.RoomCreateFailedError=C,Object.defineProperty(a,53103,{value:C});var T=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53104,"Unable to connect to Room"))}return o(t,e),t}(s);t.RoomConnectFailedError=T,Object.defineProperty(a,53104,{value:T});var O=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53105,"Room contains too many Participants"))}return o(t,e),t}(s);t.RoomMaxParticipantsExceededError=O,Object.defineProperty(a,53105,{value:O});var E=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53106,"Room not found"))}return o(t,e),t}(s);t.RoomNotFoundError=E,Object.defineProperty(a,53106,{value:E});var P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53107,"MaxParticipants is out of range"))}return o(t,e),t}(s);t.RoomMaxParticipantsOutOfRangeError=P,Object.defineProperty(a,53107,{value:P});var x=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53108,"RoomType is not valid"))}return o(t,e),t}(s);t.RoomTypeInvalidError=x,Object.defineProperty(a,53108,{value:x});var R=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53109,"Timeout is out of range"))}return o(t,e),t}(s);t.RoomTimeoutOutOfRangeError=R,Object.defineProperty(a,53109,{value:R});var j=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53110,"StatusCallbackMethod is invalid"))}return o(t,e),t}(s);t.RoomStatusCallbackMethodInvalidError=j,Object.defineProperty(a,53110,{value:j});var I=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53111,"StatusCallback is invalid"))}return o(t,e),t}(s);t.RoomStatusCallbackInvalidError=I,Object.defineProperty(a,53111,{value:I});var A=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53112,"Status is invalid"))}return o(t,e),t}(s);t.RoomStatusInvalidError=A,Object.defineProperty(a,53112,{value:A});var L=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53113,"Room exists"))}return o(t,e),t}(s);t.RoomRoomExistsError=L,Object.defineProperty(a,53113,{value:L});var D=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53114,"Room creation parameter(s) incompatible with the Room type"))}return o(t,e),t}(s);t.RoomInvalidParametersError=D,Object.defineProperty(a,53114,{value:D});var M=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53115,"MediaRegion is invalid"))}return o(t,e),t}(s);t.RoomMediaRegionInvalidError=M,Object.defineProperty(a,53115,{value:M});var N=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53116,"There are no media servers available in the MediaRegion"))}return o(t,e),t}(s);t.RoomMediaRegionUnavailableError=N,Object.defineProperty(a,53116,{value:N});var F=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53117,"The subscription operation requested is not supported for the Room type"))}return o(t,e),t}(s);t.RoomSubscriptionOperationNotSupportedError=F,Object.defineProperty(a,53117,{value:F});var V=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53118,"Room completed"))}return o(t,e),t}(s);t.RoomCompletedError=V,Object.defineProperty(a,53118,{value:V});var U=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53200,"Participant identity is invalid"))}return o(t,e),t}(s);t.ParticipantIdentityInvalidError=U,Object.defineProperty(a,53200,{value:U});var B=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53201,"Participant identity is too long"))}return o(t,e),t}(s);t.ParticipantIdentityTooLongError=B,Object.defineProperty(a,53201,{value:B});var H=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53202,"Participant identity contains invalid characters"))}return o(t,e),t}(s);t.ParticipantIdentityCharsInvalidError=H,Object.defineProperty(a,53202,{value:H});var q=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53203,"Participant has too many Tracks"))}return o(t,e),t}(s);t.ParticipantMaxTracksExceededError=q,Object.defineProperty(a,53203,{value:q});var z=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53204,"Participant not found"))}return o(t,e),t}(s);t.ParticipantNotFoundError=z,Object.defineProperty(a,53204,{value:z});var W=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53205,"Participant disconnected because of duplicate identity"))}return o(t,e),t}(s);t.ParticipantDuplicateIdentityError=W,Object.defineProperty(a,53205,{value:W});var $=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53300,"Track is invalid"))}return o(t,e),t}(s);t.TrackInvalidError=$,Object.defineProperty(a,53300,{value:$});var G=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53301,"Track name is invalid"))}return o(t,e),t}(s);t.TrackNameInvalidError=G,Object.defineProperty(a,53301,{value:G});var Q=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53302,"Track name is too long"))}return o(t,e),t}(s);t.TrackNameTooLongError=Q,Object.defineProperty(a,53302,{value:Q});var K=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53303,"Track name contains invalid characters"))}return o(t,e),t}(s);t.TrackNameCharsInvalidError=K,Object.defineProperty(a,53303,{value:K});var J=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53304,"Track name is duplicated"))}return o(t,e),t}(s);t.TrackNameIsDuplicatedError=J,Object.defineProperty(a,53304,{value:J});var Y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53305,"The server has reached capacity and cannot fulfill this request"))}return o(t,e),t}(s);t.TrackServerTrackCapacityReachedError=Y,Object.defineProperty(a,53305,{value:Y});var Z=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53400,"Client is unable to create or apply a local media description"))}return o(t,e),t}(s);t.MediaClientLocalDescFailedError=Z,Object.defineProperty(a,53400,{value:Z});var X=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53401,"Server is unable to create or apply a local media description"))}return o(t,e),t}(s);t.MediaServerLocalDescFailedError=X,Object.defineProperty(a,53401,{value:X});var ee=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53402,"Client is unable to apply a remote media description"))}return o(t,e),t}(s);t.MediaClientRemoteDescFailedError=ee,Object.defineProperty(a,53402,{value:ee});var te=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53403,"Server is unable to apply a remote media description"))}return o(t,e),t}(s);t.MediaServerRemoteDescFailedError=te,Object.defineProperty(a,53403,{value:te});var ne=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53404,"No supported codec"))}return o(t,e),t}(s);t.MediaNoSupportedCodecError=ne,Object.defineProperty(a,53404,{value:ne});var re=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53405,"Media connection failed or Media activity ceased"))}return o(t,e),t}(s);t.MediaConnectionError=re,Object.defineProperty(a,53405,{value:re});var ie=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53407,"Media connection failed due to DTLS handshake failure"))}return o(t,e),t}(s);t.MediaDTLSTransportFailedError=ie,Object.defineProperty(a,53407,{value:ie});var oe=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53500,"Unable to acquire configuration"))}return o(t,e),t}(s);t.ConfigurationAcquireFailedError=oe,Object.defineProperty(a,53500,{value:oe});var se=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53501,"Unable to acquire TURN credentials"))}return o(t,e),t}(s);t.ConfigurationAcquireTurnFailedError=se,Object.defineProperty(a,53501,{value:se})},"6frX":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=n("wxsB"),s=function(e){function t(e,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"}},{key:"setPriority",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPriority",this).call(this,e)}}]),t}(n("A/ij")(o));e.exports=s},"6ltx":function(e,t,n){"use strict";var r=n("j4sL"),i=n("XI6i");e.exports=function e(t){var n=t.level,o=t.audio,s=t.video;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{level:{value:n,enumerable:!0},audio:{value:o?new r(o):null,enumerable:!0},video:{value:s?new i(s):null,enumerable:!0}})}},"6vXP":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(n("+EQa"));e.exports=i},"7C7v":function(e,t,n){"use strict";var r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("5UJR"));e.exports=r},"7bK7":function(e,t,n){"use strict";var r=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("uBG5"));e.exports=r},"89tg":function(e,t,n){var r=n("MCLT"),i=n("zMHY"),o=n("kThA");function s(e){o.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay(),this.factor_=s.DEFAULT_FACTOR,e&&void 0!==e.factor&&(i.checkArgument(e.factor>1,"Exponential factor should be greater than 1 but got %s.",e.factor),this.factor_=e.factor)}r.inherits(s,o),s.DEFAULT_FACTOR=2,s.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=this.backoffDelay_*this.factor_,this.backoffDelay_},s.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},e.exports=s},"8QmE":function(e,t,n){"use strict";var r=n("BWbm").flatMap,i=n("BWbm").guessBrowser,o=n("BWbm").guessBrowserVersion,s=n("iWhl").getSdpFormat,a=i(),c=o(),l="chrome"===a,u="firefox"===a,h="safari"===a,d=l?c.major:null;function f(e){var t=Array.from(e.values()).find(function(e){return"candidate-pair"===e.type&&e.nominated});if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],o=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),s=n?o.reduce(function(e,t){return e[t.key]=typeof n[t.key]===t.type?n[t.key]:"deleted"!==t.key&&null,e},{}):null,a=r?i.reduce(function(e,t){return e[t.key]=typeof r[t.key]===t.type?r[t.key]:null,e},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string",fixup:function(e){return"inprogress"===e?"in-progress":e}},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(e,n){return e[n.key]=typeof t[n.key]===n.type?n.fixup?n.fixup(t[n.key]):t[n.key]:null,e},{localCandidate:s,remoteCandidate:a})}function p(e){var t=Array.from(e.values()).find(function(e){return"candidate-pair"===e.type&&e.nominated});if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],o=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),s={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},a=n?o.reduce(function(e,t){var r=t.ffKeys&&t.ffKeys.find(function(e){return e in n})||t.key;return e[t.key]=typeof n[r]===t.type?"candidateType"===r&&s[n[r]]||n[r]:"deleted"!==r&&null,e},{}):null,c=r?i.reduce(function(e,t){var n=t.ffKeys&&t.ffKeys.find(function(e){return e in r})||t.key;return e[t.key]=typeof r[n]===t.type?"candidateType"===n&&s[r[n]]||r[n]:null,e},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(e,n){return e[n.key]=typeof t[n.key]===n.type?t[n.key]:null,e},{localCandidate:a,remoteCandidate:c})}function g(e,t,n){var i="local"===n?"getSenders":"getReceivers";return e[i]?e[i]().map(function(e){return e.track}).filter(function(e){return e&&e.kind===t}):r(e["local"===n?"getLocalStreams":"getRemoteStreams"](),function(e){return e["audio"===t?"getAudioTracks":"getVideoTracks"]()})}function m(e,t){return new Promise(function(n,r){d&&d<67?e.getStats(function(e){n([y(e,t)])},null,r):e.getStats(t).then(function(e){n(function(e){var t=null,n=[],r=null,i=null,o=null,s=null;e.forEach(function(e){switch(e.type){case"inbound-rtp":t=e;break;case"outbound-rtp":n.push(e);break;case"track":o=e;break;case"codec":s=e;break;case"remote-inbound-rtp":r=e;break;case"remote-outbound-rtp":i=e}});var a=o&&o.remoteSource,c=[],l=a?i:r;return(a?[t]:n).forEach(function(e){var t={},n=[e,o,s,l&&l.ssrc===e.ssrc?l:null];function r(e){var t=n.find(function(t){return t&&void 0!==t[e]})||null;return t?t[e]:null}var i=r("ssrc");"number"==typeof i&&(t.ssrc=String(i));var u=r("timestamp");t.timestamp=Math.round(u);var h=r("mimeType");"string"==typeof h&&(h=h.split("/"),t.codecName=h[h.length-1]);var d=r("roundTripTime");"number"==typeof d&&(t.roundTripTime=Math.round(1e3*d));var f=r("jitter");"number"==typeof f&&(t.jitter=Math.round(1e3*f));var p=r("frameWidth");"number"==typeof p&&(a?t.frameWidthReceived=p:t.frameWidthSent=p);var g=r("frameHeight");"number"==typeof g&&(a?t.frameHeightReceived=g:t.frameHeightSent=g);var m=r("framesPerSecond");"number"==typeof m&&(t.frameRateSent=m);var y=r("bytesReceived");"number"==typeof y&&(t.bytesReceived=y);var v=r("bytesSent");"number"==typeof v&&(t.bytesSent=v);var b=r("packetsLost");"number"==typeof b&&(t.packetsLost=b);var _=r("packetsReceived");"number"==typeof _&&(t.packetsReceived=_);var w=r("packetsSent");"number"==typeof w&&(t.packetsSent=w);var k=r("audioLevel");"number"==typeof k&&(k=Math.round(32767*k),a?t.audioOutputLevel=k:t.audioInputLevel=k),c.push(t)}),c}(e))},r)})}function y(e,t){var n=e.result().find(function(e){return"ssrc"===e.type&&e.stat("googTrackId")===t.id}),r={};return n&&(r.timestamp=Math.round(Number(n.timestamp)),r=n.names().reduce(function(e,t){switch(t){case"googCodecName":e.codecName=n.stat(t);break;case"googRtt":e.roundTripTime=Number(n.stat(t));break;case"googJitterReceived":e.jitter=Number(n.stat(t));break;case"googFrameWidthInput":e.frameWidthInput=Number(n.stat(t));break;case"googFrameHeightInput":e.frameHeightInput=Number(n.stat(t));break;case"googFrameWidthSent":e.frameWidthSent=Number(n.stat(t));break;case"googFrameHeightSent":e.frameHeightSent=Number(n.stat(t));break;case"googFrameWidthReceived":e.frameWidthReceived=Number(n.stat(t));break;case"googFrameHeightReceived":e.frameHeightReceived=Number(n.stat(t));break;case"googFrameRateInput":e.frameRateInput=Number(n.stat(t));break;case"googFrameRateSent":e.frameRateSent=Number(n.stat(t));break;case"googFrameRateReceived":e.frameRateReceived=Number(n.stat(t));break;case"ssrc":e[t]=n.stat(t);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":e[t]=Number(n.stat(t))}return e},r)),r}function v(e,t){e=e||new Map;var n=null,r=null;e.forEach(function(t){if(!t.isRemote)switch(t.type){case"inbound-rtp":n=t,r=e.get(t.remoteId);break;case"outbound-rtp":r=t,n=e.get(t.remoteId)}});var i=t?n:r,o=t?r:n;function s(e){return i&&void 0!==i[e]?i[e]:o&&void 0!==o[e]?o[e]:null}var a={},c=s("timestamp");a.timestamp=Math.round(c);var l=s("ssrc");"number"==typeof l&&(a.ssrc=String(l));var u=s("bytesSent");"number"==typeof u&&(a.bytesSent=u);var h=s("packetsLost");"number"==typeof h&&(a.packetsLost=h);var d=s("packetsSent");"number"==typeof d&&(a.packetsSent=d);var f=s("roundTripTime");"number"==typeof f&&(a.roundTripTime=Math.round(1e3*f));var p=s("jitter");"number"==typeof p&&(a.jitter=Math.round(1e3*p));var g=s("framerateMean");"number"==typeof g&&(a.frameRateSent=Math.round(g));var m=s("bytesReceived");"number"==typeof m&&(a.bytesReceived=m);var y=s("packetsReceived");"number"==typeof y&&(a.packetsReceived=y);var v=s("framerateMean");return"number"==typeof v&&(a.frameRateReceived=Math.round(v)),a}e.exports=function(e,t){return e&&"function"==typeof e.getStats?function(e,t){var n=g(e,"audio","local"),i=g(e,"video","local"),o=g(e,"audio"),a=g(e,"video"),c={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},d=r([[n,"localAudioTrackStats",!1],[i,"localVideoTrackStats",!1],[o,"remoteAudioTrackStats",!0],[a,"remoteVideoTrackStats",!0]],function(n){var r=n[1],i=n[2];return n[0].map(function(n){return function(e,t,n){return void 0!==(n=n||{}).testForChrome||l?m(e,t):void 0!==n.testForFirefox||u?function(e,t,n){return new Promise(function(r,i){e.getStats(t).then(function(e){r([v(e,n)])},i)})}(e,t,n.isRemote):void 0!==n.testForSafari||h?void 0!==n.testForSafari||"unified"===s()?m(e,t):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" "))):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,n,Object.assign({isRemote:i},t)).then(function(e){e.forEach(function(e){e.trackId=n.id,c[r].push(e)})})})});return Promise.all(d).then(function(){return function(e,t){return void 0!==(t=t||{}).testForChrome||l||void 0!==t.testForSafari||h?e.getStats().then(f):void 0!==t.testForFirefox||u?e.getStats().then(p):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,t)}).then(function(e){return c.activeIceCandidatePair=e,c})}(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}},"8WNc":function(e,t,n){"use strict";e.exports=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{id:{enumerable:!0,value:t},trackId:{enumerable:!0,value:n},bitrate:{enumerable:!0,value:r}})}},"8vSI":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(n("+EQa"));e.exports=i},"8yKx":function(e,t,n){"use strict";var r=n("+qE3").EventEmitter;function i(){Object.defineProperties(this,{_eventEmitter:{value:new r}})}i.prototype.dispatchEvent=function(e){return this._eventEmitter.emit(e.type,e)},i.prototype.addEventListener=function(){return this._eventEmitter.addListener.apply(this._eventEmitter,arguments)},i.prototype.removeEventListener=function(){return this._eventEmitter.removeListener.apply(this._eventEmitter,arguments)},e.exports=i},"9/wP":function(e,t,n){"use strict";var r=n("2h1k").MediaStreamTrack,i=n("BWbm"),o=i.guessBrowser,s=i.guessBrowserVersion,a=n("/kv6"),c=n("Qvpb"),l=n("o2QH"),u=n("MItk"),h=n("VR5W"),d=h.LocalAudioTrack,f=h.LocalDataTrack,p=h.LocalVideoTrack,g=n("nj3X"),m=n("+kOg"),y=n("wAda"),v=n("ghd6"),b=v.asLocalTrack,_=v.buildLogLevels,w=v.filterObject,k=v.isNonArrayObject,S=n("xwWy"),C=S.DEFAULT_ENVIRONMENT,T=S.DEFAULT_LOG_LEVEL,O=S.DEFAULT_LOGGER_NAME,E=S.DEFAULT_REALM,P=S.DEFAULT_REGION,x=S.WS_SERVER,R=S.typeErrors,j=n("sYJf"),I=n("VgEY"),A=n("S3Hu"),L=n("N7NK").validateBandwidthProfile,D="safari"===o()&&s(),M=0,N=!1,F=!1;if(D){var V=D.major;F=V<12||12===V&&D.minor<1}var U=new Set([{didWarn:!1,shouldDelete:!0,name:"abortOnIceServersTimeout"},{didWarn:!1,shouldDelete:!0,name:"dscpTagging",newName:"enableDscp"},{didWarn:!1,shouldDelete:!0,name:"iceServersTimeout"},{didWarn:!1,shouldDelete:!1,name:"eventListener",newName:"Video.Logger"},{didWarn:!1,shouldDelete:!1,name:"logLevel",newName:"Video.Logger"}]);function B(e,t,n,r,i,o){var s=e.createLocalParticipantSignaling(n,r);return t.debug("Creating a new LocalParticipant:",s),new i.LocalParticipant(s,o,i)}function H(e,t,n){var r=new m(t,n,e),i=e.log;return i.debug("Creating a new Room:",r),n.on("stateChanged",function e(t){"disconnected"===t&&(i.info("Disconnected from Room:",r.toString()),n.removeListener("stateChanged",e))}),r}function q(e,t,n,r,i,o){return t.log.debug("Creating a new RoomSignaling"),n.connect(o._signaling,e,r,i,t)}function z(e,t){var n=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",e)),e.createLocalTracks(e).then(function(r){var i=t(r);return i.catch(function(){e.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),r.forEach(function(e){e.stop()}))}),i})}function W(e){var t="string"==typeof e?{codec:e}:e;switch(t.codec.toLowerCase()){case"opus":return Object.assign({dtx:!0},t);case"vp8":return Object.assign({simulcast:!1},t);default:return t}}e.exports=function(e,t){if(void 0===t&&(t={}),!k(t))return j.reject(R.INVALID_TYPE("options","object"));var n=t.Log||A,i=t.loggerName||O,o=t.logLevel||T,s=_(o),h="[connect #"+ ++M+"]",m=void 0;try{m=new n("default",h,s,i)}catch(V){return j.reject(V)}!function(e,t){U.forEach(function(n){var r=n.didWarn,i=n.name,o=n.newName,s=n.shouldDelete;i in e&&void 0!==e[i]&&(o&&s&&(e[o]=e[i]),s&&delete e[i],r||["error","off"].includes(t.level)||(t.warn('The ConnectOptions "'+i+'" is '+(o?'deprecated and scheduled for removal. Please use "'+o+'" instead.':"no longer applicable and will be ignored.")),n.didWarn=!0))})}(t,m),t=Object.assign({automaticSubscription:!0,createLocalTracks:c,dominantSpeaker:!1,enableDscp:!1,environment:C,eventListener:null,insights:!0,LocalAudioTrack:d,LocalDataTrack:f,LocalParticipant:u,LocalVideoTrack:p,Log:n,MediaStreamTrack:r,loggerName:i,logLevel:o,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkMonitor:!0,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:E,region:P,signaling:y},w(t));var v=x(t.environment,t.region),S=new I(Date.now(),m,t.eventListener);if((t=Object.assign({eventObserver:S,wsServer:v},t)).log=m,F&&!N&&"error"!==m.logLevel&&"off"!==m.logLevel&&(N=!0,m.warn(["Support for Safari 12.0 and below is limited because it does not support VP8.","This means you may experience codec issues in Group Rooms. You may also","experience codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. For more information, please","refer to this guide: https://www.twilio.com/docs/video/javascript-v2-developing-safari-11"].join(" "))),"string"!=typeof e)return j.reject(R.INVALID_TYPE("token","string"));var D=Object.assign({},t);if(delete D.name,"tracks"in t){if(!Array.isArray(t.tracks))return j.reject(R.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map(function(e){return b(e,D)})}catch(V){return j.reject(V)}}var V=L(t.bandwidthProfile);if(V)return j.reject(V);var $=new(0,t.signaling)(t.wsServer,t);m.info("Connecting to a Room"),m.debug("Options:",t);var G=new l({maxAudioBitrate:t.maxAudioBitrate,maxVideoBitrate:t.maxVideoBitrate}),Q={audio:t.preferredAudioCodecs.map(W),video:t.preferredVideoCodecs.map(W)},K=new g(k(t.networkQuality)?t.networkQuality:{}),J=a(z.bind(null,t),B.bind(null,$,m,G,K,t),q.bind(null,e,t,$,G,Q),H.bind(null,t));return J.then(function(e){return m.info("Connected to Room:",e.toString()),m.info("Room name:",e.name),m.debug("Room:",e),e},function(e){J._isCanceled?m.info("Attempt to connect to a Room was canceled"):m.info("Error while connecting to a Room:",e)}),J}},"9AGB":function(e,t,n){"use strict";var r=n("yoF8");function i(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},t.pipeFromArray=i},"9FmL":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0};function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(r,{dimensions:{enumerable:!0,value:{width:null,height:null}}}),o(r,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_initialize",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initialize",this).call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){a(e,e._dummyEl)&&(e.dimensions.width=e._dummyEl.videoWidth,e.dimensions.height=e._dummyEl.videoHeight)},this._dummyEl.onresize=function(){a(e,e._dummyEl)&&(e.dimensions.width=e._dummyEl.videoWidth,e.dimensions.height=e._dummyEl.videoHeight,e.isStarted&&(e._log.debug("Dimensions changed:",e.dimensions),e.emit(t.DIMENSIONS_CHANGED,e)))})}},{key:"_start",value:function(e){return this.dimensions.width=e.videoWidth,this.dimensions.height=e.videoHeight,this._log.debug("Dimensions:",this.dimensions),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_start",this).call(this,e)}},{key:"attach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).apply(this,arguments)}},{key:"detach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detach",this).apply(this,arguments)}}]),t}(n("B32u"));function a(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}s.DIMENSIONS_CHANGED="dimensionsChanged",e.exports=s},"9dY8":function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n("ghd6").difference,o=n("ghd6").flatMap,s=n("qRNy"),a={0:"PCMU",8:"PCMA"};function c(e,t){return t?"\r\nb="+e+":"+("AS"===e?Math.round((t+16e3)/950):t):null}function l(e){return Array.from(h(e)).reduce(function(e,t){var n=t[0],r=t[1],i=e.get(r)||[];return e.set(r,i.concat(n))},new Map)}function u(e){return p(e).reduce(function(e,t){var n=f(t);return n?e.set(n,t):e},new Map)}function h(e){return g(e).reduce(function(t,n){var r=new RegExp("a=rtpmap:"+n+" ([^/]+)"),i=e.match(r),o=i?i[1].toLowerCase():a[n]?a[n].toLowerCase():"";return t.set(n,o)},new Map)}function d(e,t){var n=new RegExp("^a=fmtp:"+e+" (.+)$","m"),i=t.match(n);return i&&i[1].split(";").reduce(function(e,t){var n=t.split("="),i=r(n,2),o=i[1];return e[i[0]]=isNaN(o)?o:parseInt(o,10),e},{})}function f(e){var t=e.match(/^a=mid:(.+)$/m);return t&&t[1]}function p(e,t,n){return e.replace(/\r\n\r\n$/,"\r\n").split("\r\nm=").slice(1).map(function(e){return"m="+e}).filter(function(e){var r=new RegExp("m="+(t||".*"),"gm"),i=new RegExp("a="+(n||".*"),"gm");return r.test(e)&&i.test(e)})}function g(e){var t=e.split("\r\n")[0].match(/([0-9]+)/g);return t?t.slice(1).map(function(e){return parseInt(e,10)}):[]}function m(e,t){var n=t.split("\r\n"),r=n[0],i=n.slice(1);return[r=r.replace(/([0-9]+\s?)+$/,e.join(" "))].concat(i).join("\r\n")}function y(e,t){var n=p(e);return[e.split("\r\nm=")[0]].concat(n.map(function(e){if(!/^m=(audio|video)/.test(e))return e;var n=f(e);if(!n)return e;var i=t.get(n);if(!i)return e;var o=(e.match(/^a=msid:(.+)$/m)||[])[1];if(!o)return e;var s=o.split(" "),a=r(s,2),c=a[0],l=a[1],u=new RegExp("msid:"+c+(l?" "+l:"")+"$","gm");return e.replace(u,"msid:"+c+" "+i)})).join("\r\n")}function v(e,t){return"a=fmtp:"+e+" "+Object.entries(t).map(function(e){var t=r(e,2);return t[0]+"="+t[1]}).join(";")}t.createCodecMapForMediaSection=l,t.createPtToCodecName=h,t.disableRtx=function(e){var t=p(e);return[e.split("\r\nm=")[0]].concat(t.map(function(e){if(!/^m=video/.test(e))return e;var t=l(e).get("rtx");if(!t)return e;var n=new Set(g(e));t.forEach(function(e){return n.delete(e)});var r=e.match(/a=ssrc-group:FID [0-9]+ ([0-9]+)/),i=r&&r[1],o=[/^a=fmtp:.+ apt=.+$/,/^a=rtpmap:.+ rtx\/.+$/,/^a=ssrc-group:.+$/].concat(i?[new RegExp("^a=ssrc:"+i+" .+$")]:[]);return e=e.split("\r\n").filter(function(e){return o.every(function(t){return!t.test(e)})}).join("\r\n"),m(Array.from(n),e)})).join("\r\n")},t.enableDtxForOpus=function(e,t){var n=p(e),r=e.split("\r\nm=")[0];return t=t||n.filter(function(e){return/^m=audio/.test(e)}).map(f),[r].concat(n.map(function(e){if(!/^m=audio/.test(e))return e;var n=l(e).get("opus");if(!n)return e;var r=d(n,e);if(!r)return e;var i=v(n,r),o=new RegExp(i),s=f(e);t.includes(s)?r.usedtx=1:delete r.usedtx;var a=v(n,r);return e.replace(o,a)})).join("\r\n")},t.getMediaSections=p,t.removeSSRCAttributes=function(e,t){return e.split("\r\n").filter(function(e){return!t.find(function(t){return new RegExp("a=ssrc:.*"+t+":","g").test(e)})}).join("\r\n")},t.revertSimulcastForNonVP8MediaSections=function(e,t,n){var r=u(n),i=u(t),o=p(e);return[e.split("\r\nm=")[0]].concat(o.map(function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var t=e.match(/^a=mid:(.+)$/m),n=t&&t[1];if(!n)return e;var o=r.get(n),s=h(o),a=g(o);return a.length&&"vp8"===s.get(a[0])?e:i.get(n).replace(/\r\n$/,"")})).concat("").join("\r\n")},t.setBitrateParameters=function(e,t,n,r){var i=p(e);return[e.split("\r\nm=")[0]].concat(i.map(function(e){if(!/^m=(audio|video)/.test(e)||!/a=(recvonly|sendrecv)/.test(e))return e;var i=e.match(/^m=(audio|video)/)[1];return function(e,t,n){var r=c(e,t)||"",i=/\r\nb=(AS|TIAS):([0-9]+)/,o=n.match(i);if(!o)return n.replace(/(\r\n)?$/,r+"$1");var s=parseInt(o[2],10);return t=t||1/0,r=c(e,Math.min(s,t)),n.replace(i,r)}(t,"audio"===i?n:r,e)})).join("\r\n")},t.setCodecPreferences=function(e,t,n){var r=p(e);return[e.split("\r\nm=")[0]].concat(r.map(function(e){if(!/^m=(audio|video)/.test(e))return e;var r=e.match(/^m=(audio|video)/)[1],s=l(e),a=function(e,t){t=t.map(function(e){return e.codec.toLowerCase()});var n=o(t,function(t){return e.get(t)||[]}),r=i(Array.from(e.keys()),t),s=o(r,function(t){return e.get(t)});return n.concat(s)}(s,"audio"===r?t:n),c=m(a,e),u=s.get("pcma")||[],h=s.get("pcmu")||[];return("audio"===r?new Set(u.concat(h)):new Set).has(a[0])?c.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):c})).join("\r\n")},t.setSimulcast=function(e,t,n){var r=p(e);return[e.split("\r\nm=")[0]].concat(r.map(function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var r=l(e),i=g(e),o=new Set(r.get("vp8")||[]);return i.some(function(e){return o.has(e)})?s(e,t,n):e})).concat("").join("\r\n")},t.unifiedPlanFilterLocalCodecs=function(e,t){var n=p(e),i=e.split("\r\nm=")[0],s=u(t);return[i].concat(n.map(function(e){return function(e,t){if(!/^m=(audio|video)/.test(e))return e;var n=f(e),i=n&&t.get(n);if(!i)return e;var s=h(i),a=l(e),c=o(Array.from(s),function(t){var n=r(t,2),o=n[1];return"rtx"!==o?function(e,t,n,r,i){var o=n.get(e)||[];if(o.length<=1)return o;var s=d(t,i);if(!s)return o;var a=o.find(function(e){var t=d(e,r);return t&&Object.keys(s).every(function(e){return s[e]===t[e]})});return"number"==typeof a?[a]:o}(o,n[0],a,e,i):[]}),u=a.get("rtx")||[];c=c.concat(u.filter(function(t){var n=d(t,e);return n&&c.includes(n.apt)}));var p=e.split("\r\n").filter(function(e){var t=e.match(/^a=(rtpmap|fmtp|rtcp-fb):(.+) .+$/),n=t&&t[2];return!t||n&&c.includes(parseInt(n,10))});return m(g(e).filter(function(e){return c.includes(e)}),p.join("\r\n"))}(e,s)})).join("\r\n")},t.unifiedPlanAddOrRewriteNewTrackIds=function(e,t,n){var i=Array.from(n).reduce(function(n,i){var o=r(i,2),s=o[1];return p(e,o[0],"send(only|recv)").map(f).filter(function(e){return!t.has(e)}).forEach(function(e,t){return n.set(e,s[t])}),n},new Map);return y(e,i)},t.unifiedPlanAddOrRewriteTrackIds=y},"A/ij":function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n("xwWy"),a=s.typeErrors,c=s.trackPriority,l=n("BWbm").guessBrowser,u=n("UBwA");e.exports=function(e){return function(e){function t(e,n,i,o,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s=Object.assign({workaroundWebKitBug212780:"safari"===l()&&"object"===("undefined"==typeof document?"undefined":r(document))&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState},s);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s));return Object.defineProperties(a,{_isEnabled:{value:i,writable:!0},_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},_setPriority:{value:o},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},priority:{enumerable:!0,get:function(){return this._priority}},sid:{enumerable:!0,value:e},_workaroundWebKitBug212780:{value:s.workaroundWebKitBug212780},_workaroundWebKitBug212780Cleanup:{value:null,writable:!0}}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setPriority",value:function(e){var t=[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.values(c)));if(!t.includes(e))throw a.INVALID_VALUE("priority",t);return this._priority!==e&&(this._priority=e,this._setPriority(e)),this}},{key:"_setEnabled",value:function(e){this._isEnabled!==e&&(this._isEnabled=e,this.emit(this._isEnabled?"enabled":"disabled",this))}},{key:"_setSwitchedOff",value:function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))}},{key:"attach",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this,e);return!0!==this.mediaStreamTrack.enabled&&(this.mediaStreamTrack.enabled=!0),this._workaroundWebKitBug212780&&(this._workaroundWebKitBug212780Cleanup=this._workaroundWebKitBug212780Cleanup||function(e){var t=e._log,n=e.kind;function r(){e._attachments.forEach(function(r){var i=e._elShims.get(r);r.paused&&i&&!i.pausedIntentionally()&&(t.info("Playing inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e),r.play().then(function(){t.info("Successfully played inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e)}).catch(function(i){t.warn("Error while playing inadvertently paused <"+n+"> element:",{err:i,el:r,remoteMediaTrack:e})}))})}return u.onVisible(2,r),function(){u.offVisible(2,r)}}(this)),n}},{key:"detach",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detach",this).call(this,e);return 0===this._attachments.size&&(this.mediaStreamTrack.enabled=!1,this._workaroundWebKitBug212780Cleanup&&(this._workaroundWebKitBug212780Cleanup(),this._workaroundWebKitBug212780Cleanup=null)),n}}]),t}(e)}},AMco:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("9dY8").getMediaSections,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return r(e,[{key:"match",value:function(e){return this._midsToTrackIds.get(e.transceiver.mid)||null}},{key:"update",value:function(e){var t=i(e,"(audio|video)");this._midsToTrackIds=t.reduce(function(e,t){var n=t.match(/^a=mid:(.+)$/m)||[],r=t.match(/^a=msid:.+ (.+)$/m)||[],i=n[1],o=r[1];return i&&o?e.set(i,o):e},this._midsToTrackIds)}}]),e}();e.exports=o},Aq89:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("+qE3").EventEmitter,s=n("EHr0"),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_mediaSignalingTransport:{value:e},_networkQualityInputs:{value:new s},_networkQualityReportLevels:{get:function(){return{reportLevel:n.local,remoteReportLevel:n.remote}}}}),e.on("message",function(e){switch(e.type){case"network_quality":r._handleNetworkQualityMessage(e)}}),r._sendNetworkQualityInputs(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_handleNetworkQualityMessage",value:function(e){var t=this,n=!1,i=null,o=e?e.local:null;"number"==typeof o?(i=o,this._levels=null):"object"===(void 0===o?"undefined":r(o))&&o&&(this._levels=o,i="number"==typeof o.level?o.level:Math.min(o.audio.send,o.audio.recv,o.video.send,o.video.recv)),null!==i&&this.level!==i&&(this._level=i,n=!0),this._remoteLevels=e&&e.remotes?e.remotes.reduce(function(e,r){return(t._remoteLevels.get(r.sid)||{}).level!==r.level&&(n=!0),e.set(r.sid,r)},new Map):this._remoteLevels,n&&this.emit("updated"),setTimeout(function(){return t._sendNetworkQualityInputs()},1e3)}},{key:"_sendNetworkQualityInputs",value:function(){var e=this;return this._networkQualityInputs.take().then(function(t){e._mediaSignalingTransport.publish(function(e,t){return Object.assign({type:"network_quality"},e,t)}(t,e._networkQualityReportLevels))})}},{key:"put",value:function(e){this._networkQualityInputs.put(e)}},{key:"level",get:function(){return this._level}},{key:"levels",get:function(){return this._levels}},{key:"remoteLevels",get:function(){return this._remoteLevels}}]),t}(o);e.exports=a},B32u:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("BWbm").guessBrowser,s=n("2h1k").MediaStream,a=n("ghd6"),c=a.waitForEvent,l=a.waitForSometime,u=n("jxCJ"),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Object.assign({playPausedElementsIfNotBackgrounded:"safari"===o()&&"object"===("undefined"==typeof document?"undefined":r(document))&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState},n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.id,e.kind,n)),a=!1;return n=Object.assign({MediaStream:s},n),Object.defineProperties(i,{_attachments:{value:new Set},_dummyEl:{value:null,writable:!0},_elShims:{value:new WeakMap},_isStarted:{get:function(){return a},set:function(e){a=e}},_playPausedElementsIfNotBackgrounded:{value:n.playPausedElementsIfNotBackgrounded},_shouldShimAttachedElements:{value:n.workaroundWebKitBug212780||n.playPausedElementsIfNotBackgrounded},_MediaStream:{value:n.MediaStream},isStarted:{enumerable:!0,get:function(){return a}},mediaStreamTrack:{enumerable:!0,get:function(){return e.track}}}),i._initialize(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_start",value:function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)}},{key:"_initialize",value:function(){var e=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",function t(){e._end(),e.mediaStreamTrack.removeEventListener("ended",t)}),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl),this._attachments.delete(this._dummyEl))}},{key:"_end",value:function(){this._log.debug("Ended"),this._dummyEl&&(this._detachElement(this._dummyEl),this._dummyEl.oncanplay=null)}},{key:"attach",value:function(e){var t=this;if("string"==typeof e?e=this._selectElement(e):e||(e=this._createElement()),this._log.debug("Attempting to attach to element:",e),e=this._attach(e),this._shouldShimAttachedElements&&!this._elShims.has(e)){var n=this._playPausedElementsIfNotBackgrounded?function(){return function(e,t){var n=e.tagName.toLowerCase();t.warn("Unintentionally paused:",e),Promise.race([c(document,"visibilitychange"),l(1e3)]).then(function(){"visible"===document.visibilityState&&u.whenResolved("audio").then(function(){return t.info("Playing unintentionally paused <"+n+"> element"),t.debug("Element:",e),e.play()}).then(function(){t.info("Successfully played unintentionally paused <"+n+"> element"),t.debug("Element:",e)}).catch(function(r){t.warn("Error while playing unintentionally paused <"+n+"> element:",{error:r,el:e})})})}(e,t._log)}:null;this._elShims.set(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.pause,r=e.play,i=!1;e.pause=function(){return i=!0,n.call(e)},e.play=function(){return i=!1,r.call(e)};var o=t?function(){i||t()}:null;return o&&e.addEventListener("pause",o),{pausedIntentionally:function(){return i},unShim:function(){e.pause=n,e.play=r,o&&e.removeEventListener("pause",o)}}}(e,n))}return e}},{key:"_attach",value:function(e){var t=e.srcObject;return t instanceof this._MediaStream||(t=new this._MediaStream),t["audio"===this.mediaStreamTrack.kind?"getAudioTracks":"getVideoTracks"]().forEach(function(e){t.removeTrack(e)}),t.addTrack(this.mediaStreamTrack),e.srcObject=t,e.autoplay=!0,e.playsInline=!0,this._attachments.has(e)||this._attachments.add(e),e}},{key:"_selectElement",value:function(e){var t=document.querySelector(e);if(!t)throw new Error("Selector matched no element: "+e);return t}},{key:"_createElement",value:function(){return"undefined"!=typeof document?document.createElement(this.kind):null}},{key:"detach",value:function(e){var t;return t="string"==typeof e?[this._selectElement(e)]:e?[e]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",t),this._detachElements(t),e?t[0]:t}},{key:"_detachElements",value:function(e){return e.map(this._detachElement.bind(this))}},{key:"_detachElement",value:function(e){if(!this._attachments.has(e))return e;var t=e.srcObject;return t instanceof this._MediaStream&&t.removeTrack(this.mediaStreamTrack),this._attachments.delete(e),this._shouldShimAttachedElements&&this._elShims.has(e)&&(this._elShims.get(e).unShim(),this._elShims.delete(e)),e}},{key:"_getAllAttachedElements",value:function(){var e=[];return this._attachments.forEach(function(t){e.push(t)}),e}}]),t}(n("NCuz"));e.exports=h},BMBc:function(e,t,n){"use strict";var r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r)),o=null;"number"==typeof n.frameWidthInput&&"number"==typeof n.frameHeightInput&&(o={},Object.defineProperties(o,{width:{value:n.frameWidthInput,enumerable:!0},height:{value:n.frameHeightInput,enumerable:!0}}));var s=null;return"number"==typeof n.frameWidthSent&&"number"==typeof n.frameHeightSent&&(s={},Object.defineProperties(s,{width:{value:n.frameWidthSent,enumerable:!0},height:{value:n.frameHeightSent,enumerable:!0}})),Object.defineProperties(i,{captureDimensions:{value:o,enumerable:!0},dimensions:{value:s,enumerable:!0},captureFrameRate:{value:"number"==typeof n.frameRateInput?n.frameRateInput:null,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateSent?n.frameRateSent:null,enumerable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("zYCr"));e.exports=r},BWbm:function(e,t,n){"use strict";function r(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var i;try{i=typeof e[r]}catch(o){}"function"===i&&(t[r]=function(){return this[n][r].apply(this[n],arguments)})}}function i(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:null}function o(e){return void 0===e&&(e=i()),/Chrome|CriOS/.test(e)?"chrome":/Firefox|FxiOS/.test(e)?"firefox":/Safari/.test(e)?"safari":null}t.defer=function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},t.delegateMethods=function(e,t,n){for(var i in e)r(e,t,n,i)},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n},t.flatMap=function(e,t){return(e instanceof Map||e instanceof Set?Array.from(e.values()):e).reduce(function(e,n){var r=t(n);return e.concat(r)},[])},t.guessBrowser=o,t.guessBrowserVersion=function(e){void 0===e&&(e=i());var t={chrome:"Chrome|CriOS",firefox:"Firefox|FxiOS",safari:"Version"}[o(e)];if(!t)return null;var n=new RegExp("("+t+")/([^\\s]+)"),r=(e.match(n)||[])[2];if(!r)return null;var s=r.split(".").map(Number);return{major:isNaN(s[0])?null:s[0],minor:isNaN(s[1])?null:s[1]}},t.interceptEvent=function(e,t){var n=null;Object.defineProperty(e,"on"+t,{get:function(){return n},set:function(e){n&&this.removeEventListener(t,n),"function"==typeof e?this.addEventListener(t,n=e):n=null}})},t.legacyPromise=function(e,t,n){return t?e.then(function(e){t(e)},function(e){n(e)}):e},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach(function(e){!function(e,t,n,r){r in t||(r.match(/^on[a-z]+$/)?(Object.defineProperty(t,r,{value:null,writable:!0}),n.addEventListener(r.slice(2),function(){t.dispatchEvent.apply(t,arguments)})):Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}}))}(0,t,n,e)})},t.support=function(){return"object"==typeof navigator&&"object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia&&"function"==typeof RTCPeerConnection}},CSzv:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(n("mb7l"));e.exports=i},CmYA:function(e,t,n){"use strict";e.exports="function"==typeof RTCIceCandidate?RTCIceCandidate:function(){throw new Error("RTCIceCandidate is not supported")}},Czg6:function(e,t,n){var r=n("KGUp"),i=n("89tg"),o=n("HOot"),s=n("QsSX");e.exports.Backoff=r,e.exports.FunctionCall=s,e.exports.FibonacciStrategy=o,e.exports.ExponentialStrategy=i,e.exports.fibonacci=function(e){return new r(new o(e))},e.exports.exponential=function(e){return new r(new i(e))},e.exports.call=function(e,t,n){var r=Array.prototype.slice.call(arguments);return e=r[0],t=r.slice(1,r.length-1),new s(e,t,n=r[r.length-1])}},"Ds+w":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=function(e){function t(e,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"}},{key:"setPriority",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPriority",this).call(this,e)}}]),t}(n("A/ij")(n("9FmL")));e.exports=o},DsyS:function(e,t,n){"use strict";e.exports="function"==typeof MediaStreamTrack?MediaStreamTrack:function(){throw new Error("MediaStreamTrack is not supported")}},"Dz+M":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this)||this}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n("zB/H").Subscription);t.Action=i},EHr0:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("ghd6").defer,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return r(e,[{key:"put",value:function(e){this._hasValue=!0,this._value=e;var t=this._deferreds.shift();return t&&t.resolve(e),this}},{key:"take",value:function(){var e=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var t=i();return this._deferreds.push(t),t.promise.then(function(t){return e._hasValue=!1,t})}}]),e}();e.exports=o},EYe3:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("gEVb"),o=n("6ltx"),s={connecting:["connected"],connected:["disconnected","reconnecting"],reconnecting:["connected","disconnected"],disconnected:[]},a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connecting",s));return Object.defineProperties(e,{_enqueuedPriorityUpdates:{value:new Map},_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},_trackPrioritySignaling:{value:null,writable:!0},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addTrack",value:function(e){return this.tracks.set(e.id||e.sid,e),this.emit("trackAdded",e),this}},{key:"disconnect",value:function(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)}},{key:"removeTrack",value:function(e){var t=this.tracks.get(e.id||e.sid);return this.tracks.delete(e.id||e.sid),t&&this.emit("trackRemoved",e),t||null}},{key:"setNetworkQualityLevel",value:function(e,t){this._networkQualityLevel!==e&&(this._networkQualityLevel=e,this._networkQualityStats=t&&(t.audio||t.video)?new o(t):null,this.emit("networkQualityLevelChanged"))}},{key:"updateSubscriberTrackPriority",value:function(e,t){this._enqueuedPriorityUpdates.set(e,t),this._trackPrioritySignaling&&this._trackPrioritySignaling.sendTrackPriorityUpdate(e,"subscribe",t)}},{key:"setTrackPrioritySignaling",value:function(e){var t=this;return this._trackPrioritySignaling=e,e&&this._enqueuedPriorityUpdates.forEach(function(e,n){t._trackPrioritySignaling.sendTrackPriorityUpdate(n,"subscribe",e)}),this}},{key:"connect",value:function(e,t){return("connecting"===this.state||"reconnecting"===this.state)&&(this._sid||(this._sid=e),this._identity||(this._identity=t),this.preempt("connected"),!0)}},{key:"reconnecting",value:function(){return("connecting"===this.state||"connected"===this.state)&&(this.preempt("reconnecting"),!0)}},{key:"networkQualityLevel",get:function(){return this._networkQualityLevel}},{key:"networkQualityStats",get:function(){return this._networkQualityStats}}]),t}(i);e.exports=a},"F/ro":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_queuedEvents:{value:new Map}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"dequeue",value:function(e){var t=this,n=!0;if(!e)return this._queuedEvents.forEach(function(e,t){n=this.dequeue(t)&&n},this),n;var r=this._queuedEvents.get(e)||[];return this._queuedEvents.delete(e),r.reduce(function(n,r){return t.emit.apply(t,i([e].concat(r)))&&n},n)}},{key:"queue",value:function(){var e=[].slice.call(arguments);if(this.emit.apply(this,i(e)))return!0;var t=e[0];return this._queuedEvents.has(t)||this._queuedEvents.set(t,[]),this._queuedEvents.get(t).push(e.slice(1)),!1}}]),t}(n("+qE3").EventEmitter);e.exports=o},F1Jz:function(e,t,n){"use strict";var r=n("mkGC"),i=n("8yKx"),o=n("MCLT").inherits,s=n("rskN"),a=n("qmcU"),c=n("UQcK"),l=n("iWhl"),u=n("BWbm");function h(e,t){if(!(this instanceof h))return new h(e,t);i.call(this),e=e||{};var n=Object.assign(e.iceTransportPolicy?{iceTransports:e.iceTransportPolicy}:{},e);u.interceptEvent(this,"datachannel"),u.interceptEvent(this,"signalingstatechange");var r=l.getSdpFormat(n.sdpSemantics),o=new RTCPeerConnection(n,t);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_localStream:{value:new a},_peerConnection:{value:o},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_sdpFormat:{value:r},_senders:{value:new Map},_signalingStateLatch:{value:new s},_tracksToSSRCs:{value:new Map,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:o.localDescription}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:o.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":o.signalingState}}});var c=this;o.addEventListener("datachannel",function(e){g(e.channel),c.dispatchEvent(e)}),o.addEventListener("signalingstatechange",function(){"stable"===o.signalingState&&(c._appliedTracksToSSRCs=new Map(c._tracksToSSRCs)),c._pendingLocalOffer||c._pendingRemoteOffer||c.dispatchEvent.apply(c,arguments)}),o.ontrack=function(){},"function"!=typeof RTCPeerConnection.prototype.addTrack&&o.addStream(this._localStream),u.proxyProperties(RTCPeerConnection.prototype,this,o)}function d(e,t,n){var r,i,o=t?e._pendingLocalOffer:e._pendingRemoteOffer,s=t?"have-local-offer":"have-remote-offer",a=t?"setLocalDescription":"setRemoteDescription";if(!t&&(t?e._pendingRemoteOffer:e._pendingLocalOffer)&&"answer"===n.type)r=function(e,t){return e._peerConnection.setLocalDescription(e._pendingLocalOffer).then(function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)}).then(function(){e._signalingStateLatch.lower()})}(e,n);else if("offer"===n.type){if(e.signalingState!==s&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));o||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var c=e.signalingState;i=f(n),t?e._pendingLocalOffer=i:e._pendingRemoteOffer=i,r=Promise.resolve(),e.signalingState!==c&&r.then(function(){e.dispatchEvent(new Event("signalingstatechange"))})}else"rollback"===n.type&&(e.signalingState!==s?r=Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),(r=Promise.resolve()).then(function(){e.dispatchEvent(new Event("signalingstatechange"))})));return r||e._peerConnection[a](f(n))}function f(e){return e instanceof r&&e._description?e._description:new RTCSessionDescription(e)}function p(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function g(e){return Object.defineProperty(e,"maxRetransmits",{value:65535===e.maxRetransmits?null:e.maxRetransmits}),p()&&Object.defineProperty(e,"maxPacketLifeTime",{value:65535===e.maxRetransmitTime?null:e.maxRetransmitTime}),e}function m(e,t,n){return"unified"===e?l.updateUnifiedPlanTrackIdsToSSRCs(t,n):l.updatePlanBTrackIdsToSSRCs(t,n)}o(h,i),"function"!=typeof RTCPeerConnection.prototype.addTrack?(h.prototype.addTrack=function(){var e=[].slice.call(arguments),t=e[0];if("closed"===this._peerConnection.signalingState)throw new Error("Cannot add MediaStreamTrack ["+t.id+", "+t.kind+"]: RTCPeerConnection is closed");var n=this._senders.get(t);if(n&&n.track)throw new Error("Cannot add MediaStreamTrack ["+t.id+", "+t.kind+"]: RTCPeerConnection already has it");return this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(t),this._peerConnection.addStream(this._localStream),n=new c(t),this._senders.set(t,n),n},h.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");var t=e.track;t&&(e=this._senders.get(t))&&e.track&&(e.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(t),this._peerConnection.addStream(this._localStream))},h.prototype.getSenders=function(){return Array.from(this._senders.values())}):h.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");try{this._peerConnection.removeTrack(e)}catch(t){}},h.prototype.addIceCandidate=function(e){var t,n=[].slice.call(arguments),r=this;return t="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function(){return r._peerConnection.addIceCandidate(e)}):this._peerConnection.addIceCandidate(e),n.length>1?u.legacyPromise(t,n[1],n[2]):t},h.prototype.close=function(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},h.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return n._signalingStateLatch.lower(),n._peerConnection.createAnswer()}).then(function(e){return n._pendingRemoteOffer=null,n._rolledBackTracksToSSRCs.clear(),new r({type:"answer",sdp:m(n._sdpFormat,n._tracksToSSRCs,e.sdp)})},function(e){throw n._pendingRemoteOffer=null,e}):this._peerConnection.createAnswer().then(function(e){return n._rolledBackTracksToSSRCs.clear(),new r({type:"answer",sdp:m(n._sdpFormat,n._tracksToSSRCs,e.sdp)})}),t.length>1?u.legacyPromise(e,t[0],t[1]):e},h.prototype.createOffer=function(){var e=[].slice.call(arguments),t=(e.length>1?e[2]:e[0])||{},n=this,i=this._peerConnection.createOffer(t).then(function(e){return n._rolledBackTracksToSSRCs.clear(),new r({type:e.type,sdp:m(n._sdpFormat,n._tracksToSSRCs,e.sdp)})});return e.length>1?u.legacyPromise(i,e[0],e[1]):i},h.prototype.createDataChannel=function(e,t){t=function(e){return e=Object.assign({},e),p()&&"maxPacketLifeTime"in e&&(e.maxRetransmitTime=e.maxPacketLifeTime),e}(t);var n=this._peerConnection.createDataChannel(e,t);return g(n),n},h.prototype.setLocalDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear());var n=d(this,!0,t);return e.length>1?u.legacyPromise(n,e[1],e[2]):n},h.prototype.setRemoteDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.clear();var n=d(this,!1,t);return e.length>1?u.legacyPromise(n,e[1],e[2]):n},u.delegateMethods(RTCPeerConnection.prototype,h.prototype,"_peerConnection"),e.exports=h},FWf1:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("pshJ"),o=n("GiSu"),s=n("zB/H"),a=n("p//D"),c=n("n3uD"),l=n("MkmW"),u=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.empty;break;case 1:if(!n){s.destination=o.empty;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new h(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new h(s,n,r,i)}return s}return r(t,e),t.prototype[a.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.Subscription);t.Subscriber=u;var h=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return i.isFunction(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.empty&&(l=Object.create(n),i.isFunction(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=a,c._error=r,c._complete=s,c}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):l.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;l.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;l.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return c.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(l.hostReportError(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u);t.SafeSubscriber=h},FjKE:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("gEVb"),o=n("ghd6"),s=o.buildLogLevels,a=o.makeUUID,c=n("S3Hu"),l=n("d+6x"),u=n("Y1/N"),h=0,d={closed:[],connecting:["closed","open","waiting"],early:["closed","connecting"],open:["closed"],waiting:["closed","connecting","early","open"]},f={closed:"close",open:"open",waiting:"waiting"},p=3005,g=global.window||global,m=g.WebSocket?g.WebSocket:n("vaDk"),y={BUSY:"busy",FAILED:"failed",LOCAL:"local",REMOTE:"remote",TIMEOUT:"timeout"},v=new Map([[3e3,y.TIMEOUT],[3001,y.TIMEOUT],[3002,y.FAILED],[3003,y.FAILED],[3004,y.TIMEOUT],[3006,y.BUSY],[3007,y.TIMEOUT]]),b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"early",d));n=Object.assign({helloBody:null,maxConsecutiveFailedHellos:3,maxConsecutiveMissedHeartbeats:3,requestedHeartbeatTimeout:5e3,openTimeout:15e3,welcomeTimeout:5e3,Log:c,WebSocket:m},n);var i=s(n.logLevel),o=new n.Log("default",r,i,n.loggerName),a=n.networkMonitor?new l(function(){var e=a.type,t="Network changed"+(e?" to "+e:"");o.debug(t),r._close({code:3004,reason:t})}):null;Object.defineProperties(r,{_busyWaitTimeout:{value:null,writable:!0},_consecutiveHeartbeatsMissed:{value:0,writable:!0},_cookie:{value:null,writable:!0},_eventObserver:{value:n.eventObserver},_heartbeatTimeout:{value:null,writable:!0},_hellosLeft:{value:n.maxConsecutiveFailedHellos,writable:!0},_instanceId:{value:++h},_log:{value:o},_messageQueue:{value:[]},_networkMonitor:{value:a},_options:{value:n},_openTimeout:{value:null,writable:!0},_sendHeartbeatTimeout:{value:null,writable:!0},_serverUrl:{value:e},_welcomeTimeout:{value:null,writable:!0},_ws:{value:null,writable:!0}});var u={connecting:"info",early:"info",open:"info",waiting:"warning",closed:"info"};return r.on("stateChanged",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e in f&&r.emit.apply(r,[f[e]].concat(n));var o={name:e,group:"signaling",level:u[r.state]};if("closed"===e){var s=n[0];o.payload={reason:s},o.level=s===y.LOCAL?"info":"error"}r._eventObserver.emit("event",o)}),r._eventObserver.emit("event",{name:r.state,group:"signaling",level:u[r.state]}),r._connect(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[TwilioConnection #"+this._instanceId+": "+this._ws.url+"]"}},{key:"_close",value:function(e){var t=e.code,n=e.reason;if("closed"!==this.state){this._openTimeout&&this._openTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear(),this._heartbeatTimeout&&this._heartbeatTimeout.clear(),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.clear(),this._networkMonitor&&this._networkMonitor.stop(),this._busyWaitTimeout&&t!==p&&this._busyWaitTimeout.clear(),this._messageQueue.splice(0);var r=this._log;1e3===t?(r.debug("Closed"),this.transition("closed",null,[y.LOCAL])):(r.warn("Closed: "+t+" - "+n),t!==p&&this.transition("closed",null,[v.get(t)||y.REMOTE]));var i=this._ws.readyState,o=this._options.WebSocket;i!==o.CLOSING&&i!==o.CLOSED&&this._ws.close(t,n)}}},{key:"_connect",value:function(){var e=this,t=this._log;if("waiting"===this.state)this.transition("early");else if("early"!==this.state)return void t.warn('Unexpected state "'+this.state+'" for connecting to the TCMP server.');this._ws=new this._options.WebSocket(this._serverUrl);var n=this._ws;t.debug("Created a new WebSocket:",n),n.addEventListener("close",function(t){return e._close(t)});var r=this._options.openTimeout;this._openTimeout=new u(function(){e._close({code:3007,reason:"Failed to open in "+r+" ms"})},r),n.addEventListener("open",function(){t.debug("WebSocket opened:",n),e._openTimeout.clear(),e._startHandshake(),e._networkMonitor&&e._networkMonitor.start()}),n.addEventListener("message",function(n){t.debug("Incoming: "+n.data);try{n=JSON.parse(n.data)}catch(r){return void e.emit("error",r)}switch(n.type){case"bad":e._handleBad(n);break;case"busy":e._handleBusy(n);break;case"bye":break;case"msg":e._handleMessage(n);case"heartbeat":e._handleHeartbeat();break;case"welcome":e._handleWelcome(n);break;default:e._log.debug("Unknown message type: "+n.type),e.emit("error",new Error("Unknown message type: "+n.type))}})}},{key:"_handleBad",value:function(e){var t=e.reason,n=this._log;if(["connecting","open"].includes(this.state)){if("connecting"===this.state)return n.warn("Closing: 3002 - "+t),void this._close({code:3002,reason:t});n.debug("Error: "+t),this.emit("error",new Error(t))}else n.warn('Unexpected state "'+this.state+'" for handling a "bad" message from the TCMP server.')}},{key:"_handleBusy",value:function(e){var t=this,n=e.cookie,r=e.keepAlive,i=e.retryAfter,o=this._log;if(["connecting","waiting"].includes(this.state)){this._busyWaitTimeout&&this._busyWaitTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear();var s=i<0?'Received terminal "busy" message':'Received "busy" message, retrying after '+i+" ms";if(i<0)return o.warn("Closing: 3006 - "+s),void this._close({code:3006,reason:s});this._hellosLeft=this._options.maxConsecutiveFailedHellos,this._cookie=n||null,r?(o.warn(s),this._busyWaitTimeout=new u(function(){return t._startHandshake()},i)):(o.warn("Closing: 3005 - "+s),this._close({code:p,reason:s}),this._busyWaitTimeout=new u(function(){return t._connect()},i)),this.transition("waiting",null,[r,i])}else o.warn('Unexpected state "'+this.state+'" for handling a "busy" message from the TCMP server.')}},{key:"_handleHeartbeat",value:function(){"open"===this.state?this._heartbeatTimeout.reset():this._log.warn('Unexpected state "'+this.state+'" for handling a "heartbeat" message from the TCMP server.')}},{key:"_handleHeartbeatTimeout",value:function(){if("open"===this.state){var e=this._log,t=this._options.maxConsecutiveMissedHeartbeats;e.debug("Consecutive heartbeats missed: "+t);var n="Missed "+t+' "heartbeat" messages';e.warn("Closing: 3001 - "+n),this._close({code:3001,reason:n})}}},{key:"_handleMessage",value:function(e){"open"===this.state?this.emit("message",e.body):this._log.warn('Unexpected state "'+this.state+'" for handling a "msg" message from the TCMP server.')}},{key:"_handleWelcome",value:function(e){var t=this,n=e.negotiatedTimeout,r=this._log;if(["connecting","waiting"].includes(this.state)){"waiting"===this.state&&(r.debug('Received "welcome" message, no need to retry connection.'),this._busyWaitTimeout.clear());var i=n*this._options.maxConsecutiveMissedHeartbeats,o=n-200;this._welcomeTimeout.clear(),this._heartbeatTimeout=new u(function(){return t._handleHeartbeatTimeout()},i),this._messageQueue.splice(0).forEach(function(e){return t._send(e)}),this._sendHeartbeatTimeout=new u(function(){return t._sendHeartbeat()},o),this.transition("open")}else r.warn('Unexpected state "'+this.state+'" for handling a "welcome" message from the TCMP server.')}},{key:"_handleWelcomeTimeout",value:function(){if("connecting"===this.state){var e=this._log;if(this._hellosLeft<=0){var t="All handshake attempts failed";return e.warn("Closing: 3000 - "+t),void this._close({code:3e3,reason:t})}e.warn("Handshake attempt "+(this._options.maxConsecutiveFailedHellos-this._hellosLeft)+" failed"),this._startHandshake()}}},{key:"_send",value:function(e){if(this._ws.readyState===this._options.WebSocket.OPEN){var t=JSON.stringify(e);this._log.debug("Outgoing: "+t);try{this._ws.send(t),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.reset()}catch(r){var n="Failed to send message";this._log.warn("Closing: 3003 - "+n),this._close({code:3003,reason:n})}}}},{key:"_sendHeartbeat",value:function(){"closed"!==this.state&&this._send({type:"heartbeat"})}},{key:"_sendHello",value:function(){var e=this._options,t=e.helloBody,n=e.requestedHeartbeatTimeout,r={id:a(),timeout:n,type:"hello",version:2};this._cookie&&(r.cookie=this._cookie),t&&(r.body=t),this._send(r)}},{key:"_sendOrEnqueue",value:function(e){var t=this;"closed"!==this.state&&("open"===this.state?function(e){return t._send(e)}:function(e){return t._messageQueue.push(e)})(e)}},{key:"_startHandshake",value:function(){var e=this;["early","waiting"].includes(this.state)&&this.transition("connecting"),"connecting"===this.state&&(this._hellosLeft--,this._sendHello(),this._welcomeTimeout=new u(function(){return e._handleWelcomeTimeout()},this._options.welcomeTimeout))}},{key:"close",value:function(){"closed"!==this.state&&(this._sendOrEnqueue({type:"bye"}),this._close({code:1e3,reason:"Normal"}))}},{key:"sendMessage",value:function(e){this._sendOrEnqueue({body:e,type:"msg"})}}]),t}(i);b.CloseReason=y,e.exports=b},GMZp:function(e,t,n){"use strict";t.isObject=function(e){return null!==e&&"object"==typeof e}},GcCu:function(e,t,n){"use strict";if("function"==typeof RTCPeerConnection)switch((0,n("BWbm").guessBrowser)()){case"chrome":e.exports=n("F1Jz");break;case"firefox":e.exports=n("ls7c");break;case"safari":e.exports=n("r2pO");break;default:e.exports=RTCPeerConnection}else e.exports=function(){throw new Error("RTCPeerConnection is not supported")}},GiSu:function(e,t,n){"use strict";var r=n("n3uD"),i=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(r.config.useDeprecatedSynchronousErrorHandling)throw e;i.hostReportError(e)},complete:function(){}}},HHTs:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("EYe3"),o=n("Lh68"),s=n("gEVb"),a={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"closed",a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_close",value:function(e){return this.transition("closing",e),this.transition("closed",e),Promise.resolve(this)}},{key:"_connect",value:function(e,t,n,r,i){e.connect("PA00000000000000000000000000000000","test");var s=Promise.resolve(new o(e,"RM00000000000000000000000000000000",i));return s.cancel=function(){},s}},{key:"_open",value:function(e){return this.transition("opening",e),this.transition("open",e),Promise.resolve(this)}},{key:"close",value:function(){var e=this;return this.bracket("close",function(t){switch(e.state){case"closed":return e;case"open":return e._close(t);default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})}},{key:"connect",value:function(e,t,n,r,i){var o=this;return this.bracket("connect",function s(a){switch(o.state){case"closed":return o._open(a).then(s.bind(null,a));case"open":return o.releaseLockCompletely(a),o._connect(e,t,n,r,i);default:throw new Error('Unexpected Signaling state "'+o.state+'"')}})}},{key:"createLocalParticipantSignaling",value:function(){return new i}},{key:"open",value:function(){var e=this;return this.bracket("open",function(t){switch(e.state){case"closed":return e._open(t);case"open":return e;default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})}}]),t}(s);e.exports=c},HNKe:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("4o7n"),o=n("8WNc"),s=n("Ihm+"),a=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return Object.defineProperties(o,{rtt:{enumerable:!0,value:i}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"of",value:function(e,n,r,i){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var o=(r.timestamp-n.timestamp)/1e3;return new t(n.id,e,o>0?(r.bytesSent-n.bytesSent)/o*8:0,i&&"number"==typeof i.roundTripTime?i.roundTripTime/1e3:void 0)}},{key:"summarize",value:function(e){return{bitrate:s(e.map(function(e){return e.bitrate})),rtt:i(e.map(function(e){return e.rtt}))}}}]),t}(o);e.exports=a},HNxM:function(e,t,n){var r=n("MCLT"),i=e.exports=n("d75R");function o(e,t,n,i){var o=new e(r.format.apply(this,[n=n||""].concat(i)));throw Error.captureStackTrace(o,t),o}function s(e,t,n){o(i.IllegalArgumentError,e,t,n)}function a(e,t,n){o(i.IllegalStateError,e,t,n)}function c(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array"}return t}function l(e){return function(t,n){var r=c(t);if(r==e)return t;s(arguments.callee,n||'Expected "'+e+'" but got "'+r+'".',Array.prototype.slice.call(arguments,2))}}e.exports.checkArgument=function(e,t){e||s(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkState=function(e,t){e||a(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkIsDef=function(e,t){if(void 0!==e)return e;s(arguments.callee,t||"Expected value to be defined but was undefined.",Array.prototype.slice.call(arguments,2))},e.exports.checkIsDefAndNotNull=function(e,t){if(null!=e)return e;s(arguments.callee,t||'Expected value to be defined and not null but got "'+c(e)+'".',Array.prototype.slice.call(arguments,2))},e.exports.checkIsString=l("string"),e.exports.checkIsArray=l("array"),e.exports.checkIsNumber=l("number"),e.exports.checkIsBoolean=l("boolean"),e.exports.checkIsFunction=l("function"),e.exports.checkIsObject=l("object")},HOot:function(e,t,n){var r=n("MCLT"),i=n("kThA");function o(e){i.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}r.inherits(o,i),o.prototype.next_=function(){var e=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=e,e},o.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},e.exports=o},HmUk:function(e,t,n){"use strict";if("function"==typeof RTCSessionDescription)switch((0,n("BWbm").guessBrowser)()){case"chrome":e.exports=n("mkGC");break;case"firefox":e.exports=n("mtX7");break;default:e.exports=RTCSessionDescription}else e.exports=function(){throw new Error("RTCSessionDescription is not supported")}},HsAx:function(e,t,n){"use strict";var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.connect(e,n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("EYe3"));e.exports=r},"I/VV":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n("BWbm").guessBrowser,s=n("ZfiD"),a=n("JEtZ"),c=n("UZ/N"),l=n("NXBa"),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{pc:{enumerable:!0,value:t},ice:{enumerable:!0,value:new s},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return r(e,[{key:"next",value:function(){var e,t,n,r=this;return("firefox"===o()?(t=(e=this).pc.getTransceivers().filter(function(e){return e.currentDirection&&e.currentDirection.match(/send/)&&e.sender.track}).map(function(e){return e.sender}),n=e.pc.getTransceivers().filter(function(e){return e.currentDirection&&e.currentDirection.match(/recv/)}).map(function(e){return e.receiver}),Promise.all([h(t),h(n),e.pc.getStats()]).then(function(t){var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),3!==n.length);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t),r=n[0],i=n[1],o=n[2],s=f(e),a=y(e);r.forEach(function(t,n){return b(e,t,a,n)}),w(s,a);var c=p(e),l=v(e);i.forEach(function(t,n){return _(e,t,l,n)}),w(c,l),k(e.ice,o)})):function(e){return e.pc.getStats().then(function(t){var n=f(e),r=y(e);b(e,t,r),w(n,r);var i=p(e),o=v(e);_(e,t,o),w(i,o),k(e.ice,t)})}(this)).then(function(){var e=[].concat(i(r.audio.send.values())),t=[].concat(i(r.video.send.values())),n=[].concat(i(r.audio.recv.values())),o=[].concat(i(r.video.recv.values())),s=new a(r.ice.lastReport,{send:e.map(function(e){return e.lastReport}).filter(function(e){return e}),recv:n.map(function(e){return e.lastReport}).filter(function(e){return e})},{send:t.map(function(e){return e.lastReport}).filter(function(e){return e}),recv:o.map(function(e){return e.lastReport}).filter(function(e){return e})});return r.lastReport=s,s})}}]),e}();function h(e){return Promise.all(e.map(function(e){var t=e.track.id;return e.getStats().then(function(e){var n=!0,r=!1,i=void 0;try{for(var o,s=e.values()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;"inbound-rtp"===a.type&&(a.id=t+"-"+a.id)}}catch(c){r=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return[t,e]})})).then(function(e){return new Map(e)})}function d(e,t,n,r,i){var o=t[r.mediaType];if(!i){var s=n.get(r.trackId);s&&(i=s.trackIdentifier)}if(o&&i){if(o.has(r.id))return o.get(r.id);var a=new e(i,r);o.set(r.id,a)}return null}function f(e){return{audio:e.audio.send,video:e.video.send}}function p(e){return{audio:e.audio.recv,video:e.video.recv}}function g(e,t,n,r){return d(l,f(e),t,n,r)}function m(e,t,n,r){return d(c,p(e),t,n,r)}function y(e){return{audio:new Set(e.audio.send.keys()),video:new Set(e.video.send.keys())}}function v(e){return{audio:new Set(e.audio.recv.keys()),video:new Set(e.video.recv.keys())}}function b(e,t,n,r){var i=!0,s=!1,a=void 0;try{for(var c,l=t.values()[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;if("outbound-rtp"===u.type&&!u.isRemote){if("firefox"!==o()&&!u.trackId)continue;var h=n[u.mediaType];h&&h.delete(u.id);var d=g(e,t,u,r);if(d){var f=t.get(u.remoteId);d.next(r||d.trackId,u,f)}}}}catch(p){s=!0,a=p}finally{try{!i&&l.return&&l.return()}finally{if(s)throw a}}}function _(e,t,n,r){var i=!0,o=!1,s=void 0;try{for(var a,c=t.values()[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value;if("inbound-rtp"===l.type&&!l.isRemote){var u=n[l.mediaType];u&&u.delete(l.id);var h=m(e,t,l,r);h&&h.next(r||h.trackId,l)}}}catch(d){o=!0,s=d}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}}function w(e,t){var n=function(n){var r=e[n];t[n].forEach(function(e){return r.delete(e)})};for(var r in t)n(r)}function k(e,t){var n=void 0,r=!0,i=!1,o=void 0;try{for(var s,a=t.values()[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value;"transport"===c.type&&(n=t.get(c.selectedCandidatePairId))}}catch(g){i=!0,o=g}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}if(n)e.next(n);else{var l=!0,u=!1,h=void 0;try{for(var d,f=t.values()[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value;"candidate-pair"!==p.type||!p.nominated||"selected"in p&&!p.selected||e.next(p)}}catch(g){u=!0,h=g}finally{try{!l&&f.return&&f.return()}finally{if(u)throw h}}}}e.exports=u},I65S:function(e,t,n){"use strict";var r=n("nzqU"),i=n("zzsZ"),o=n("2qMH");t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return r.isScheduler(n)?(e.pop(),o.scheduleArray(e,n)):i.fromArray(e)}},"Ihm+":function(e,t,n){"use strict";e.exports=function(e){return e.reduce(function(e,t){return"number"==typeof t?t+e:e},0)}},Ivmz:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=null;return Object.defineProperties(o,{_error:{value:null,writable:!0},_isEnabled:{value:r,writable:!0},_priority:{value:i,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return s},set:function(e){null===s&&(s=e)}},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:e}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"disable",value:function(){return this.enable(!1)}},{key:"enable",value:function(e){return this.isEnabled!==(e="boolean"!=typeof e||e)&&(this._isEnabled=e,this.emit("updated")),this}},{key:"setTrackTransceiver",value:function(e){return this.trackTransceiver!==(e=e||null)&&(this._trackTransceiver=e,this.emit("updated")),this}},{key:"setSid",value:function(e){return null===this.sid&&(this._sid=e,this.emit("updated")),this}},{key:"error",get:function(){return this._error}},{key:"isEnabled",get:function(){return this._isEnabled}},{key:"priority",get:function(){return this._priority}},{key:"sid",get:function(){return this._sid}},{key:"trackTransceiver",get:function(){return this._trackTransceiver}}]),t}(n("+qE3").EventEmitter);e.exports=i},JEtZ:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("2xLa"),o=n("HNKe"),s=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{ice:{enumerable:!0,value:t},audio:{enumerable:!0,value:n},video:{enumerable:!0,value:r}})}return r(e,[{key:"summarize",value:function(){var e=this.audio.send.concat(this.video.send),t=o.summarize(e),n=this.audio.recv.concat(this.video.recv),r=i.summarize(n);return{ice:this.ice,send:t,recv:r,audio:{send:o.summarize(this.audio.send),recv:i.summarize(this.audio.recv)},video:{send:o.summarize(this.video.send),recv:i.summarize(this.video.recv)}}}}]),e}();e.exports=s},Jhn5:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{id:{enumerable:!0,value:e},kind:{enumerable:!0,value:n}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"stop",value:function(){this.emit("stopped")}}]),t}(n("+qE3").EventEmitter);e.exports=i},KGUp:function(e,t,n){var r=n("+qE3"),i=n("zMHY");function o(e){r.EventEmitter.call(this),this.backoffStrategy_=e,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}n("MCLT").inherits(o,r.EventEmitter),o.prototype.failAfter=function(e){i.checkArgument(e>0,"Expected a maximum number of retry greater than 0 but got %s.",e),this.maxNumberOfRetry_=e},o.prototype.backoff=function(e){i.checkState(-1===this.timeoutID_,"Backoff in progress."),this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",e),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,e))},o.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},o.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},e.exports=o},KKCa:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},Kg6A:function(e,t,n){"use strict";var r=n("sYJf"),i=n("31MG"),o=n("1I8i"),s=n("T/xC"),a=n("5wwa"),c=a.SignalingConnectionDisconnectedError,l=a.SignalingIncomingMessageInvalidError,u=n("ghd6"),h=u.flatMap,d=u.createRoomConnectEventPayload;e.exports=function(e,t,n,a,u,f){var p=(f=Object.assign({PeerConnectionManager:i,RoomV2:o,Transport:s},f)).RoomV2,g=f.Transport,m=f.iceServers,y=f.log,v=new(0,f.PeerConnectionManager)(a,u,f),b=h(n.tracks,function(e){return[e.trackTransceiver]});v.setTrackSenders(b);var _=new Error("Canceled"),w=void 0,k=new r(function(r,i,o){var s=f.InsightsPublisher,a=f.NullInsightsPublisher,u=f.bandwidthProfile,h=f.eventObserver,b=f.name,k=f.wsServerInsights,S=Object.assign({automaticSubscription:f.automaticSubscription,dominantSpeaker:f.dominantSpeaker,environment:f.environment,eventObserver:h,loggerName:f.loggerName,logLevel:f.logLevel,networkMonitor:f.networkMonitor,networkQuality:f.networkQuality,iceServers:m,insights:f.insights,onIced:function(e){return o()?(i(_),Promise.reject(_)):(y.debug("Got ICE servers:",e),f.iceServers=e,v.setConfiguration(f),v.createAndOffer().then(function(){if(o())throw i(_),_;y.debug("createAndOffer() succeeded."),v.dequeue("description")}).catch(function(e){throw y.error("createAndOffer() failed:",e),i(e),e}))},realm:f.realm,sdpSemantics:f.sdpSemantics},"string"==typeof k?{wsServerInsights:k}:{},s?{InsightsPublisher:s}:{},a?{NullInsightsPublisher:a}:{},u?{bandwidthProfile:u}:{});w=new g(b,e,n,v,t,S);var C=d(f);h.emit("event",C),w.once("connected",function(e){y.debug("Transport connected:",e),o()?i(_):e.participant?(n.setSignalingRegion(e.options.signaling_region),r(new p(n,e,w,v,f))):i(new l)}),w.once("stateChanged",function(e,t){"disconnected"===e?(w=null,i(t||new c)):y.debug("Transport state changed:",e)})},function(){w&&(w.disconnect(),w=null)});return k.catch(function(){w&&(w.disconnect(),w=null),v.close()}),k}},LBXl:function(e,t,n){"use strict";t.UnsubscriptionError=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},LFO1:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(n("mb7l"));e.exports=i},Lh68:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("wl3V"),o=n("gEVb"),s=n("Y1/N"),a=n("5wwa"),c=a.MediaConnectionError,l=a.MediaDTLSTransportFailedError,u=a.SignalingConnectionDisconnectedError,h={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},d=function(e){function t(e,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=Object.assign({RecordingSignaling:i,Timeout:s},o);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connected",h)),c=o.RecordingSignaling,u=new o.Timeout(function(){a._disconnect(a._reconnectingError)},o.sessionTimeout,!1);return Object.defineProperties(a,{_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:o},_reconnectingError:{value:null,writable:!0},_sessionTimeout:{value:u},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:r},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new c},sid:{enumerable:!0,value:n}}),a.on("connectionStateChanged",function(){"failed"!==a.connectionState||["disconnected","failed"].includes(a.iceConnectionState)||a._disconnect(new l)}),a.on("iceConnectionStateChanged",function(){return f(a)}),a.on("signalingConnectionStateChanged",function(){return f(a)}),setTimeout(function(){return f(a)}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_disconnect",value:function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),!0)}},{key:"connectParticipant",value:function(e){var t=this;return"disconnected"!==e.state&&!this.participants.has(e.sid)&&(this.participants.set(e.sid,e),e.on("stateChanged",function n(r){"disconnected"===r&&(e.removeListener("stateChanged",n),t.participants.delete(e.sid),t.emit("participantDisconnected",e))}),this.emit("participantConnected",e),!0)}},{key:"disconnect",value:function(){return this._disconnect()}},{key:"setDominantSpeaker",value:function(e){this.dominantSpeakerSid=e,this.emit("dominantSpeakerChanged")}}]),t}(o);function f(e){if("disconnected"!==e.state&&"disconnected"!==e.signalingConnectionState){var t=void 0;"reconnecting"===e.signalingConnectionState?t=e.signalingConnectionState:"failed"===e.iceConnectionState?(e._mediaConnectionIsReconnecting=!0,t="reconnecting"):"new"===e.iceConnectionState||"checking"===e.iceConnectionState?t=e._mediaConnectionIsReconnecting?"reconnecting":"connected":(e._mediaConnectionIsReconnecting=!1,e._reconnectingError=null,e._sessionTimeout.clear(),t="connected"),t!==e.state&&("reconnecting"===t?(e._reconnectingError="reconnecting"===e.signalingConnectionState?new u:new c,e._sessionTimeout.start(),e.preempt(t,null,[e._reconnectingError])):e.preempt(t))}else e._sessionTimeout.clear()}e.exports=d},M1q1:function(e,t,n){"use strict";var r=n("Qvpb"),i=n("xwWy"),o=i.DEFAULT_LOG_LEVEL,s=i.DEFAULT_LOGGER_NAME;function a(e,t){t=Object.assign({createLocalTracks:r,loggerName:s,logLevel:o},t);var n={};n.loggerName=t.loggerName,n.logLevel=t.logLevel,delete t.loggerName,delete t.logLevel;var i=t.createLocalTracks;return delete t.createLocalTracks,n[e]=!(Object.keys(t).length>0)||t,i(n).then(function(e){return e[0]})}e.exports={audio:function(e){return a("audio",e)},video:function(e){return a("video",e)}}},MCLT:function(e,t,n){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),c=r[n];n<o;c=r[++n])g(c)||!_(c)?s+=" "+c:s+=" "+a(c);return s},t.deprecate=function(e,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),u(r,e,r.depth)}function c(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function l(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return y(i)||(i=u(e,i,r)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),k(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(S(n))return e.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return h(n)}var c,l="",_=!1,C=["{","}"];return f(n)&&(_=!0,C=["[","]"]),S(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(l=" "+RegExp.prototype.toString.call(n)),w(n)&&(l=" "+Date.prototype.toUTCString.call(n)),k(n)&&(l=" "+h(n)),0!==s.length||_&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=_?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)P(t,String(s))?o.push(d(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}(e,n,r,a,s):s.map(function(t){return d(e,n,r,a,t,_)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,l,C)):C[0]+l+C[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=e.stylize(c.set?"[Getter/Setter]":"[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),P(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=g(n)?u(e,c.value,null):u(e,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===C(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===C(e)}function k(e){return _(e)&&("[object Error]"===C(e)||e instanceof Error)}function S(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(v(o)&&(o=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=process.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=k,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("1gqn");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=n("KKCa"),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(x&&e[x]){var t;if("function"!=typeof(t=e[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),x&&Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=x,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return r.apply(i,arguments)};e.apply(this,t).then(function(e){process.nextTick(o,null,e)},function(e){process.nextTick(R,e,o)})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}},MItk:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n("2h1k").MediaStreamTrack,a=n("ghd6"),c=a.asLocalTrack,l=a.asLocalTrackPublication,u=a.trackClass,h=n("xwWy"),d=h.typeErrors,f=h.trackPriority,p=n("N7NK").validateLocalTrack,g=n("VR5W"),m=g.LocalAudioTrack,y=g.LocalDataTrack,v=g.LocalVideoTrack,b=n("CSzv"),_=n("deyy"),w=n("LFO1"),k=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(r=Object.assign({LocalAudioTrack:m,LocalVideoTrack:v,LocalDataTrack:y,MediaStreamTrack:s,LocalAudioTrackPublication:b,LocalVideoTrackPublication:w,LocalDataTrackPublication:_,shouldStopLocalTracks:!1,tracks:n},r)).shouldStopLocalTracks?new Set(n.filter(function(e){return"data"!==e.kind})):new Set,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return Object.defineProperties(o,{_LocalAudioTrack:{value:r.LocalAudioTrack},_LocalDataTrack:{value:r.LocalDataTrack},_LocalVideoTrack:{value:r.LocalVideoTrack},_MediaStreamTrack:{value:r.MediaStreamTrack},_LocalAudioTrackPublication:{value:r.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:r.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:r.LocalVideoTrackPublication},_tracksToStop:{value:i},signalingRegion:{enumerable:!0,get:function(){return e.signalingRegion}}}),o._handleTrackSignalingEvents(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addTrack",value:function(e,n,r){var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addTrack",this).call(this,e,n);return i&&"disconnected"!==this.state&&this._addLocalTrack(e,r),i}},{key:"_addLocalTrack",value:function(e,t){this._signaling.addTrack(e._trackSender,e.name,t),this._log.info("Added a new "+u(e,!0)+":",e.id),this._log.debug(u(e,!0)+":",e)}},{key:"_removeTrack",value:function(e,n){var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeTrack",this).call(this,e,n);return r&&"disconnected"!==this.state&&(this._signaling.removeTrack(e._trackSender),this._log.info("Removed a "+u(e,!0)+":",e.id),this._log.debug(u(e,!0)+":",e)),r}},{key:"_getTrackEvents",value:function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getTrackEvents",this).call(this).concat([["disabled","trackDisabled"],["enabled","trackEnabled"],["stopped","trackStopped"]])}},{key:"toString",value:function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"}},{key:"_handleTrackSignalingEvents",value:function(){var e=this,t=this._log;if("disconnected"!==this.state){var n=this._signaling;this.on("trackDisabled",i),this.on("trackEnabled",o),this.on("trackStopped",s),this._tracks.forEach(function(n){e._addLocalTrack(n,f.PRIORITY_STANDARD),e._getOrCreateLocalTrackPublication(n).catch(function(e){t.warn("Failed to get or create LocalTrackPublication for "+n+":",e)})});var r=this;n.on("stateChanged",function e(a){t.debug("Transitioned to state:",a),"disconnected"===a?(t.debug("Removing LocalTrack event listeners"),n.removeListener("stateChanged",e),r.removeListener("trackDisabled",i),r.removeListener("trackEnabled",o),r.removeListener("trackStopped",s),r._tracks.forEach(function(e){var t=s(e);t&&e._trackSender.removeClone(t._trackTransceiver)}),t.info("LocalParticipant disconnected. Stopping "+r._tracksToStop.size+" automatically-acquired LocalTracks"),r._tracksToStop.forEach(function(e){e.stop()})):"connected"===a&&(t.info("reconnected"),setTimeout(function(){return r.emit("reconnected")},0))})}function i(e){var r=n.getPublication(e._trackSender);r&&(r.disable(),t.debug("Disabled the "+u(e,!0)+":",e.id))}function o(e){var r=n.getPublication(e._trackSender);r&&(r.enable(),t.debug("Enabled the "+u(e,!0)+":",e.id))}function s(e){var t=n.getPublication(e._trackSender);return t&&t.stop(),t}}},{key:"_getOrCreateLocalTrackPublication",value:function(e){var t=S(this.tracks,e);if(t)return Promise.resolve(t);var n=this._log,r=this,i=this._signaling.getPublication(e._trackSender);if(!i)return Promise.reject(new Error("Unexpected error: The "+e+" cannot be published"));function o(e){r.unpublishTrack(e.track)}return new Promise(function(s,a){i.on("updated",function c(){var h=i.error;if(h)return i.removeListener("updated",c),n.warn("Failed to publish the "+u(e,!0)+": "+h.message),r._removeTrack(e,e.id),setTimeout(function(){r.emit("trackPublicationFailed",h,e)}),void a(h);if(!r._tracks.has(e.id))return i.removeListener("updated",c),void a(new Error("The "+e+" was unpublished"));if(i.sid){i.removeListener("updated",c);var d={log:n,LocalAudioTrackPublication:r._LocalAudioTrackPublication,LocalDataTrackPublication:r._LocalDataTrackPublication,LocalVideoTrackPublication:r._LocalVideoTrackPublication};(t=S(r.tracks,e))||(t=l(e,i,o,d),r._addTrackPublication(t)),"connected"===r._signaling.state&&setTimeout(function(){r.emit("trackPublished",t)}),s(t)}})})}},{key:"publishTrack",value:function(e,t){var n=S(this.tracks,e);if(n)return Promise.resolve(n);t=Object.assign({log:this._log,priority:f.PRIORITY_STANDARD,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},t);var r=void 0;try{r=c(e,t)}catch(s){return Promise.reject(s)}var i=Object.values(f);if(!i.includes(t.priority))return Promise.reject(d.INVALID_VALUE("LocalTrackPublishOptions.priority",i));var o=this._addTrack(r,r.id,t.priority)||this._tracks.get(r.id);return this._getOrCreateLocalTrackPublication(o)}},{key:"publishTracks",value:function(e){if(!Array.isArray(e))throw d.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(e.map(this.publishTrack,this))}},{key:"setBandwidthProfile",value:function(){this._log.warn("setBandwidthProfile is not implemented yet and may be available in future versions of twilio-video.js")}},{key:"setNetworkQualityConfiguration",value:function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)throw d.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach(function(t){if(t in e&&("number"!=typeof e[t]||isNaN(e[t])))throw d.INVALID_TYPE("networkQualityConfiguration."+t,"number")}),this._signaling.setNetworkQualityConfiguration(e),this}},{key:"setParameters",value:function(e){if(void 0!==e&&"object"!==(void 0===e?"undefined":r(e)))throw d.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");return e?["maxAudioBitrate","maxVideoBitrate"].forEach(function(t){if(void 0!==e[t]&&"number"!=typeof e[t]&&null!==e[t])throw d.INVALID_TYPE("encodingParameters."+t,"number, null or undefined")}):null===e&&(e={maxAudioBitrate:null,maxVideoBitrate:null}),this._signaling.setParameters(e),this}},{key:"unpublishTrack",value:function(e){p(e,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var t=this._tracks.get(e.id);if(!t)return null;if(this._signaling.getPublication(t._trackSender).publishFailed(new Error("The "+t+" was unpublished")),!(t=this._removeTrack(t,t.id)))return null;var n=S(this.tracks,t);return n&&this._removeTrackPublication(n),n}},{key:"unpublishTracks",value:function(e){var t=this;if(!Array.isArray(e))throw d.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return e.reduce(function(e,n){var r=t.unpublishTrack(n);return r?e.concat(r):e},[])}}]),t}(n("TTpt"));function S(e,t){return Array.from(e.values()).find(function(e){return e.track===t||e.track.mediaStreamTrack===t})||null}e.exports=k},MkmW:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout(function(){throw e},0)}},N7NK:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n("ghd6").isNonArrayObject,o=n("xwWy"),s=o.typeErrors,a=o.subscriptionMode,c=o.trackPriority,l=o.trackSwitchOffMode;function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return void 0===e?null:null!==e&&i(e)?n.reduce(function(n,i){var o=i.prop,a=i.type,c=i.values;if(n||!(o in e))return n;var l=e[o];return a&&(void 0===l?"undefined":r(l))!==a||"number"===a&&isNaN(l)?s.INVALID_TYPE(t+"."+o,a):Array.isArray(c)&&!c.includes(l)?s.INVALID_VALUE(t+"."+o,c):n},null):s.INVALID_TYPE(t,"object")}t.validateBandwidthProfile=function(e){var t=u(e,"options.bandwidthProfile");return!e||t?t:(t=u(e.video,"options.bandwidthProfile.video",[{prop:"dominantSpeakerPriority",values:Object.values(c)},{prop:"maxSubscriptionBitrate",type:"number"},{prop:"maxTracks",type:"number"},{prop:"mode",values:Object.values(a)},{prop:"trackSwitchOffMode",values:Object.values(l)}]))||(e.video?function(e){var t="options.bandwidthProfile.video.renderDimensions",n=u(e,t);return e?n||Object.values(c).reduce(function(n,r){return n||u(e[r],t+"."+r,[{prop:"height",type:"number"},{prop:"width",type:"number"}])},null):n}(e.video.renderDimensions):null)},t.validateLocalTrack=function(e,t){if(!(e instanceof t.LocalAudioTrack||e instanceof t.LocalDataTrack||e instanceof t.LocalVideoTrack||e instanceof t.MediaStreamTrack))throw s.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},t.validateObject=u},NCuz:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("mAYT"),o=n("ghd6"),s=o.buildLogLevels,a=o.valueToJSON,c=n("xwWy").DEFAULT_LOG_LEVEL,l=n("S3Hu"),u=0,h=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=Object.assign({name:e,log:null,logLevel:c},r);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=String(r.name),a=s(r.logLevel),h=r.log?r.log.createLog("media",i):new l("media",i,a,r.loggerName);return Object.defineProperties(i,{_instanceId:{value:++u},_log:{value:h},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:o}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toJSON",value:function(){return a(this)}}]),t}(i);e.exports=h},NSCw:function(e,t,n){"use strict";e.exports=function e(t){var n=t.actual,r=void 0===n?null:n,i=t.available,o=void 0===i?null:i,s=t.level,a=void 0===s?null:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{actual:{value:r,enumerable:!0},available:{value:o,enumerable:!0},level:{value:a,enumerable:!0}})}},NTcF:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("ffpz"),o=function(e){function t(n,r){void 0===r&&(r=i.Scheduler.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler);t.AsyncScheduler=o},NXBa:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("akGs"),o=n("HNKe"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,e,n));return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"next",value:function(e,t,n){var r=this.lastStats;this.lastStats=t,this.trackId=e;var i=o.of(e,r,t,n);return this.lastReport=i,i}}]),t}(i);e.exports=s},O22K:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.id,e));return Object.defineProperties(n,{_clones:{value:new Set},_senders:{value:new Set}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"clone",value:function(){var e=new t(this.track.clone());return this._clones.add(e),e}},{key:"removeClone",value:function(e){this._clones.delete(e)}},{key:"setMediaStreamTrack",value:function(e){var t=this,n=Array.from(this._clones),r=Array.from(this._senders);return Promise.all(n.map(function(t){return t.setMediaStreamTrack(e.clone())}).concat(r.map(function(t){return t.replaceTrack(e)}))).finally(function(){t._track=e})}},{key:"addSender",value:function(e){return this._senders.add(e),this}},{key:"removeSender",value:function(e){return this._senders.delete(e),this}}]),t}(n("uBG5"));e.exports=i},OAkW:function(e,t,n){"use strict";t.subscribeToArray=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},Q1FS:function(e,t,n){"use strict";var r=n("yx2s"),i=n("Xwq/"),o=n("zfKp"),s=n("9AGB"),a=n("n3uD");function c(e){if(e||(e=a.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=i.toSubscriber(e,t,n);if(o.add(r?r.call(o,this.source):this.source||a.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),r.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=c(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}()},QB7E:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=n("3oWx"),s=n("Ye3u"),a=n("ghd6").isDeepEqual,c=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=Object.assign({LocalTrackPublicationV2:s},r);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(i,{_bandwidthProfile:{value:null,writable:!0},_bandwidthProfileRevision:{value:0,writable:!0},_encodingParameters:{value:e},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:r.LocalTrackPublicationV2},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},_signalingRegion:{value:null,writable:!0},bandwidthProfile:{enumerable:!0,get:function(){return this._bandwidthProfile}},bandwidthProfileRevision:{enumerable:!0,get:function(){return this._bandwidthProfileRevision}},networkQualityConfiguration:{enumerable:!0,value:n},revision:{enumerable:!0,get:function(){return this._revision}},signalingRegion:{enumerable:!0,get:function(){return this._signalingRegion}}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"setSignalingRegion",value:function(e){this._signalingRegion||(this._signalingRegion=e)}},{key:"setBandwidthProfile",value:function(e){a(this._bandwidthProfile,e)||(this._bandwidthProfile=JSON.parse(JSON.stringify(e)),this._bandwidthProfileRevision++,this.didUpdate())}},{key:"setParameters",value:function(e){return this._encodingParameters.update(e),this}},{key:"update",value:function(e){return this._publishedRevision>=e.revision||(this._publishedRevision=e.revision,e.tracks.forEach(function(e){var t=this.tracks.get(e.id);t&&t.update(e)},this)),this}},{key:"_createLocalTrackPublicationSignaling",value:function(e,t,n){return new this._LocalTrackPublicationV2(e,t,n)}},{key:"addTrack",value:function(e,n,r){var o=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addTrack",this).call(this,e,n,r);var s=this.getPublication(e),a=s.isEnabled,c=s.updatedPriority,l=function(){a===s.isEnabled&&c===s.updatedPriority||(o.didUpdate(),a=s.isEnabled,c=s.updatedPriority)};return s.on("updated",l),this._removeListener(s),this._removeListeners.set(s,function(){return s.removeListener("updated",l)}),this.didUpdate(),this}},{key:"_removeListener",value:function(e){var t=this._removeListeners.get(e);t&&t()}},{key:"getState",value:function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map(function(e){return e.getState()})}}},{key:"didUpdate",value:function(){this._revision++,this.emit("updated")}},{key:"removeTrack",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeTrack",this).call(this,e);return n&&(e.removeClone(n.trackTransceiver),this._removeListener(n),this.didUpdate()),n}},{key:"setNetworkQualityConfiguration",value:function(e){this.networkQualityConfiguration.update(e)}}]),t}(o);e.exports=c},QH9v:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=n("UpXp"),s=n("ghd6").makeUUID,a=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s(),e,n,r));return Object.defineProperties(i,{_clones:{value:new Set},_dataChannels:{value:new Set}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_addClone",value:function(e){this._clones.add(e)}},{key:"removeClone",value:function(e){this._clones.delete(e)}},{key:"addDataChannel",value:function(e){return this._dataChannels.add(e),this}},{key:"clone",value:function(){var e=this,n=new t(this.maxPacketLifeTime,this.maxRetransmits,this.ordered);return this._addClone(n),n.once("stopped",function(){return e.removeClone(n)}),n}},{key:"removeDataChannel",value:function(e){return this._dataChannels.delete(e),this}},{key:"send",value:function(e){return this._dataChannels.forEach(function(t){try{t.send(e)}catch(n){}}),this._clones.forEach(function(t){try{t.send(e)}catch(n){}}),this}},{key:"stop",value:function(){this._dataChannels.forEach(function(e){return e.close()}),this._clones.forEach(function(e){return e.stop()}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this)}}]),t}(o);e.exports=a},QsSX:function(e,t,n){var r=n("+qE3"),i=n("zMHY"),o=n("MCLT"),s=n("KGUp"),a=n("HOot");function c(e,t,n){r.EventEmitter.call(this),i.checkIsFunction(e,"Expected fn to be a function."),i.checkIsArray(t,"Expected args to be an array."),i.checkIsFunction(n,"Expected callback to be a function."),this.function_=e,this.arguments_=t,this.callback_=n,this.lastResult_=[],this.numRetries_=0,this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.retryPredicate_=c.DEFAULT_RETRY_PREDICATE_,this.state_=c.State_.PENDING}o.inherits(c,r.EventEmitter),c.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},c.DEFAULT_RETRY_PREDICATE_=function(e){return!0},c.prototype.isPending=function(){return this.state_==c.State_.PENDING},c.prototype.isRunning=function(){return this.state_==c.State_.RUNNING},c.prototype.isCompleted=function(){return this.state_==c.State_.COMPLETED},c.prototype.isAborted=function(){return this.state_==c.State_.ABORTED},c.prototype.setStrategy=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.strategy_=e,this},c.prototype.retryIf=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.retryPredicate_=e,this},c.prototype.getLastResult=function(){return this.lastResult_.concat()},c.prototype.getNumRetries=function(){return this.numRetries_},c.prototype.failAfter=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.failAfter_=e,this},c.prototype.abort=function(){this.isCompleted()||this.isAborted()||(this.isRunning()&&this.backoff_.reset(),this.state_=c.State_.ABORTED,this.lastResult_=[new Error("Backoff aborted.")],this.emit("abort"),this.doCallback_())},c.prototype.start=function(e){i.checkState(!this.isAborted(),"FunctionCall is aborted."),i.checkState(this.isPending(),"FunctionCall already started.");var t=this.strategy_||new a;this.backoff_=e?e(t):new s(t),this.backoff_.on("ready",this.doCall_.bind(this,!0)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=c.State_.RUNNING,this.doCall_(!1)},c.prototype.doCall_=function(e){e&&this.numRetries_++;var t=["call"].concat(this.arguments_);r.EventEmitter.prototype.emit.apply(this,t);var n=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(n))},c.prototype.doCallback_=function(){this.callback_.apply(null,this.lastResult_)},c.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var e=Array.prototype.slice.call(arguments);this.lastResult_=e,r.EventEmitter.prototype.emit.apply(this,["callback"].concat(e));var t=e[0];t&&this.retryPredicate_(t)?this.backoff_.backoff(t):(this.state_=c.State_.COMPLETED,this.doCallback_())}},c.prototype.handleBackoff_=function(e,t,n){this.emit("backoff",e,t,n)},e.exports=c},Qvpb:function(e,t,n){"use strict";var r=n("ghd6").asLocalTrack,i=n("ghd6").buildLogLevels,o=n("2h1k").getUserMedia,s=n("VR5W"),a=s.LocalAudioTrack,c=s.LocalDataTrack,l=s.LocalVideoTrack,u=n("2h1k").MediaStreamTrack,h=n("S3Hu"),d=n("xwWy"),f=d.DEFAULT_LOG_LEVEL,p=d.DEFAULT_LOGGER_NAME,g=n("cV4H"),m=0;e.exports=function(e){var t=!(e&&("audio"in e||"video"in e));e=Object.assign({audio:t,getUserMedia:o,loggerName:p,logLevel:f,LocalAudioTrack:a,LocalDataTrack:c,LocalVideoTrack:l,MediaStreamTrack:u,Log:h,video:t},e);var n="[createLocalTracks #"+ ++m+"]",s=i(e.logLevel),d=new e.Log("default",n,s,e.loggerName),y=Object.assign({log:d},e);if(delete y.name,!1===e.audio&&!1===e.video)return d.info("Neither audio nor video requested, so returning empty LocalTracks"),Promise.resolve([]);if(e.tracks)return d.info("Adding user-provided LocalTracks"),d.debug("LocalTracks:",e.tracks),Promise.resolve(e.tracks);var v={audio:e.audio&&e.audio.name?{name:e.audio.name}:{},video:e.video&&e.video.name?{name:e.video.name}:{}};v.audio.isCreatedByCreateLocalTracks=!0,v.video.isCreatedByCreateLocalTracks=!0,e.audio&&"boolean"==typeof e.audio.workaroundWebKitBug1208516&&(v.audio.workaroundWebKitBug1208516=e.audio.workaroundWebKitBug1208516),e.video&&"boolean"==typeof e.video.workaroundWebKitBug1208516&&(v.video.workaroundWebKitBug1208516=e.video.workaroundWebKitBug1208516),e.audio&&delete e.audio.name,e.video&&delete e.video.name;var b={audio:e.audio,video:e.video};return(e.audio&&e.audio.workaroundWebKitBug180748?g(d,e.getUserMedia,b):e.getUserMedia(b)).then(function(e){var t=e.getAudioTracks().concat(e.getVideoTracks());return d.info("Call to getUserMedia successful; got MediaStreamTracks:",t),t.map(function(e){return r(e,Object.assign(v[e.kind],y))})},function(e){throw d.warn("Call to getUserMedia failed:",e),e})}},R7wr:function(e,t,n){"use strict";t.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},ROvb:function(e,t,n){"use strict";var r=n("2h1k").RTCSessionDescription,i=n("9dY8").createPtToCodecName,o=n("9dY8").getMediaSections;function s(e){var t=i(e);e=function(e,t){return Array.from(t.keys()).reduce(function(e,n){var r=new RegExp("^a=rtpmap:"+n+" rtx.+$","gm");return(e.match(r)||[]).slice("rtx"===t.get(n)?1:0).reduce(function(e,t){var r=new RegExp("\r\n"+t),i=new RegExp("\r\na=fmtp:"+n+" apt=[0-9]+");return e.replace(r,"").replace(i,"")},e)},e)}(e,t);var n=function(e){var t=new Map;return e.forEach(function(e,n){var r=t.get(e)||new Set;return t.set(e,r.add(n))}),t}(t),r=n.get("rtx")||new Set,o=new Set,s=function(e,t){var n=Array.from(e).reduce(function(e,t){var n=t[0],r=t[1],i=e.get(r)||new Set;return e.set(r,i.add(n))},new Map);return Array.from(n).reduce(function(e,n){var r=n[0],i=Array.from(n[1]);return i.length>1?(i.forEach(function(e){t.add(e)}),e):e.set(r,i[0])},new Map)}(function(e,t,n,r){return Array.from(n).reduce(function(n,i){var o=new RegExp("a=fmtp:"+i+" apt=(\\d+)"),s=e.match(o);if(!s)return r.add(i),n;var a=Number.parseInt(s[1]);return t.has(a)?"rtx"===t.get(a)?(r.add(i),n):n.set(i,a):(r.add(i),n)},new Map)}(e,t,r,o),o),c=Array.from(o);return["h264","vp8","vp9"].reduce(function(e,t){var r=n.get(t)||new Set;return Array.from(r).reduce(function(e,t){return s.has(t)?e:e.add(t)},e)},new Set).forEach(function(t){if(c.length){var n=c.shift();e=function(e,t,n){return e.endsWith("\r\n")?e+"a=fmtp:"+t+" apt="+n+"\r\n":e+"\r\na=fmtp:"+t+" apt="+n}(e=a(e,n),n,t)}}),c.forEach(function(t){e=function(e,t){var n=new RegExp("a=rtpmap:"+t+".*\r\n","gm");return e.replace(n,"")}(e=a(e,t),t)}),e}function a(e,t){var n=new RegExp("a=fmtp:"+t+".*\r\n","gm");return e.replace(n,"")}e.exports=function(e){var t,n,i={type:e.type};return"rollback"!==e.type&&(i.sdp=(n=o(t=e.sdp),[t.split("\r\nm=")[0]].concat(n.map(s)).join("\r\n"))),new r(i)}},"Rj+V":function(e,t,n){"use strict";var r=n("MCLT").inherits,i=n("z1nD");function o(e){var t=new i(e);return Object.setPrototypeOf(t,o.prototype),t}r(o,i),e.exports=o},S3Hu:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cmf6").getLogger,s=n("xwWy"),a=s.DEFAULT_LOG_LEVEL,c=s.DEFAULT_LOGGER_NAME,l=n("xwWy").typeErrors,u=void 0,h=function(){function e(t,n,i,s,u){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw l.INVALID_TYPE("moduleName","string");if(!n)throw l.REQUIRED_ARGUMENT("component");"object"!==(void 0===i?"undefined":r(i))&&(i={}),u=u||o,m(i),Object.defineProperties(this,{_component:{value:n},_logLevels:{value:i},_warnings:{value:new Set},_loggerName:{get:function(){var e=s&&"string"==typeof s?s:c;return this._logLevelsEqual||(e=e+"-"+t),e}},_logger:{get:function(){var e=u(this._loggerName),n=this._logLevels[t]||a;return e.setDefaultLevel(n="off"===n?"silent":n),e}},_logLevelsEqual:{get:function(){return 1===new Set(Object.values(this._logLevels)).size}},logLevel:{get:function(){return e.getLevelByName(i[t]||a)}},name:{get:n.toString.bind(n)}})}return i(e,[{key:"createLog",value:function(t,n){var r=this._loggerName;return this._logLevelsEqual||(r=r.substring(0,r.lastIndexOf("-"))),new e(t,n,this._logLevels,r)}},{key:"setLevels",value:function(e){return m(e),Object.assign(this._logLevels,e),this}},{key:"log",value:function(t,n){var r=e._levels[t];if(!r)throw l.INVALID_VALUE("logLevel",f);r=r.toLowerCase();var i=[(new Date).toISOString(),r,this.name];return(this._logger[r]||function(){}).apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.concat(n))),this}},{key:"debug",value:function(){return this.log(e.DEBUG,[].slice.call(arguments))}},{key:"deprecated",value:function(e){var t=function(e){if((u=u||new Map).has(e))return u.get(e);var t=new Set;return u.set(e,t),t}(this._component.constructor);return t.has(e)?this:(t.add(e),this.warn(e))}},{key:"info",value:function(){return this.log(e.INFO,[].slice.call(arguments))}},{key:"warn",value:function(){return this.log(e.WARN,[].slice.call(arguments))}},{key:"warnOnce",value:function(e){return this._warnings.has(e)?this:(this._warnings.add(e),this.warn(e))}},{key:"error",value:function(){return this.log(e.ERROR,[].slice.call(arguments))}},{key:"throw",value:function(t,n){throw t.clone&&(t=t.clone(n)),this.log(e.ERROR,t),t}}],[{key:"getLevelByName",value:function(t){return isNaN(t)?(g(t=t.toUpperCase()),e[t]):parseInt(t,10)}}]),e}();Object.defineProperties(h,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:["DEBUG","INFO","WARN","ERROR","OFF"]}});var d={},f=[],p=h._levels.map(function(e,t){return d[e]=!0,f.push(t),e});function g(e){if(!(e in d))throw l.INVALID_VALUE("level",p)}function m(e){Object.keys(e).forEach(function(t){g(e[t].toUpperCase())})}e.exports=h},"SAu+":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(e){var n;o(this,t);var r=[].slice.call(arguments,1),a=s(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(i(r)))),c=Error.apply(a,r);return c.name="TwilioError",Object.defineProperty(a,"code",{value:e,enumerable:!0}),Object.getOwnPropertyNames(c).forEach(function(e){Object.defineProperty(this,e,{value:c[e],enumerable:!0})},a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),r(t,[{key:"toString",value:function(){return this.name+" "+this.code+(this.message?": "+this.message:"")}}]),t}();e.exports=a},STyX:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{availableSend:{enumerable:!0,value:r},recv:{enumerable:!0,value:n},rtt:{enumerable:!0,value:i},send:{enumerable:!0,value:t}})}return r(e,null,[{key:"of",value:function(t,n){var r=(n.timestamp-t.timestamp)/1e3;return new e(r>0?(n.bytesSent-t.bytesSent)/r*8:0,r>0?(n.bytesReceived-t.bytesReceived)/r*8:0,n.availableOutgoingBitrate,n.currentRoundTripTime)}}]),e}();e.exports=i},"T/xC":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("iWhl").getSdpFormat,o=n("iqXr"),s=n("tPbP"),a=n("sJKT"),c=n("gEVb"),l=n("FjKE"),u=n("Czg6"),h=n("xwWy").reconnectBackoffConfig,d=n("Y1/N"),f=n("ghd6"),p=f.createBandwidthProfilePayload,g=f.createMediaSignalingPayload,m=f.createSubscribePayload,y=f.getUserAgent,v=f.isNonArrayObject,b=n("5wwa"),_=b.createTwilioError,w=b.RoomCompletedError,k=b.SignalingConnectionError,S=b.SignalingServerBusyError,C=o.name+".js",T=o.version,O={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},E=function(e){function t(e,n,r,o,c,d){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d=Object.assign({Backoff:u,InsightsPublisher:s,NullInsightsPublisher:a,TwilioConnection:l,iceServers:null,sdpFormat:i(d.sdpSemantics),trackPriority:!0,trackSwitchOff:!0,userAgent:y()},d);var f=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connecting",O)),p={};return d.wsServerInsights&&(p.gateway=d.wsServerInsights),Object.defineProperties(f,{_accessToken:{value:n},_automaticSubscription:{value:d.automaticSubscription},_bandwidthProfile:{value:d.bandwidthProfile},_dominantSpeaker:{value:d.dominantSpeaker},_eventPublisher:{value:new(d.insights?d.InsightsPublisher:d.NullInsightsPublisher)(n,C,T,d.environment,d.realm,p)},_iceServersStatus:{value:Array.isArray(d.iceServers)?"overrode":"acquire"},_localParticipant:{value:r},_name:{value:e},_networkQuality:{value:v(d.networkQuality)||d.networkQuality},_options:{value:d},_peerConnectionManager:{value:o},_sessionTimer:{value:null,writable:!0},_sessionTimeoutMS:{value:0,writable:!0},_reconnectBackoff:{value:d.Backoff.exponential(h)},_session:{value:null,writable:!0},_trackPriority:{value:d.trackPriority},_trackSwitchOff:{value:d.trackSwitchOff},_twilioConnection:{value:null,writable:!0},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:d.userAgent},_wsServer:{value:c}}),d.eventObserver&&d.eventObserver.setPublisher(f._eventPublisher),function(e){function t(){if("disconnected"!==e.state){e._twilioConnection&&e._twilioConnection.removeListener("message",r);var t=e._options,i=t.TwilioConnection,o=new i(e._wsServer,Object.assign({helloBody:"connecting"===e.state&&"acquire"===e._iceServersStatus?e._createIceMessage():e._createConnectOrSyncOrDisconnectMessage()},t));o.once("close",function(e){e===i.CloseReason.LOCAL?n():n(new Error(e))}),o.on("message",r),e._twilioConnection=o}}function n(n){if("disconnected"!==e.state)if(n){var r=e._getReconnectTimer();if(r)"connected"===e.state&&e.preempt("syncing"),r.then(t);else{var i=n.message===l.CloseReason.BUSY?new S:new k;e.disconnect(i)}}else e.disconnect()}function r(t){if("disconnected"!==e.state)if("error"!==t.type)switch(e.state){case"connected":switch(t.type){case"connected":case"synced":case"update":return void e.emit("message",t);case"disconnected":return void e.disconnect("completed"===t.status?new w:null);default:return}case"connecting":switch(t.type){case"iced":return void e._options.onIced(t.ice_servers).then(function(){e._sendConnectOrSyncOrDisconnectMessage()});case"connected":return e._setSession(t.session,t.options.session_timeout),e.emit("connected",t),void e.preempt("connected");case"synced":case"update":return void e._updatesReceived.push(t);case"disconnected":return void e.disconnect("completed"===t.status?new w:null);default:return}case"syncing":switch(t.type){case"connected":case"update":return void e._updatesReceived.push(t);case"synced":return e._clearReconnectTimer(),e.emit("message",t),void e.preempt("connected");case"disconnected":return void e.disconnect("completed"===t.status?new w:null);default:return}default:return}else e.disconnect(_(t.code,t.message))}e.on("stateChanged",function t(n){switch(n){case"connected":var i=e._updatesToSend.splice(0);return i.length&&e.publish(function(e){return e.reduce(function(e,t){return(!e.participant&&t.participant||e.participant&&t.participant&&t.participant.revision>e.participant.revision)&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=P(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=P(e.peer_connections.concat(t.peer_connections))),e},{})}(i)),void e._updatesReceived.splice(0).forEach(function(t){return e.emit("message",t)});case"disconnected":return e._twilioConnection.removeListener("message",r),void e.removeListener("stateChanged",t);case"syncing":default:return}});var i=e._options;"overrode"===e._iceServersStatus?(0,i.onIced)(i.iceServers).then(t):t()}(f),f.once("connected",function(e){f._eventPublisher.connect(e.sid,e.participant.sid)}),f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_createConnectOrSyncOrDisconnectMessage",value:function(){if("connected"===this.state)return null;if("disconnected"===this.state)return{session:this._session,type:"disconnect",version:2};var e={connecting:"connect",syncing:"sync"}[this.state],t={name:this._name,participant:this._localParticipant.getState(),peer_connections:this._peerConnectionManager.getStates(),type:e,version:2};if("connect"===t.type){t.ice_servers=this._iceServersStatus,t.publisher={name:C,sdk_version:T,user_agent:this._userAgent},this._bandwidthProfile&&(t.bandwidth_profile=p(this._bandwidthProfile)),t.media_signaling=g(this._dominantSpeaker,this._networkQuality,this._trackPriority,this._trackSwitchOff),t.subscribe=m(this._automaticSubscription);var n=this._options.sdpFormat;n&&(t.format=n),t.token=this._accessToken}else"sync"===t.type?(t.session=this._session,t.token=this._accessToken):"update"===t.type&&(t.session=this._session);return t}},{key:"_createIceMessage",value:function(){return{edge:"roaming",token:this._accessToken,type:"ice",version:1}}},{key:"_sendConnectOrSyncOrDisconnectMessage",value:function(){var e=this._createConnectOrSyncOrDisconnectMessage();e&&this._twilioConnection.sendMessage(e)}},{key:"disconnect",value:function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),this._sendConnectOrSyncOrDisconnectMessage(),this._twilioConnection.close(),this._eventPublisher.disconnect(),!0)}},{key:"publish",value:function(e){switch(this.state){case"connected":return this._twilioConnection.sendMessage(Object.assign({session:this._session,type:"update",version:2},e)),!0;case"connecting":case"syncing":return this._updatesToSend.push(e),!0;case"disconnected":default:return!1}}},{key:"publishEvent",value:function(e,t,n){return this._eventPublisher.publish(e,t,n)}},{key:"sync",value:function(){return"connected"===this.state&&(this.preempt("syncing"),this._sendConnectOrSyncOrDisconnectMessage(),!0)}},{key:"_setSession",value:function(e,t){this._session=e,this._sessionTimeoutMS=1e3*t}},{key:"_getReconnectTimer",value:function(){var e=this;return 0===this._sessionTimeoutMS?null:(this._sessionTimer||(this._sessionTimer=new d(function(){e._sessionTimer&&(e._sessionTimeoutMS=0)},this._sessionTimeoutMS)),new Promise(function(t){e._reconnectBackoff.once("ready",t),e._reconnectBackoff.backoff()}))}},{key:"_clearReconnectTimer",value:function(){this._reconnectBackoff.reset(),this._sessionTimer&&(this._sessionTimer.clear(),this._sessionTimer=null)}}]),t}(c);function P(e){return Array.from(e.reduce(function(e,t){var n=e.get(t.id)||t;return(!n.description&&t.description||n.description&&t.description&&t.description.revision>n.description.revision)&&(n.description=t.description),(!n.ice&&t.ice||n.ice&&t.ice&&t.ice.revision>n.ice.revision)&&(n.ice=t.ice),e.set(n.id,n),e},new Map).values())}e.exports=E},T5BQ:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("xwWy"),o=i.ICE_ACTIVITY_CHECK_PERIOD_MS,s=i.ICE_INACTIVITY_THRESHOLD_MS,a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=Object.assign({activityCheckPeriodMs:o,inactivityThresholdMs:s},n),Object.defineProperties(this,{_activityCheckPeriodMs:{value:n.activityCheckPeriodMs},_inactivityThresholdMs:{value:n.inactivityThresholdMs},_lastActivity:{value:null,writable:!0},_peerConnection:{value:t},_timer:{value:null,writable:!0},_onIceConnectionStateChanged:{value:null,writable:!0}})}return r(e,[{key:"_getActivePairStat",value:function(e){var t=Array.from(e.values());return t.find(function(e){return"inbound-rtp"===e.type})?t.find(function(e){return"candidate-pair"===e.type&&e.nominated})||{bytesReceived:0,timestamp:Math.round((new Date).getTime())}:null}},{key:"_getIceConnectionStats",value:function(){var e=this;return this._peerConnection.getStats().then(function(t){return e._getActivePairStat(t)}).catch(function(){return null})}},{key:"_scheduleInactivityCallback",value:function(e){var t=this;e&&null===this._onIceConnectionStateChanged?(this._onIceConnectionStateChanged=function(){"disconnected"===t._peerConnection.iceConnectionState&&e()},this._peerConnection.addEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged)):!e&&this._onIceConnectionStateChanged&&(this._peerConnection.removeEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged),this._onIceConnectionStateChanged=null)}},{key:"start",value:function(e){var t=this;this.stop(),this._timer=setInterval(function(){t._getIceConnectionStats().then(function(n){n&&(t._lastActivity&&t._lastActivity.bytesReceived===n.bytesReceived||(t._lastActivity=n,t._scheduleInactivityCallback(null)),n.timestamp-t._lastActivity.timestamp>=t._inactivityThresholdMs&&("disconnected"===t._peerConnection.iceConnectionState?e():null===t._onIceConnectionStateChanged&&t._scheduleInactivityCallback(e)))})},this._activityCheckPeriodMs)}},{key:"stop",value:function(){this._scheduleInactivityCallback(null),null!==this._timer&&(clearInterval(this._timer),this._timer=null,this._lastActivity=null)}}]),e}();e.exports=a},TM7a:function(e,t,n){"use strict";e.exports=function(e,t,n){n="number"==typeof n?n:250;var r=e.createMediaStreamSource(t),i=e.createAnalyser();i.fftSize=2048,r.connect(i);var o=new Uint8Array(i.fftSize),s=!1;return setTimeout(function(){s=!0},n),function e(){return s?Promise.resolve(!0):(i.getByteTimeDomainData(o),o.some(function(e){return 128!==e&&0!==e})?Promise.resolve(!1):function(e){return e="number"==typeof e?e:0,new Promise(function(t){return setTimeout(t,e)})}().then(e))}().then(function(e){return r.disconnect(),e},function(e){throw r.disconnect(),e})}},TTpt:function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=n("mAYT"),a=n("6frX"),c=n("8vSI"),l=n("Vh62"),u=n("m8+h"),h=n("Ds+w"),d=n("6vXP"),f=n("ghd6"),p=0,g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=function(e){var t=e.map(function(e){return[e.id,e]}),n=t.filter(function(e){return"audio"===e[1].kind}),r=t.filter(function(e){return"video"===e[1].kind});return{audioTracks:n,dataTracks:t.filter(function(e){return"data"===e[1].kind}),tracks:t,videoTracks:r}}((n=Object.assign({RemoteAudioTrack:a,RemoteAudioTrackPublication:c,RemoteDataTrack:l,RemoteDataTrackPublication:u,RemoteVideoTrack:h,RemoteVideoTrackPublication:d,tracks:[]},n)).tracks),o=n.log.createLog("default",r),s=new Map(i.audioTracks),f=new Map(i.dataTracks),g=new Map(i.tracks),y=new Map(i.videoTracks);return Object.defineProperties(r,{_RemoteAudioTrack:{value:n.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:n.RemoteAudioTrackPublication},_RemoteDataTrack:{value:n.RemoteDataTrack},_RemoteDataTrackPublication:{value:n.RemoteDataTrackPublication},_RemoteVideoTrack:{value:n.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:n.RemoteVideoTrackPublication},_audioTracks:{value:s},_dataTracks:{value:f},_instanceId:{value:++p},_log:{value:o},_signaling:{value:e},_tracks:{value:g},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},_videoTracks:{value:y},audioTracks:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return e.identity}},networkQualityLevel:{enumerable:!0,get:function(){return e.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return e.networkQualityStats}},sid:{enumerable:!0,get:function(){return e.sid}},state:{enumerable:!0,get:function(){return e.state}},tracks:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:new Map}}),r._tracks.forEach(m.bind(null,r)),e.on("networkQualityLevelChanged",function(){return r.emit("networkQualityLevelChanged",r.networkQualityLevel,r.networkQualityStats&&(r.networkQualityStats.audio||r.networkQualityStats.video)?r.networkQualityStats:null)}),function(e,t){var n=e._log;"disconnected"!==e.state&&t.on("stateChanged",function r(i){n.debug("Transitioned to state:",i),e.emit(i,e),"disconnected"===i&&(n.debug("Removing Track event reemitters"),t.removeListener("stateChanged",r),e._tracks.forEach(function(t){var n=e._trackEventReemitters.get(t.id);t&&n&&n.forEach(function(e,n){t.removeListener(n,e)})}),t.tracks.forEach(function(t){var n=e._tracks.get(t.id),r=e._trackEventReemitters.get(t.id);n&&r&&r.forEach(function(e,t){n.removeListener(t,e)})}),e._trackEventReemitters.clear(),e.tracks.forEach(function(t){e._trackPublicationEventReemitters.get(t.trackSid).forEach(function(e,n){t.removeListener(n,e)})}),e._trackPublicationEventReemitters.clear())})}(r,e),o.info("Created a new Participant"+(r.identity?": "+r.identity:"")),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_getTrackEvents",value:function(){return[["dimensionsChanged","trackDimensionsChanged"],["message","trackMessage"],["started","trackStarted"]]}},{key:"_getTrackPublicationEvents",value:function(){return[]}},{key:"toString",value:function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"}},{key:"_addTrack",value:function(e,t){var n=this._log;return this._tracks.has(t)?null:(this._tracks.set(t,e),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].set(t,e),m(this,e,t),n.info("Added a new "+f.trackClass(e)+":",t),n.debug(f.trackClass(e)+":",e),e)}},{key:"_addTrackPublication",value:function(e){var t=this._log;return this.tracks.has(e.trackSid)?null:(this.tracks.set(e.trackSid,e),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].set(e.trackSid,e),function(e,t){var n=new Map;"disconnected"!==e.state&&(e._getTrackPublicationEvents().forEach(function(i){var o=r(i,2),s=o[0],a=o[1];n.set(s,function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.emit.apply(e,[a].concat(r,[t]))}),t.on(s,n.get(s))}),e._trackPublicationEventReemitters.set(t.trackSid,n))}(this,e),t.info("Added a new "+f.trackPublicationClass(e)+":",e.trackSid),t.debug(f.trackPublicationClass(e)+":",e),e)}},{key:"_handleTrackSignalingEvents",value:function(){var e=this._log,t=this;if("disconnected"!==this.state){var n=this._RemoteAudioTrack,i=this._RemoteAudioTrackPublication,o=this._RemoteVideoTrack,s=this._RemoteVideoTrackPublication,a=this._RemoteDataTrack,c=this._RemoteDataTrackPublication,l=this._signaling;l.on("trackAdded",u),l.on("trackRemoved",h),l.tracks.forEach(u),l.on("stateChanged",function n(r){"disconnected"===r?(e.debug("Removing event listeners"),l.removeListener("stateChanged",n),l.removeListener("trackAdded",u),l.removeListener("trackRemoved",h)):"connected"===r&&(e.info("reconnected"),setTimeout(function(){return t.emit("reconnected")},0))})}function u(n){var o=new(0,{audio:i,data:c,video:s}[n.kind])(n,{log:e});t._addTrackPublication(o);var a=n.isSubscribed;a&&d(n),t._trackSignalingUpdatedEventCallbacks.set(n.sid,function(){if(a!==n.isSubscribed){if(a=n.isSubscribed)return void d(n);!function(e){var n=Array.from(t._tracks.entries()).find(function(t){return r(t,2)[1].sid===e.sid}),i=r(n,2),o=i[0],s=i[1],a=t.tracks.get(e.sid);s&&t._removeTrack(s,a,o)}(n)}}),n.on("updated",t._trackSignalingUpdatedEventCallbacks.get(n.sid))}function h(e){e.isSubscribed&&e.setTrackTransceiver(null);var n=t._trackSignalingUpdatedEventCallbacks.get(e.sid);n&&(e.removeListener("updated",n),t._trackSignalingUpdatedEventCallbacks.delete(e.sid));var r=t.tracks.get(e.sid);r&&t._removeTrackPublication(r)}function d(r){var i=r.isEnabled,s=r.name,c=r.kind,u=r.sid,h=r.trackTransceiver,d={audio:n,video:o,data:a}[c],f=t.tracks.get(u);if(d&&c===h.kind){var p={log:e,name:s},g="data"===c?new d(u,h,p):new d(u,h,i,function(e){return l.updateSubscriberTrackPriority(u,e)},p);t._addTrack(g,f,h.id)}}}},{key:"_removeTrack",value:function(e,t){if(!this._tracks.has(t))return null;this._tracks.delete(t),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].delete(t),(this._trackEventReemitters.get(t)||new Map).forEach(function(t,n){e.removeListener(n,t)});var n=this._log;return n.info("Removed a "+f.trackClass(e)+":",t),n.debug(f.trackClass(e)+":",e),e}},{key:"_removeTrackPublication",value:function(e){if(!(e=this.tracks.get(e.trackSid)))return null;this.tracks.delete(e.trackSid),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].delete(e.trackSid),(this._trackPublicationEventReemitters.get(e.trackSid)||new Map).forEach(function(t,n){e.removeListener(n,t)});var t=this._log;return t.info("Removed a "+f.trackPublicationClass(e)+":",e.trackSid),t.debug(f.trackPublicationClass(e)+":",e),e}},{key:"toJSON",value:function(){return f.valueToJSON(this)}}]),t}(s);function m(e,t,n){var r=new Map;"disconnected"!==e.state&&(e._getTrackEvents().forEach(function(n){var i=n[0],s=n[1];r.set(i,function(){var t=[s].concat([].slice.call(arguments));return e.emit.apply(e,o(t))}),t.on(i,r.get(i))}),e._trackEventReemitters.set(n,r))}e.exports=g},U2p0:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1pIY"),o=n("R7wr"),s=n("FWf1"),a=n("xKqS");t.delay=function(e,t){void 0===t&&(t=i.async);var n=o.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(n,t))}};var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new u(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete()),this.unsubscribe()},t}(s.Subscriber),u=function(){return function(e,t){this.time=e,this.notification=t}}()},UBwA:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;i(this,e),Object.defineProperties(this,{_listeners:{value:[]},_onVisibilityChange:{value:function(){"visible"===document.visibilityState&&t._emitVisible()}}});for(var r=0;r<n;r++)this._listeners.push([])}return r(e,[{key:"_listenerCount",value:function(){return this._listeners.reduce(function(e,t){return e+t.length},0)}},{key:"_emitVisible",value:function(){for(var e=this,t=Promise.resolve(),n=function(n){t=t.then(function(){return e._emitVisiblePhase(n)})},r=1;r<=this._listeners.length;r++)n(r);return t}},{key:"_emitVisiblePhase",value:function(e){return Promise.all(this._listeners[e-1].map(function(e){var t=e();return t instanceof Promise?t:Promise.resolve(t)}))}},{key:"_start",value:function(){document.addEventListener("visibilitychange",this._onVisibilityChange)}},{key:"_stop",value:function(){document.removeEventListener("visibilitychange",this._onVisibilityChange)}},{key:"onVisible",value:function(e,t){if("number"!=typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);return this._listeners[e-1].push(t),1===this._listenerCount()&&this._start(),this}},{key:"offVisible",value:function(e,t){if("number"!=typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);var n=this._listeners[e-1],r=n.indexOf(t);return-1!==r&&(n.splice(r,1),0===this._listenerCount()&&this._stop()),this}}]),e}();e.exports=new o(2)},UQcK:function(e,t,n){"use strict";e.exports=function(e){Object.defineProperties(this,{track:{enumerable:!0,value:e,writable:!0}})}},"UZ/N":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("2xLa"),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,e,n));return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"next",value:function(e,t){var n=this.lastStats;this.lastStats=t,this.trackId=e;var r=i.of(e,n,t);return this.lastReport=r,r}}]),t}(n("akGs"));e.exports=o},Um2Z:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_mediaSignalingTransport:{value:t}})}return r(e,[{key:"sendTrackPriorityUpdate",value:function(e,t,n){var r,i,o;this._mediaSignalingTransport.publish((o=n,(i=t)in(r={type:"track_priority",track:e})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r))}}]),e}();e.exports=i},UpXp:function(e,t,n){"use strict";var r=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"data"));return Object.defineProperties(o,{maxPacketLifeTime:{enumerable:!0,value:n},maxRetransmits:{enumerable:!0,value:r},ordered:{enumerable:!0,value:i}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("Jhn5"));e.exports=r},VR5W:function(e,t,n){"use strict";e.exports={LocalAudioTrack:n("gJbR"),LocalVideoTrack:n("2NPH"),LocalDataTrack:n("Rj+V")}},VUT2:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(n,{_dataChannel:{value:e},_messageQueue:{value:[]}}),e.addEventListener("open",function(){n._messageQueue.splice(0).forEach(function(e){return n._publish(e)})}),e.addEventListener("message",function(e){var t=e.data;try{var r=JSON.parse(t);n.emit("message",r)}catch(i){}}),n.publish({type:"ready"}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_publish",value:function(e){var t=JSON.stringify(e);try{this._dataChannel.send(t)}catch(n){}}},{key:"publish",value:function(e){var t=this._dataChannel;return"closing"!==t.readyState&&"closed"!==t.readyState&&("connecting"===t.readyState?(this._messageQueue.push(e),!0):(this._publish(e),!0))}}]),t}(n("+qE3").EventEmitter);e.exports=i},VgEY:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=n("+qE3"),a=["signaling","room"],c=["debug","error","info","warning"],l=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(s,{_publisher:{value:null,writable:!0}}),s.on("event",function(t){var i=t.name,o=t.group,l=t.level,u=t.payload;if("string"!=typeof i)throw new Error("Unexpected name: ",i);if(!a.includes(o))throw new Error("Unexpected group: ",o);if(!c.includes(l))throw new Error("Unexpected level: ",l);var h=Date.now(),d=h-e;if(s._publisher){var f=Object.assign(u||{},{elapsedTime:d,level:l});s._publisher.publish(o,i,f)}var p=Object.assign(u?{payload:u}:{},{elapsedTime:d,group:o,level:l,name:i,timestamp:h});if(n[{debug:"debug",error:"error",info:"info",warning:"warn"}[l]]("event",p),r&&"signaling"===o){var g=Object.assign(u?{payload:u}:{},{elapsedTime:d,group:o,level:l,name:i,timestamp:h});r.emit("event",g)}}),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"setPublisher",value:function(e){this._publisher=e}}]),t}(s.EventEmitter);e.exports=l},Vh62:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("NCuz"),o=n("xwWy"),s=o.typeErrors,a=o.trackPriority,c=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,"data",r));return Object.defineProperties(i,{_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},maxPacketLifeTime:{enumerable:!0,value:n.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:n.maxRetransmits},ordered:{enumerable:!0,value:n.ordered},priority:{enumerable:!0,get:function(){return this._priority}},reliable:{enumerable:!0,value:null===n.maxPacketLifeTime&&null===n.maxRetransmits},sid:{enumerable:!0,value:e}}),n.on("message",function(e){i.emit("message",e,i)}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"setPriority",value:function(e){var t=[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.values(a)));if(!t.includes(e))throw s.INVALID_VALUE("priority",t);return this._priority=e,this}},{key:"_setEnabled",value:function(){}},{key:"_setSwitchedOff",value:function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))}}]),t}(i);e.exports=c},Vkbc:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("ghd6"),o=n("9dY8").getMediaSections;function s(){return{matched:new Set,unmatched:new Set}}var a=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(this instanceof e))return new e;Object.defineProperties(this,{audio:{enumerable:!0,value:s()},video:{enumerable:!0,value:s()}})}return r(e,[{key:"match",value:function(e){return function(e){var t=Array.from(e.unmatched);if(!t.length)return null;var n=t[0];return e.matched.add(n),e.unmatched.delete(n),n}(this[e.track.kind])}},{key:"update",value:function(e){["audio","video"].forEach(function(t){var n,r;n=this[t],r=function(e,t){var n=o(t,e),r="msid: ?(.+) +(.+) ?$";return new Set(i.flatMap(n,function(e){return e.match(new RegExp(r,"mg"))||[]}).map(function(e){return e.match(new RegExp(r))[2]}))}(t,e),r=new Set(r),i.difference(n.matched,r).forEach(n.matched.delete,n.matched),n.unmatched=i.difference(r,n.matched)},this)}}]),e}();e.exports=a},WHMX:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r,i,o));return Object.defineProperties(s,{_isSwitchedOff:{value:!1,writable:!0}}),s.setSid(e),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"subscribeFailed",value:function(e){return this.error||(this._error=e,this.emit("updated")),this}},{key:"setPriority",value:function(e){return this._priority!==e&&(this._priority=e,this.emit("updated")),this}},{key:"setSwitchedOff",value:function(e){return this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit("updated")),this}},{key:"isSubscribed",get:function(){return!!this.trackTransceiver}},{key:"isSwitchedOff",get:function(){return this._isSwitchedOff}}]),t}(n("Ivmz"));e.exports=i},XI6i:function(e,t,n){"use strict";var r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("hkYD"));e.exports=r},"Xwq/":function(e,t,n){"use strict";var r=n("FWf1"),i=n("p//D"),o=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(o.empty)}},"Y1/N":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i(this,e),Object.defineProperties(this,{_delay:{value:n,writable:!0},_fn:{value:t},_timeout:{value:null,writable:!0}}),r&&this.start()}return r(e,[{key:"setDelay",value:function(e){this._delay=e}},{key:"start",value:function(){var e=this;this.isSet||(this._timeout=setTimeout(function(){var t=e._fn;e.clear(),t()},this._delay))}},{key:"clear",value:function(){clearTimeout(this._timeout),this._timeout=null}},{key:"reset",value:function(){this.clear(),this.start()}},{key:"delay",get:function(){return this._delay}},{key:"isSet",get:function(){return!!this._timeout}}]),e}();e.exports=o},Ye3u:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("shdM"),o=n("5wwa").createTwilioError,s=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getState",value:function(){return{enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name,priority:this.updatedPriority}}},{key:"update",value:function(e){switch(e.state){case"ready":this.setSid(e.sid);break;case"failed":var t=e.error;this.publishFailed(o(t.code,t.message))}return this}}]),t}(i);e.exports=s},ZfiD:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("STyX"),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{lastReport:{enumerable:!0,value:new i(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return r(e,[{key:"next",value:function(e){var t=this.lastStats;if(this.lastStats=e,t){var n=t.id===e.id?i.of(t,e):new i(0,0);this.lastReport=n}return this.lastReport}}]),e}();e.exports=o},aJGj:function(e,t,n){"use strict";var r=n("Q1FS");t.EMPTY=new r.Observable(function(e){return e.complete()}),t.empty=function(e){return e?function(e){return new r.Observable(function(t){return e.schedule(function(){return t.complete()})})}(e):t.EMPTY}},aQcx:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n("2h1k").getUserMedia,a=n("BWbm").guessBrowser,c=n("ghd6"),l=c.capitalize,u=c.defer,h=c.waitForSometime,d=c.waitForEvent,f=n("xwWy").typeErrors.ILLEGAL_INVOKE,p=n("m0JW"),g=n("+OFx"),m=n("UBwA"),y=n("jxCJ"),v=n("cV4H"),b=n("O22K");function _(e){var t=e._log,n=e.kind,r={audio:p,video:g}[n],i=e._dummyEl,o=e.mediaStreamTrack,s=null;function a(){return Promise.race([d(o,"unmute"),h(50)]).then(function(){return n=e.mediaStreamTrack.muted,o=e.isStopped&&!!e._workaroundWebKitBug1208516Cleanup,Promise.resolve().then(function(){return"visible"===document.visibilityState&&!s&&(n||o||i.play().then(function(){return r(i)}).then(function(e){return e?t.warn("Silence detected"):t.info("Non-silence detected"),e}).catch(function(e){t.warn("Failed to detect silence:",e)}).finally(function(){i.pause()}))});var n,o}).then(function(t){return t&&!s&&(s=u(),e._restart().finally(function(){i=e._dummyEl,f(),o=e.mediaStreamTrack,l(),s.resolve(),s=null})),(s&&s.promise||Promise.resolve()).finally(function(){return y.resolveDeferred(n)})})}function c(){var t=e._log,n=e.kind;t.info("Muted"),t.debug("LocalMediaTrack:",e),y.startDeferred(n)}function l(){o.addEventListener("ended",a),o.addEventListener("mute",c),o.addEventListener("unmute",a)}function f(){o.removeEventListener("ended",a),o.removeEventListener("mute",c),o.removeEventListener("unmute",a)}return m.onVisible(1,a),l(),function(){m.offVisible(1,a),f()}}e.exports=function(e){return function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i="safari"===a()&&"object"===("undefined"==typeof document?"undefined":r(document))&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState;n=Object.assign({getUserMedia:s,isCreatedByCreateLocalTracks:!1,workaroundWebKitBug1208516:i,gUMSilentTrackWorkaround:v},n);var o=new b(e),c=o.kind,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,n));return Object.defineProperties(l,{_constraints:{value:"object"===r(n[c])?n[c]:{},writable:!0},_getUserMedia:{value:n.getUserMedia},_gUMSilentTrackWorkaround:{value:n.gUMSilentTrackWorkaround},_workaroundWebKitBug1208516:{value:n.workaroundWebKitBug1208516},_workaroundWebKitBug1208516Cleanup:{value:null,writable:!0},_didCallEnd:{value:!1,writable:!0},_isCreatedByCreateLocalTracks:{value:n.isCreatedByCreateLocalTracks},_trackSender:{value:o},id:{enumerable:!0,value:o.id},isEnabled:{enumerable:!0,get:function(){return o.enabled}},isStopped:{enumerable:!0,get:function(){return"ended"===o.readyState}}}),l._workaroundWebKitBug1208516&&(l._workaroundWebKitBug1208516Cleanup=_(l)),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_end",value:function(){this._didCallEnd||(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_end",this).call(this),this._didCallEnd=!0,this.emit("stopped",this))}},{key:"_initialize",value:function(){this._didCallEnd&&(this._didCallEnd=!1),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initialize",this).call(this)}},{key:"_reacquireTrack",value:function(e){var t=this._getUserMedia,n=this._gUMSilentTrackWorkaround,r=this._log,i=this.mediaStreamTrack.kind;r.info("Re-acquiring the MediaStreamTrack"),r.debug("Constraints:",e);var o,s,a,c=Object.assign({audio:!1,video:!1},(a=e,(s=i)in(o={})?Object.defineProperty(o,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[s]=a,o));return(this._workaroundWebKitBug1208516Cleanup?n(r,t,c):t(c)).then(function(e){return e.getTracks()[0]})}},{key:"_restart",value:function(e){var t=this,n=this._log;return e=e||this._constraints,this._stop(),this._reacquireTrack(e).catch(function(t){throw n.error("Failed to re-acquire the MediaStreamTrack:",{error:t,constraints:e}),t}).then(function(r){return n.info("Re-acquired the MediaStreamTrack"),n.debug("MediaStreamTrack:",r),t._constraints=Object.assign({},e),t._setMediaStreamTrack(r)})}},{key:"_setMediaStreamTrack",value:function(e){var t=this;return e.enabled=this.mediaStreamTrack.enabled,this._stop(),this._trackSender.setMediaStreamTrack(e).catch(function(n){t._log.warn("setMediaStreamTrack failed:",{error:n,mediaStreamTrack:e})}).then(function(){t._initialize(),t._getAllAttachedElements().forEach(function(e){return t._attach(e)})})}},{key:"_stop",value:function(){return this.mediaStreamTrack.stop(),this._end(),this}},{key:"enable",value:function(e){return(e="boolean"!=typeof e||e)!==this.mediaStreamTrack.enabled&&(this._log.info((e?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=e,this.emit(e?"enabled":"disabled",this)),this}},{key:"disable",value:function(){return this.enable(!1)}},{key:"restart",value:function(e){var t=this,n=this.kind;if(!this._isCreatedByCreateLocalTracks)return Promise.reject(f("restart","can only be called on a Local"+l(n)+"Track that is created using createLocalTracks or createLocal"+l(n)+"Track."));this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null);var r=this._restart(e);return this._workaroundWebKitBug1208516&&(r=r.finally(function(){t._workaroundWebKitBug1208516Cleanup=_(t)})),r}},{key:"stop",value:function(){return this._log.info("Stopping"),this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null),this._stop()}}]),t}(e)}},akGs:function(e,t,n){"use strict";e.exports=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{id:{enumerable:!0,value:t,writable:!0},trackId:{enumerable:!0,value:n,writable:!0},lastStats:{enumerable:!0,value:r,writable:!0}})}},b9Z9:function(e,t,n){"use strict";var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=null;return"number"==typeof n.frameWidthReceived&&"number"==typeof n.frameHeightReceived&&(i={},Object.defineProperties(i,{width:{value:n.frameWidthReceived,enumerable:!0},height:{value:n.frameHeightReceived,enumerable:!0}})),Object.defineProperties(r,{dimensions:{value:i,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateReceived?n.frameRateReceived:null,enumerable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("i99/"));e.exports=r},cV4H:function(e,t,n){"use strict";var r=n("TM7a");e.exports=function(e,t,i,o,s){o="number"==typeof o?o:3;var a=0,c=n("/+gY"),l={},u=c.getOrCreate(l);return function n(){return t(i).then(function(t){return(i.audio?r(u,t,s).catch(function(t){return e.warn("Encountered an error while detecting silence",t),!0}):Promise.resolve(!1)).then(function(r){return r?o<=0?(e.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),t):(e.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++a+"."),t.getTracks().forEach(function(e){return e.stop()}),o--,n()):(e.info("Got a non-silent audio MediaStreamTrack; returning it."),t)})})}().then(function(e){return c.release(l),e},function(e){throw c.release(l),e})}},cmf6:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){},o="undefined",s=("undefined"==typeof window?"undefined":r(window))!==o&&r(window.navigator)!==o&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"];function c(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(e){return"debug"===e&&(e="log"),("undefined"==typeof console?"undefined":r(console))!==o&&("trace"===e&&s?l:void 0!==console[e]?c(console,e):void 0!==console.log?c(console,"log"):i)}function h(e,t){for(var n=0;n<a.length;n++){var r=a[n];this[r]=n<e?i:this.methodFactory(r,e,t)}this.log=this.debug}function d(e,t,n){return function(){("undefined"==typeof console?"undefined":r(console))!==o&&(h.call(this,t,n),this[e].apply(this,arguments))}}function f(e,t,n){return u(e)||d.apply(this,arguments)}function p(e,t,n){var i,s=this,c="loglevel";function l(){var e;if(("undefined"==typeof window?"undefined":r(window))!==o&&c){try{e=window.localStorage[c]}catch(i){}if((void 0===e?"undefined":r(e))===o)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(c)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(i){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"===(void 0===e?"undefined":r(e))&&(c=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=n||f,s.getLevel=function(){return i},s.setLevel=function(t,n){if("string"==typeof t&&void 0!==s.levels[t.toUpperCase()]&&(t=s.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(i=t,!1!==n&&function(e){var t=(a[e]||"silent").toUpperCase();if(("undefined"==typeof window?"undefined":r(window))!==o&&c){try{return void(window.localStorage[c]=t)}catch(n){}try{window.document.cookie=encodeURIComponent(c)+"="+t+";"}catch(n){}}}(t),h.call(s,t,e),("undefined"==typeof console?"undefined":r(console))===o&&t<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){l()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var u=l();null==u&&(u=null==t?"WARN":t),s.setLevel(u,!1)}var g=new p,m={};g.getLogger=function(e){if("symbol"!==(void 0===e?"undefined":r(e))&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=m[e];return t||(t=m[e]=new p(e,g.getLevel(),g.methodFactory)),t};var y=("undefined"==typeof window?"undefined":r(window))!==o?window.log:void 0;g.noConflict=function(){return("undefined"==typeof window?"undefined":r(window))!==o&&window.log===g&&(window.log=y),g},g.getLoggers=function(){return m},g.default=g,e.exports=g},"d+6x":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=(n=Object.assign({navigator:navigator,window:window},n)).navigator,o=i.connection||{type:null},s=o.type,a=o.type?{_events:{value:["change","typechange"]},_listener:{value:function(){var e=s!==r.type&&r.isOnline;s=r.type,e&&t()}},_target:{value:o}}:{_events:{value:["online"]},_listener:{value:t},_target:{value:n.window}};Object.defineProperties(this,{isOnline:{enumerable:!0,get:function(){return"boolean"!=typeof i.onLine||i.onLine}},type:{enumerable:!0,get:function(){return o.type||null}},_listener:a._listener,_events:a._events,_target:a._target})}return r(e,[{key:"start",value:function(){var e=this;this._events.forEach(function(t){e._target.addEventListener(t,e._listener)})}},{key:"stop",value:function(){var e=this;this._events.forEach(function(t){e._target.removeEventListener(t,e._listener)})}}]),e}();e.exports=i},d6fC:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("Czg6"),o=n("2h1k"),s=o.MediaStream,a=o.RTCIceCandidate,c=o.RTCPeerConnection,l=o.RTCSessionDescription,u=o.getStats,h=n("BWbm").guessBrowser,d=n("iWhl").getSdpFormat,f=n("xwWy"),p=f.DEFAULT_ICE_GATHERING_TIMEOUT_MS,g=f.DEFAULT_LOG_LEVEL,m=f.DEFAULT_SESSION_TIMEOUT_SEC,y=f.iceRestartBackoffConfig,v=n("9dY8"),b=v.createCodecMapForMediaSection,_=v.disableRtx,w=v.enableDtxForOpus,k=v.getMediaSections,S=v.removeSSRCAttributes,C=v.revertSimulcastForNonVP8MediaSections,T=v.setBitrateParameters,O=v.setCodecPreferences,E=v.setSimulcast,P=v.unifiedPlanAddOrRewriteNewTrackIds,x=v.unifiedPlanAddOrRewriteTrackIds,R=v.unifiedPlanFilterLocalCodecs,j=n("Y1/N"),I=n("5wwa"),A=I.MediaClientLocalDescFailedError,L=I.MediaClientRemoteDescFailedError,D=n("ghd6"),M=D.buildLogLevels,N=D.isChromeScreenShareTrack,F=D.oncePerTick,V=n("uqca"),U=n("T5BQ"),B=n("lBno"),H=n("7bK7"),q=n("gEVb"),z=n("S3Hu"),W=n("tzRi"),$=n("Vkbc"),G=n("AMco"),Q=n("ROvb"),K=h(),J="chrome"===K,Y="firefox"===K,Z="safari"===K,X="undefined"!=typeof RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.getParameters&&"function"==typeof RTCRtpSender.prototype.setParameters,ee=0,te={open:["closed","updating"],updating:["closed","open"],closed:[]},ne=function(e){function t(e,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"open",te)),h=se(o=Object.assign({enableDscp:!1,dummyAudioMediaStreamTrack:null,isChromeScreenShareTrack:N,iceServers:[],isRTCRtpSenderParamsSupported:X,logLevel:g,offerOptions:{},revertSimulcastForNonVP8MediaSections:C,sessionTimeout:1e3*m,setBitrateParameters:T,setCodecPreferences:O,setSimulcast:E,Backoff:i,IceConnectionMonitor:U,MediaStream:s,RTCIceCandidate:a,RTCPeerConnection:c,RTCSessionDescription:l,Timeout:j},o)),f=d(h.sdpSemantics),v="unified"===f,b=v?null:new o.MediaStream,_=M(o.logLevel),w=o.RTCPeerConnection;!0===o.enableDscp&&(o.chromeSpecificConstraints=o.chromeSpecificConstraints||{},o.chromeSpecificConstraints.optional=o.chromeSpecificConstraints.optional||[],o.chromeSpecificConstraints.optional.push({googDscp:!0}));var k=o.log?o.log.createLog("webrtc",u):new z("webrtc",u,_,o.loggerName),S=new w(h,o.chromeSpecificConstraints);o.dummyAudioMediaStreamTrack&&S.addTrack(o.dummyAudioMediaStreamTrack,b||new o.MediaStream),Object.defineProperties(u,{_appliedTrackIdsToAttributes:{value:new Map,writable:!0},_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_didGenerateLocalCandidates:{writable:!0,value:!1},_enableDscp:{value:o.enableDscp},_encodingParameters:{value:n},_isChromeScreenShareTrack:{value:o.isChromeScreenShareTrack},_iceGatheringFailed:{value:!1,writable:!0},_iceGatheringTimeout:{value:new o.Timeout(function(){return u._handleIceGatheringTimeout()},p,!1)},_iceRestartBackoff:{value:o.Backoff.exponential(y)},_instanceId:{value:++ee},_isIceConnectionInactive:{writable:!0,value:!1},_isIceLite:{writable:!0,value:!1},_isIceRestartBackoffInProgress:{writable:!0,value:!1},_isRestartingIce:{writable:!0,value:!1},_isUnifiedPlan:{value:v},_isRTCRtpSenderParamsSupported:{value:o.isRTCRtpSenderParamsSupported},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCodecs:{value:new Set},_localCandidatesRevision:{writable:!0,value:1},_localDescriptionWithoutSimulcast:{writable:!0,value:null},_localDescription:{writable:!0,value:null},_localMediaStream:{value:b},_localUfrag:{writable:!0,value:null},_log:{value:k},_remoteCodecMaps:{value:new Map},_rtpSenders:{value:new Map},_iceConnectionMonitor:{value:new o.IceConnectionMonitor(S)},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:o.offerOptions},_onEncodingParametersChanged:{value:F(function(){u._isRTCRtpSenderParamsSupported?u._needsAnswer||le(u):u.offer()})},_peerConnection:{value:S},_preferredAudioCodecs:{value:r.audio},_preferredVideoCodecs:{value:r.video},_shouldApplyDtx:{value:r.audio.every(function(e){return"opus"!==e.codec})||r.audio.some(function(e){return"opus"===e.codec&&e.dtx})},_shouldApplySimulcast:{value:(J||Z)&&r.video.some(function(e){return"vp8"===e.codec.toLowerCase()&&e.simulcast})},_queuedDescription:{writable:!0,value:null},_iceReconnectTimeout:{value:new o.Timeout(function(){k.debug("ICE reconnect timed out"),u.close()},o.sessionTimeout,!1)},_recycledTransceivers:{value:{audio:[],video:[]}},_replaceTrackPromises:{value:new Map},_remoteCandidates:{writable:!0,value:new V},_sdpFormat:{value:f},_setBitrateParameters:{value:o.setBitrateParameters},_setCodecPreferences:{value:o.setCodecPreferences},_setSimulcast:{value:o.setSimulcast},_revertSimulcastForNonVP8MediaSections:{value:o.revertSimulcastForNonVP8MediaSections},_RTCIceCandidate:{value:o.RTCIceCandidate},_RTCPeerConnection:{value:o.RTCPeerConnection},_RTCSessionDescription:{value:o.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map,writable:!0},_trackMatcher:{writable:!0,value:null},id:{enumerable:!0,value:e}}),n.on("changed",u._onEncodingParametersChanged),S.addEventListener("connectionstatechange",u._handleConnectionStateChange.bind(u)),S.addEventListener("datachannel",u._handleDataChannelEvent.bind(u)),S.addEventListener("icecandidate",u._handleIceCandidateEvent.bind(u)),S.addEventListener("iceconnectionstatechange",u._handleIceConnectionStateChange.bind(u)),S.addEventListener("icegatheringstatechange",u._handleIceGatheringStateChange.bind(u)),S.addEventListener("signalingstatechange",u._handleSignalingStateChange.bind(u)),S.addEventListener("track",u._handleTrackEvent.bind(u)),u._iceRestartBackoff.on("ready",function(){return u._initiateIceRestart()});var P=u;return u.on("stateChanged",function e(t){"closed"===t&&(P.removeListener("stateChanged",e),P._dataChannels.forEach(function(e,t){P.removeDataTrackSender(t)}))}),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"}},{key:"_addIceCandidate",value:function(e){var t=this;return Promise.resolve().then(function(){return e=new t._RTCIceCandidate(e),t._peerConnection.addIceCandidate(e)}).catch(function(n){t._log.warn("Failed to add RTCIceCandidate "+(e?'"'+e.candidate+'"':"null")+": "+n.message)})}},{key:"_addIceCandidates",value:function(e){return Promise.all(e.map(this._addIceCandidate,this)).then(function(){})}},{key:"_addOrUpdateTransceiver",value:function(e){var t=this,n=function(e,t){var n={audio:e._preferredAudioCodecs.map(function(e){return e.codec.toLowerCase()}),video:e._preferredVideoCodecs.map(function(e){return e.codec.toLowerCase()})}[t],r=e._recycledTransceivers[t],i=n.find(function(t){return e._localCodecs.has(t)});if(!i)return r.shift();var o=r.find(function(t){var n=e._remoteCodecMaps.get(t.mid);return n&&n.has(i)});return o&&r.splice(r.indexOf(o),1),o}(this,e.kind);if(n&&n.sender){var r=n.sender.track?n.sender.track.id:null;return r&&this._log.warn("Reusing transceiver: "+n.mid+"] "+r+" => "+e.id),this._replaceTrackPromises.set(n,n.sender.replaceTrack(e).then(function(){n.direction="sendrecv"},function(){}).finally(function(){t._replaceTrackPromises.delete(n)})),n}return this._peerConnection.addTransceiver(e)}},{key:"_checkIceBox",value:function(e){var t=oe(e);if(!t)return Promise.resolve();var n=this._remoteCandidates.setUfrag(t);return this._addIceCandidates(n)}},{key:"_answer",value:function(e){var t=this;return Promise.resolve().then(function(){return t._negotiationRole||(t._negotiationRole="answerer"),t._setRemoteDescription(e)}).catch(function(){throw new L}).then(function(){return t._peerConnection.createAnswer()}).then(function(n){n=Y?new t._RTCSessionDescription({sdp:_(n.sdp),type:n.type}):Q(n);var r=S(n.sdp,["mslabel","label"]);if(t._shouldApplySimulcast){var i=r;r=t._setSimulcast(i,t._sdpFormat,t._trackIdsToAttributes),r=t._revertSimulcastForNonVP8MediaSections(r,i,e.sdp)}return r=r.replace(/42e015/g,"42e01f"),t._setLocalDescription({type:n.type,sdp:r})}).then(function(){return t._checkIceBox(e)}).then(function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)}).then(function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription)}).catch(function(e){throw e instanceof L?e:new A})}},{key:"_close",value:function(){return this._iceConnectionMonitor.stop(),"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),this.preempt("closed"),this._encodingParameters.removeListener("changed",this._onEncodingParametersChanged),!0)}},{key:"_handleConnectionStateChange",value:function(){this.emit("connectionStateChanged")}},{key:"_handleDataChannelEvent",value:function(e){var t=this,n=e.channel,r=new B(n);this._dataTrackReceivers.add(r),n.addEventListener("close",function(){t._dataTrackReceivers.delete(r)}),this.emit("trackAdded",r)}},{key:"_handleGlare",value:function(e){var t=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then(function(){return t._trackIdsToAttributes=new Map(t._appliedTrackIdsToAttributes),t._setLocalDescription({type:"rollback"})}).then(function(){return t._needsAnswer=!1,t._answer(e)}).then(function(e){return e?Promise.resolve():t._offer()})}},{key:"_handleIceCandidateEvent",value:function(e){e.candidate&&(this._log.debug("Clearing ICE gathering timeout"),this._didGenerateLocalCandidates=!0,this._iceGatheringTimeout.clear(),this._localCandidates.push(e.candidate));var t={ice:{candidates:this._isIceLite?[]:this._localCandidates.slice(),ufrag:this._localUfrag},id:this.id};e.candidate||(t.ice.complete=!0),this._isIceLite&&e.candidate||(t.ice.revision=this._localCandidatesRevision++,this.emit("candidates",t))}},{key:"_handleIceConnectionStateChange",value:function(){var e=this,t=this._peerConnection.iceConnectionState,n=["connected","completed"].includes(t),r=this._log;r.debug('ICE connection state is "'+t+'"'),n&&(this._iceReconnectTimeout.clear(),this._iceRestartBackoff.reset()),"failed"===this._lastIceConnectionState||"failed"!==t||this._shouldRestartIce||this._isRestartingIce?["disconnected","failed"].includes(this._lastIceConnectionState)&&n&&r.debug("ICE reconnected"):(r.warn("ICE failed"),this._initiateIceRestartBackoff()),"connected"===t?(this._isIceConnectionInactive=!1,this._iceConnectionMonitor.start(function(){e._iceConnectionMonitor.stop(),e._shouldRestartIce||e._isRestartingIce||(r.warn("ICE Connection Monitor detected inactivity"),e._isIceConnectionInactive=!0,e._initiateIceRestartBackoff(),e.emit("iceConnectionStateChanged"),e.emit("connectionStateChanged"))})):["disconnected","completed"].includes(t)||(this._iceConnectionMonitor.stop(),this._isIceConnectionInactive=!1),this._lastIceConnectionState=t,this.emit("iceConnectionStateChanged")}},{key:"_handleIceGatheringTimeout",value:function(){this._log.warn("ICE failed to gather any local candidates"),this._iceGatheringFailed=!0,this._initiateIceRestartBackoff(),this.emit("iceConnectionStateChanged"),this.emit("connectionStateChanged")}},{key:"_handleIceGatheringStateChange",value:function(){var e=this._peerConnection.iceGatheringState,t=this._log;t.debug('ICE gathering state is "'+e+'"');var n=this._iceGatheringTimeout;"gathering"!==e||this._didGenerateLocalCandidates||n.isSet||(t.debug("Starting ICE gathering timeout: "+n.delay),this._iceGatheringFailed=!1,this._iceGatheringTimeout.start())}},{key:"_handleSignalingStateChange",value:function(){"stable"===this._peerConnection.signalingState&&(this._appliedTrackIdsToAttributes=new Map(this._trackIdsToAttributes))}},{key:"_handleTrackEvent",value:function(e){var t=this,n=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher||(this._trackMatcher=e.transceiver&&e.transceiver.mid?new G:Z||this._isUnifiedPlan?new $:new W),this._trackMatcher.update(n);var r=e.track,i=this._trackMatcher.match(e)||r.id,o=new H(i,r);this._mediaTrackReceivers.forEach(function(e){e.track.id===o.track.id&&t._mediaTrackReceivers.delete(e)}),this._mediaTrackReceivers.add(o),r.addEventListener("ended",function(){return t._mediaTrackReceivers.delete(o)}),this.emit("trackAdded",o)}},{key:"_initiateIceRestart",value:function(){if("closed"!==this._peerConnection.signalingState){var e=this._log;e.warn("Attempting to restart ICE"),this._didGenerateLocalCandidates=!1,this._isIceRestartBackoffInProgress=!1,this._shouldRestartIce=!0;var t=this._iceReconnectTimeout;t.isSet||(e.debug("Starting ICE reconnect timeout: "+t.delay),this._iceReconnectTimeout.start()),this.offer()}}},{key:"_initiateIceRestartBackoff",value:function(){"closed"===this._peerConnection.signalingState||this._isIceRestartBackoffInProgress||(this._log.warn("An ICE restart has been scheduled"),this._isIceRestartBackoffInProgress=!0,this._iceRestartBackoff.backoff())}},{key:"_maybeReoffer",value:function(e){var t=this._shouldOffer;if(e&&e.sdp){if(this._isUnifiedPlan){var n=this._peerConnection.getSenders().filter(function(e){return e.track});t=["audio","video"].reduce(function(t,r){var i=k(e.sdp,r,"(sendrecv|sendonly)"),o=n.filter(ae.bind(null,r));return t||i.length<o.length},t)}var r=this._dataChannels.size>0,i=k(e.sdp,"application").length>0;t=t||r&&!i}return(t?this._offer():Promise.resolve()).then(function(){return t})}},{key:"_offer",value:function(){var e=this,t=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,t.iceRestart=!0),Promise.all(this._replaceTrackPromises.values()).then(function(){return e._peerConnection.createOffer(t)}).catch(function(){throw new A}).then(function(t){t=Y?new e._RTCSessionDescription({sdp:_(t.sdp),type:t.type}):Q(t);var n=S(t.sdp,["mslabel","label"]);n=e._isUnifiedPlan&&e._peerConnection.remoteDescription?R(n,e._peerConnection.remoteDescription.sdp):n;var r=e._setCodecPreferences(n,e._preferredAudioCodecs,e._preferredVideoCodecs);return e._shouldOffer=!1,e._negotiationRole||(e._negotiationRole="offerer"),e._shouldApplySimulcast&&(e._localDescriptionWithoutSimulcast={type:"offer",sdp:r},r=e._setSimulcast(r,e._sdpFormat,e._trackIdsToAttributes)),e._setLocalDescription({type:"offer",sdp:r})})}},{key:"_getMediaTrackSenderId",value:function(e){var t=Array.from(this._rtpSenders.keys()).find(function(t){return t.track.id===e});return t?t.id:e}},{key:"_addOrRewriteLocalTrackIds",value:function(e){var t=this,n=this._peerConnection.getTransceivers().filter(function(e){var t=e.sender;return!e.stopped&&t&&t.track}),r=n.filter(function(e){return e.mid}),i=new Map(r.map(function(e){return[e.mid,t._getMediaTrackSenderId(e.sender.track.id)]})),o=x(e.sdp,i),s=n.filter(function(e){return!e.mid}),a=new Map(["audio","video"].map(function(e){return[e,s.filter(function(t){return t.sender.track.kind===e}).map(function(e){return t._getMediaTrackSenderId(e.sender.track.id)})]})),c=P(o,i,a);return new this._RTCSessionDescription({sdp:c,type:e.type})}},{key:"_rollbackAndApplyOffer",value:function(e){var t=this;return this._setLocalDescription({type:"rollback"}).then(function(){return t._setLocalDescription(e)})}},{key:"_setLocalDescription",value:function(e){var t=this;return"rollback"!==e.type&&this._shouldApplyDtx&&(e=new this._RTCSessionDescription({sdp:w(e.sdp),type:e.type})),this._peerConnection.setLocalDescription(e).catch(function(n){throw t._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".'),e.sdp&&t._log.warn("The SDP was "+e.sdp),new A}).then(function(){"rollback"!==e.type&&(t._localDescription=t._isUnifiedPlan?t._addOrRewriteLocalTrackIds(e):e,t._shouldApplyDtx&&(t._localDescription=new t._RTCSessionDescription({sdp:w(t._localDescription.sdp,[]),type:t._localDescription.type})),t._localCandidates=[],"offer"===e.type?t._descriptionRevision++:"answer"===e.type&&(t._lastStableDescriptionRevision=t._descriptionRevision,ce(t)),t._localUfrag=oe(e),t.emit("description",t.getState()))})}},{key:"_setRemoteDescription",value:function(e){var t=this;return e.sdp&&(this._isRTCRtpSenderParamsSupported||(e.sdp=this._setBitrateParameters(e.sdp,Y?"TIAS":"AS",this._encodingParameters.maxAudioBitrate,this._encodingParameters.maxVideoBitrate)),e.sdp=this._setCodecPreferences(e.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),e.sdp=this._shouldApplyDtx?w(e.sdp):w(e.sdp,[]),Y&&(e.sdp=e.sdp.replace(/a=msid:[^ ]+ /g,"a=msid:- ")),this._peerConnection.remoteDescription||(this._isIceLite=/a=ice-lite/.test(e.sdp))),e=new this._RTCSessionDescription(e),Promise.resolve().then(function(){if("answer"===e.type&&t._shouldApplySimulcast){var n=t._revertSimulcastForNonVP8MediaSections(t._localDescription.sdp,t._localDescriptionWithoutSimulcast.sdp,e.sdp);if(n!==t._localDescription.sdp)return t._rollbackAndApplyOffer({type:t._localDescription.type,sdp:n})}}).then(function(){return t._peerConnection.setRemoteDescription(e)}).then(function(){"answer"===e.type&&(t._isRestartingIce&&(t._log.debug("An ICE restart was in-progress and is now completed"),t._isRestartingIce=!1),ce(t))},function(n){throw t._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".'),e.sdp&&t._log.warn("The SDP was "+e.sdp),n})}},{key:"_updateDescription",value:function(e){var t=this;switch(e.type){case"answer":case"pranswer":if(e.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=e.revision;break;case"close":return this._close();case"create-offer":return e.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._offer());case"offer":return e.revision<=this._lastStableDescriptionRevision||"closed"===this._peerConnection.signalingState?Promise.resolve():"have-local-offer"===this._peerConnection.signalingState?this._needsAnswer&&0===this._lastStableDescriptionRevision?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._handleGlare(e)):(this._descriptionRevision=e.revision,this._answer(e).then(function(){}))}var n=e.revision;return Promise.resolve().then(function(){return t._setRemoteDescription(e)}).catch(function(){throw new L}).then(function(){return t._lastStableDescriptionRevision=n,t._needsAnswer=!1,t._checkIceBox(e)}).then(function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)}).then(function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription).then(function(){})})}},{key:"_updateIce",value:function(e){var t=this._remoteCandidates.update(e);return this._addIceCandidates(t)}},{key:"addDataTrackSender",value:function(e){if(!this._dataChannels.has(e))try{var t={ordered:e.ordered};null!==e.maxPacketLifeTime&&(t.maxPacketLifeTime=e.maxPacketLifeTime),null!==e.maxRetransmits&&(t.maxRetransmits=e.maxRetransmits);var n=this._peerConnection.createDataChannel(e.id,t);e.addDataChannel(n),this._dataChannels.set(e,n)}catch(r){this._log.warn('Error creating an RTCDataChannel for DataTrack "'+e.id+'": '+r.message)}}},{key:"addMediaTrackSender",value:function(e){if("closed"!==this._peerConnection.signalingState&&!this._rtpSenders.has(e)){var t=void 0;this._localMediaStream?(this._localMediaStream.addTrack(e.track),t=this._peerConnection.addTrack(e.track,this._localMediaStream)):t=this._addOrUpdateTransceiver(e.track).sender,e.addSender(t),this._rtpSenders.set(e,t)}}},{key:"close",value:function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))}},{key:"getTrackReceivers",value:function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))}},{key:"getState",value:function(){if(!this._localDescription)return null;var e={type:this._localDescription.type,revision:"answer"===this._localDescription.type?this._lastStableDescriptionRevision:this._descriptionRevision};return this._localDescription.sdp&&(e.sdp=this._localDescription.sdp),{description:e,id:this.id}}},{key:"offer",value:function(){var e=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",function(t){return e.transition("updating",t),(e._needsAnswer||e._isRestartingIce?Promise.resolve():e._offer()).then(function(){e.tryTransition("open",t)},function(n){throw e.tryTransition("open",t),n})})}},{key:"removeDataTrackSender",value:function(e){var t=this._dataChannels.get(e);t&&(e.removeDataChannel(t),this._dataChannels.delete(e),t.close())}},{key:"removeMediaTrackSender",value:function(e){if("closed"!==this._peerConnection.signalingState&&this._rtpSenders.has(e)){var t=this._rtpSenders.get(e);this._peerConnection.removeTrack(t),this._localMediaStream&&this._localMediaStream.removeTrack(e.track),e.removeSender(t),this._rtpSenders.delete(e)}}},{key:"setConfiguration",value:function(e){"function"==typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(se(e))}},{key:"setIceReconnectTimeout",value:function(e){return this._iceReconnectTimeout.setDelay(e),this._log.debug("Updated ICE reconnection timeout period:",this._iceReconnectTimeout.delay),this}},{key:"update",value:function(e){var t=this;return this.bracket("updating",function(n){if("closed"===t.state)return Promise.resolve();t.transition("updating",n);var r=[];return e.ice&&r.push(t._updateIce(e.ice)),e.description&&r.push(t._updateDescription(e.description)),Promise.all(r).then(function(){t.tryTransition("open",n)},function(e){throw t.tryTransition("open",n),e})})}},{key:"getStats",value:function(){var e=this;return u(this._peerConnection).then(function(t){return function(e,t){return Object.assign(t,{remoteAudioTrackStats:t.remoteAudioTrackStats.map(function(t){return ie(e,t)}),remoteVideoTrackStats:t.remoteVideoTrackStats.map(function(t){return ie(e,t)}),localAudioTrackStats:t.localAudioTrackStats.map(function(t){return re(e,t)}),localVideoTrackStats:t.localVideoTrackStats.map(function(t){return re(e,t)})})}(e,t)})}},{key:"connectionState",get:function(){return"failed"===this.iceConnectionState?"failed":this._peerConnection.connectionState||this.iceConnectionState}},{key:"iceConnectionState",get:function(){return this._isIceConnectionInactive&&"disconnected"===this._peerConnection.iceConnectionState||this._iceGatheringFailed?"failed":this._peerConnection.iceConnectionState}},{key:"isApplicationSectionNegotiated",get:function(){return"closed"===this._peerConnection.signalingState||!!this._peerConnection.localDescription&&k(this._peerConnection.localDescription.sdp,"application").length>0}}]),t}(q);function re(e,t){var n=e._getMediaTrackSenderId(t.trackId);return Object.assign(t,{trackId:n})}function ie(e,t){var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e._mediaTrackReceivers)).find(function(e){return e.track.id===t.trackId});return Object.assign(t,{trackId:n?n.id:null})}function oe(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(t)return t[1]}return null}function se(e){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}function ae(e,t){var n=t.track;return n&&n.kind===e&&"ended"!==n.readyState}function ce(e){e._isUnifiedPlan&&(function(e){e._recycledTransceivers.audio=[],e._recycledTransceivers.video=[],e._peerConnection.getTransceivers().forEach(function(t){(function(e,t){return!e.stopped&&!t._replaceTrackPromises.has(e)&&["inactive","recvonly"].includes(e.direction)})(t,e)&&e._recycledTransceivers[t.receiver.track.kind].push(t)})}(e),function(e){var t=e._peerConnection.localDescription;t&&k(t.sdp).forEach(function(t){b(t).forEach(function(t,n){return e._localCodecs.add(n)})})}(e),function(e){var t=e._peerConnection.remoteDescription;t&&k(t.sdp).forEach(function(t){var n=t.match(/^a=mid:(.+)$/m)[1],r=b(t);e._remoteCodecMaps.set(n,r)})}(e)),e._isRTCRtpSenderParamsSupported&&le(e)}function le(e){var t=e._encodingParameters,n=new Map([["audio",t.maxAudioBitrate],["video",t.maxVideoBitrate]]);e._peerConnection.getSenders().filter(function(e){return e.track}).forEach(function(t){var r=n.get(t.track.kind),i=t.getParameters();null===r||0===r?function(e){Array.isArray(e.encodings)&&e.encodings.forEach(function(e){return delete e.maxBitrate})}(i):e._isChromeScreenShareTrack(t.track)?e._log.warn("Not setting maxBitrate for "+t.track.kind+" Track "+t.track.id+" because it appears to be screen share track: "+t.track.label):function(e,t){Y?e.encodings=[{maxBitrate:t}]:e.encodings.forEach(function(e){e.maxBitrate=t})}(i,r),!Y&&e._enableDscp&&i.encodings.length>0&&(i.encodings[0].networkPriority="high"),t.setParameters(i).catch(function(n){e._log.warn("Error while setting encodings parameters for "+t.track.kind+" Track "+t.track.id+": "+(n.message||n.name))})})}e.exports=ne},d75R:function(e,t,n){var r=n("MCLT");function i(e){Error.call(this,e),this.message=e}function o(e){Error.call(this,e),this.message=e}r.inherits(i,Error),i.prototype.name="IllegalArgumentError",r.inherits(o,Error),o.prototype.name="IllegalStateError",e.exports.IllegalStateError=o,e.exports.IllegalArgumentError=i},deyy:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(n("mb7l"));e.exports=i},ffpz:function(e,t,n){"use strict";t.Scheduler=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},gBrb:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_revision:{value:1,writable:!0}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"update",value:function(e){return e.revision<this._revision?this:(this._revision=e.revision,this.enable(e.is_recording))}}]),t}(n("wl3V"));e.exports=i},gEVb:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("+qE3").EventEmitter,s=n("ghd6"),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=null,s=e;return n=function(e){var t=new Map;for(var n in e)t.set(n,new Set(e[n]));return t}(n),Object.defineProperties(i,{_lock:{get:function(){return o},set:function(e){o=e}},_reachableStates:{value:(r=n,Array.from(r.keys()).reduce(function(e,t){return e.set(t,l(r,t))},new Map))},_state:{get:function(){return s},set:function(e){s=e}},_states:{value:n},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==o}},state:{enumerable:!0,get:function(){return s}}}),i.on("stateChanged",function(e){i._whenDeferreds.forEach(function(t){t.when(e,t.resolve,t.reject)})}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_whenPromise",value:function(e){var t=this;if("function"!=typeof e)return Promise.reject(new Error("when() executor must be a function"));var n=s.defer();return n.when=e,this._whenDeferreds.add(n),n.promise.then(function(e){return t._whenDeferreds.delete(n),e},function(e){throw t._whenDeferreds.delete(n),e})}},{key:"bracket",value:function(e,t){var n=void 0,r=this;function i(e){if(r.hasLock(n)&&r.releaseLockCompletely(n),e)throw e}return this.takeLock(e).then(function(e){return t(n=e)}).then(function(e){return i(),e},i)}},{key:"hasLock",value:function(e){return this._lock===e}},{key:"preempt",value:function(e,t,n){if(!c(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');var r=void 0;this.isLocked&&(r=this._lock,this._lock=null);var i=null;t&&(i=this.takeLockSync(t));var o=i?null:this.takeLockSync("preemption");return this.transition(e,i||o,n),r&&r.resolve(),o&&this.releaseLock(o),i}},{key:"releaseLock",value:function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");0===e.depth?(this._lock=null,e.resolve()):e.depth--}},{key:"releaseLockCompletely",value:function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");e.depth=0,this._lock=null,e.resolve()}},{key:"takeLock",value:function(e){var t=this;if("object"===(void 0===e?"undefined":r(e))){var n=e;return new Promise(function(e){e(t.takeLockSync(n))})}var i=e;if(this.isLocked){var o=this.takeLock.bind(this,i);return this._lock.promise.then(o)}return Promise.resolve(this.takeLockSync(i))}},{key:"takeLockSync",value:function(e){var t="string"==typeof e?null:e,n=t?t.name:e;if(t&&!this.hasLock(t)||!t&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(t)return t.depth++,t;var r=function(e){var t=s.defer();return t.name=e,t.depth=0,t}(n);return this._lock=r,r}},{key:"transition",value:function(e,t,n){if(n=n||[],this.isLocked){if(!t)throw new Error("You must provide the key in order to transition");if(!this.hasLock(t))throw new Error("Could not transition using the key for "+t.name+" because "+this._lock.name+" has the lock")}else if(t)throw new Error("Key provided for "+t.name+", but the StateMachine was not locked (possibly due to preemption)");if(!c(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');this._state=e,this.emit.apply(this,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(["stateChanged",e].concat(n)))}},{key:"tryTransition",value:function(e,t,n){try{this.transition(e,t,n)}catch(r){return!1}return!0}},{key:"when",value:function(e){var t=this;return this.state===e?Promise.resolve(this):c(this._reachableStates,this.state,e)?this._whenPromise(function(n,r,i){n===e?r(t):c(t._reachableStates,n,e)||i(u(n,e))}):Promise.reject(u(this.state,e))}}]),t}(o);function c(e,t,n){return e.get(t).has(n)}function l(e,t,n){return n=n||new Set,e.get(t).forEach(function(t){n.has(t)||(n.add(t),l(e,t,n).forEach(n.add,n))}),n}function u(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}e.exports=a},gJbR:function(e,t,n){"use strict";var r=n("MCLT").inherits,i=n("jU82");function o(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,o.prototype),n}r(o,i),e.exports=o},ghd6:function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=n("xwWy"),u=l.typeErrors,h=l.trackPriority,d=n("BWbm");function f(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var o=void 0;try{o=i(e[r])}catch(s){}"function"===o&&(t[r]=function(){var e;return(e=this[n])[r].apply(e,arguments)})}}function p(e){return"object"===(void 0===e?"undefined":i(e))&&!Array.isArray(e)}function g(e){Object.getOwnPropertyNames(e).forEach(function(t){t.startsWith("_")&&m(e,t)})}function m(e,t){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable=!1,Object.defineProperty(e,t,n)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach(function(t){e.hasOwnProperty(t)&&m(e,t)})}function v(e){return e.map(b)}function b(e){return Array.isArray(e)?v(e):e instanceof Set?v([].concat(c(e))):e instanceof Map?[].concat(c(e.entries())).reduce(function(e,t){var n=r(t,2);return Object.assign(o({},n[0],b(n[1])),e)},{}):e&&"object"===(void 0===e?"undefined":i(e))?Object.entries(e).reduce(function(e,t){var n=r(t,2);return Object.assign(o({},n[0],b(n[1])),e)},{}):e}function _(e){return S(e,[{prop:"dominantSpeakerPriority",type:"string",payloadProp:"active_speaker_priority"},{prop:"maxSubscriptionBitrate",type:"number",payloadProp:"max_subscription_bandwidth"},{prop:"maxTracks",type:"number",payloadProp:"max_tracks"},{prop:"mode",type:"string"},{prop:"renderDimensions",type:"object",payloadProp:"render_dimensions",transform:k},{prop:"trackSwitchOffMode",type:"string",payloadProp:"track_switch_off"}])}function w(e){return S(e,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}function k(e){return S(e,[{prop:h.PRIORITY_HIGH,type:"object",transform:w},{prop:h.PRIORITY_LOW,type:"object",transform:w},{prop:h.PRIORITY_STANDARD,type:"object",transform:w}])}function S(e,t){return t.reduce(function(t,n){var r=n.prop,s=n.type,a=n.payloadProp,c=void 0===a?r:a,l=n.transform,u=void 0===l?function(e){return e}:l;return i(e[r])===s?Object.assign(o({},c,u(e[r])),t):t},{})}t.constants=l,t.createBandwidthProfilePayload=function(e){return S(e,[{prop:"video",type:"object",transform:_}])},t.createMediaSignalingPayload=function(e,t,n,r){var i={transports:[{type:"data-channel"}]};return Object.assign(e?{active_speaker:i}:{},t?{network_quality:i}:{},n?{track_priority:i}:{},r?{track_switch_off:i}:{})},t.createRoomConnectEventPayload=function(e){var t={iceServers:(e.iceServers||[]).length,audioTracks:(e.tracks||[]).filter(function(e){return"audio"===e.kind}).length,videoTracks:(e.tracks||[]).filter(function(e){return"video"===e.kind}).length,dataTracks:(e.tracks||[]).filter(function(e){return"data"===e.kind}).length};if([["audio"],["automaticSubscription"],["enableDscp"],["eventListener"],["preflight"],["video"],["dominantSpeaker","enableDominantSpeaker"]].forEach(function(n){var i=r(n,2),o=i[0],s=i[1];t[s=s||o]=e[o]?"true":"false"}),[["maxVideoBitrate"],["maxAudioBitrate"],["iceTransportPolicy"],["region"],["name","roomName"]].forEach(function(n){var i=r(n,2),o=i[0],s=i[1];s=s||o,"number"!=typeof e[o]&&"string"!=typeof e[o]||(t[s]=e[o])}),["preferredAudioCodecs","preferredVideoCodecs"].forEach(function(n){n in e&&(t[n]=JSON.stringify(e[n]))}),"networkQuality"in e&&(t.networkQualityConfiguration={},p(e.networkQuality)?["local","remote"].forEach(function(n){"number"==typeof e.networkQuality[n]&&(t.networkQualityConfiguration[n]=e.networkQuality[n])}):(t.networkQualityConfiguration.remote=0,t.networkQualityConfiguration.local=e.networkQuality?1:0)),e.bandwidthProfile&&e.bandwidthProfile.video){var n=e.bandwidthProfile.video||{};t.bandwidthProfileOptions={},["mode","maxTracks","trackSwitchOffMode","dominantSpeakerPriority","maxSubscriptionBitrate"].forEach(function(e){"number"!=typeof n[e]&&"string"!=typeof n[e]||e in n&&(t.bandwidthProfileOptions[e]=n[e])}),"renderDimensions"in n&&(t.bandwidthProfileOptions.renderDimensions=JSON.stringify(n.renderDimensions))}return{group:"room",name:"connect",level:"info",payload:t}},t.createSubscribePayload=function(e){return{rules:[{type:e?"include":"exclude",all:!0}],revision:1}},t.asLocalTrack=function(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack||e instanceof t.LocalDataTrack)return e;if(e instanceof t.MediaStreamTrack)return"audio"===e.kind?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw u.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},t.asLocalTrackPublication=function(e,t,n,r){return new(0,{audio:r.LocalAudioTrackPublication,video:r.LocalVideoTrackPublication,data:r.LocalDataTrackPublication}[e.kind])(t,e,n,r)},t.capitalize=function(e){return e[0].toUpperCase()+e.slice(1)},t.deprecateEvents=function(e,t,n,r){var i=new Set;t.on("newListener",function o(s){n.has(s)&&!i.has(s)&&(r.deprecated(e+"#"+s+" has been deprecated and scheduled for removal in twilio-video.js@2.0.0."+(n.get(s)?" Use "+e+"#"+n.get(s)+" instead.":"")),i.add(s)),i.size>=n.size&&t.removeListener("newListener",o)})},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n},t.filterObject=function(e,t){return Object.keys(e).reduce(function(n,r){return e[r]!==t&&(n[r]=e[r]),n},{})},t.flatMap=function(e,t){var n=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return t=t||function(e){return e},n.reduce(function(e,n){var r=t(n);return e.concat(r)},[])},t.getUserAgent=function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent:"Unknown"},t.hidePrivateProperties=g,t.hidePrivateAndCertainPublicPropertiesInClass=function(e,t){return function(e){function n(){var e;s(this,n);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var c=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return g(c),y(c,t),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n}(e)},t.isDeepEqual=function e(t,n){if(t===n)return!0;if((void 0===t?"undefined":i(t))!==(void 0===n?"undefined":i(n)))return!1;if(null===t)return null===n;if(null===n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});if("object"===(void 0===t?"undefined":i(t))){var r=Object.keys(t).sort(),o=Object.keys(n).sort();return!Array.isArray(n)&&e(r,o)&&r.every(function(r){return e(t[r],n[r])})}return!1},t.isNonArrayObject=p,t.inRange=function(e,t,n){return t<=e&&e<=n},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.oncePerTick=function(e){var t=null;function n(){t=null,e()}return function(){t&&clearTimeout(t),t=setTimeout(n)}},t.promiseFromEvents=function(e,t,n,r){return new Promise(function(i,o){function s(){var e=[].slice.call(arguments);r&&t.removeListener(r,a),i.apply(void 0,c(e))}function a(){var e=[].slice.call(arguments);t.removeListener(n,s),o.apply(void 0,c(e))}t.once(n,s),r&&t.once(r,a),e()})},t.getOrNull=function(e,t){return t.split(".").reduce(function(e,t){return e?e[t]:null},e)},t.defer=function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},t.delegateMethods=function(e,t,n){for(var r in e)f(e,t,n,r)},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach(function(e){!function(e,t,n,r){r in t||(r.match(/^on[a-z]+$/)?(Object.defineProperty(t,r,{value:null,writable:!0}),n.addEventListener(r.slice(2),function(){t.dispatchEvent.apply(t,arguments)})):Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}}))}(0,t,n,e)})},t.legacyPromise=function(e,t,n){return t?e.then(function(e){t(e)},function(e){n(e)}):e},t.buildLogLevels=function(e){return"string"==typeof e?{default:e,media:e,signaling:e,webrtc:e}:e},t.trackClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,function(e){return e.toUpperCase()})+"Track"},t.trackPublicationClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,function(e){return e.toUpperCase()})+"TrackPublication"},t.valueToJSON=b,t.withJitter=function(e,t){var n=Math.random();return e-t+Math.floor(2*t*n+.5)},t.isChromeScreenShareTrack=function(e){return"chrome"===d.guessBrowser()&&"video"===e.kind&&e.label&&(/^screen:[0-9]+/.test(e.label)||/^web-contents-media-stream:[0-9/]+/.test(e.label)||/^window:[0-9]+/.test(e.label))},t.waitForSometime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return new Promise(function(t){return setTimeout(t,e)})},t.waitForEvent=function(e,t){return new Promise(function(n){e.addEventListener(t,function r(i){e.removeEventListener(t,r),n(i)})})}},hkYD:function(e,t,n){"use strict";var r=n("7C7v"),i=n("kltW");e.exports=function e(t){var n=t.send,o=t.recv,s=t.sendStats,a=void 0===s?null:s,c=t.recvStats,l=void 0===c?null:c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{send:{value:n,enumerable:!0},recv:{value:o,enumerable:!0},sendStats:{value:a?new r(a):null,enumerable:!0},recvStats:{value:l?new i(l):null,enumerable:!0}})}},"i99/":function(e,t,n){"use strict";var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(r,{bytesReceived:{value:"number"==typeof n.bytesReceived?n.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"==typeof n.packetsReceived?n.packetsReceived:null,enumerable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("0iCT"));e.exports=r},iWhl:function(e,t,n){"use strict";var r=n("BWbm").flatMap,i=n("BWbm").guessBrowser,o=null,s=null;function a(e){return e&&function(){if("boolean"==typeof o)return o;if("undefined"==typeof RTCPeerConnection)return o=!1;try{new RTCPeerConnection({sdpSemantics:"foo"}),o=!1}catch(e){o=!0}return o}()?{"plan-b":"planb","unified-plan":"unified"}[e]:function(){if(!s)if("undefined"!=typeof RTCPeerConnection&&"addTransceiver"in RTCPeerConnection.prototype)try{(new RTCPeerConnection).addTransceiver("audio"),s="unified"}catch(e){s="planb"}else s="planb";return s}()}function c(e,t){return(t.match(new RegExp(e,"gm"))||[]).reduce(function(t,n){var r=n.match(new RegExp(e));return r?t.add(r[1]):t},new Set)}function l(e,t){return c(e,t)}function u(e){return l("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function h(e){return l("^a=msid:.+ +(.+) *$",e)}function d(e,t){return c("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$",e)}function f(e,t,n){return t=t||".*",n=n||".*",e.split("\r\nm=").slice(1).map(function(e){return"m="+e}).filter(function(e){var r=new RegExp("m="+t,"gm"),i=new RegExp("a="+n,"gm");return r.test(e)&&i.test(e)})}function p(e){return Array.from(c("^a=ssrc:([0-9]+) +.*$",e))}function g(e,t){var n=f(e),i=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),o=n.filter(function(e){return e.match(i)});return new Set(r(o,p))}function m(e,t,n){return new Map(Array.from(e(n)).map(function(e){return[e,t(n,e)]}))}function y(e){return m(u,d,e)}function v(e){return m(h,g,e)}function b(e,t,n){var r=e(n),i=new Map;r.forEach(function(e,r){if(t.has(r)){var o=Array.from(t.get(r)),s=Array.from(e);o.forEach(function(e,t){var r=s[t];i.set(r,e);var o="a=ssrc:"+e+" $1";n=n.replace(new RegExp("^a=ssrc:"+r+" (.*)$","gm"),o)})}else t.set(r,e)});var o="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(o,"gm"))||[]).forEach(function(e){var t=e.match(new RegExp(o));if(t){var r=t[1],s=t[2].split(" ").map(function(e){return i.get(e)||e}).join(" ");n=n.replace(t[0],r+s)}}),n}t.getSdpFormat=function(e){return{chrome:a(e),firefox:"unified",safari:"undefined"!=typeof RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}[i()]||null},t.getMediaSections=f,t.getPlanBTrackIds=u,t.getUnifiedPlanTrackIds=h,t.getPlanBSSRCs=d,t.getUnifiedPlanSSRCs=g,t.updatePlanBTrackIdsToSSRCs=function(e,t){return b(y,e,t)},t.updateUnifiedPlanTrackIdsToSSRCs=function(e,t){return b(v,e,t)}},iqXr:function(e){e.exports=JSON.parse('{"_from":"twilio-video","_id":"twilio-video@2.11.0","_inBundle":false,"_integrity":"sha512-6nvMzkvcXP3616ocX3hZU0SclpExCpBUbYwW1y79h993xmiY25C0WOIkcgycKIIdQwLcysXBWl01OGYDYw8R3w==","_location":"/twilio-video","_phantomChildren":{"async-limiter":"1.0.1","safe-buffer":"5.1.2","ultron":"1.1.1"},"_requested":{"type":"tag","registry":true,"raw":"twilio-video","name":"twilio-video","escapedName":"twilio-video","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/twilio-video/-/twilio-video-2.11.0.tgz","_shasum":"b0500aab9e5c2ec624173d874aacf7c4c43cf6bb","_spec":"twilio-video","_where":"C:\\\\Users\\\\SRK\\\\zoomclone","author":{"name":"Mark Andrus Roberts","email":"mroberts@twilio.com"},"browser":{"ws":"./src/ws.js","xmlhttprequest":"./src/xmlhttprequest.js"},"bugs":{"url":"https://github.com/twilio/twilio-video.js/issues"},"bundleDependencies":false,"contributors":[{"name":"Ryan Rowland","email":"rrowland@twilio.com"},{"name":"Manjesh Malavalli","email":"mmalavalli@twilio.com"},{"name":"Makarand Patwardhan","email":"mpatwardhan@twilio.com"}],"dependencies":{"@twilio/webrtc":"4.3.2","backoff":"^2.5.0","ws":"^3.3.1","xmlhttprequest":"^1.8.0"},"deprecated":false,"description":"Twilio Video JavaScript Library","devDependencies":{"@types/express":"^4.11.0","@types/node":"^8.5.1","@types/selenium-webdriver":"^3.0.8","@types/ws":"^3.2.1","@typescript-eslint/eslint-plugin":"^4.13.0","@typescript-eslint/parser":"^3.10.1","babel-cli":"^6.26.0","babel-preset-es2015":"^6.24.1","browserify":"^17.0.0","cheerio":"^0.22.0","cors":"^2.8.5","electron":"^9.1.0","envify":"^4.0.0","eslint":"^6.2.1","eslint-config-standard":"^14.0.0","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^9.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1","express":"^4.16.2","ink-docstrap":"^1.3.2","inquirer":"^7.0.0","is-docker":"^2.0.0","istanbul":"^0.4.5","jsdoc":"^3.5.5","json-loader":"^0.5.7","karma":"^5.0.2","karma-browserify":"^7.0.0","karma-chrome-launcher":"^2.0.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.3.0","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"0.0.32","mocha":"^3.2.0","node-http-server":"^8.1.2","npm-run-all":"^4.0.2","requirejs":"^2.3.3","rimraf":"^2.6.1","simple-git":"^1.126.0","sinon":"^4.0.1","ts-node":"4.0.1","tslint":"5.8.0","twilio":"^3.49.0","twilio-release-tool":"^1.0.0","typescript":"^4.0.5","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0","watchify":"^3.11.1","webrtc-adapter":"^4.1.1"},"engines":{"node":">=0.12"},"homepage":"https://twilio.com","keywords":["twilio","webrtc","library","javascript","video","rooms"],"license":"BSD-3-Clause","main":"./es5/index.js","name":"twilio-video","repository":{"type":"git","url":"git+https://github.com/twilio/twilio-video.js.git"},"scripts":{"build":"npm-run-all clean lint docs cover test:integration build:es5 build:js build:min.js test:umd","build:es5":"rimraf ./es5 && babel lib -d es5","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":"uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments \\"/^! twilio-video.js/\\" -b beautify=false,ascii_only=true","build:quick":"npm-run-all clean lint docs build:es5 build:js build:min.js build:ts","build:ts":"tsc -p tsconfig.json --noEmit","clean":"rimraf ./coverage ./es5 ./dist","cover":"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js","docs":"node ./scripts/docs.js ./dist/docs","lint":"npm-run-all lint:js lint:ts","lint:js":"eslint ./lib ./test/*.js ./docker/**/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/** ","lint:ts":"eslint ./tsdef/*.ts","test":"npm-run-all test:unit test:integration","test:crossbrowser":"npm-run-all test:crossbrowser:*","test:crossbrowser:build":"npm-run-all test:crossbrowser:build:*","test:crossbrowser:build:browser":"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js","test:crossbrowser:build:clean":"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js","test:crossbrowser:build:lint":"cd ./test/crossbrowser && tslint --project tsconfig.json","test:crossbrowser:build:tsc":"cd ./test/crossbrowser && tsc","test:crossbrowser:test":"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:framework":"npm-run-all test:framework:install test:framework:angular test:framework:no-framework test:framework:react","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules package-lock.json && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:install":"npm install chromedriver && npm install selenium-webdriver && npm install geckodriver && npm install puppeteer","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules package-lock.json && npm install","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:integration":"node ./scripts/karma.js karma/integration.conf.js","test:integration:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:sdkdriver":"npm-run-all test:sdkdriver:*","test:sdkdriver:build":"npm-run-all test:sdkdriver:build:*","test:sdkdriver:build:clean":"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js","test:sdkdriver:build:lint":"cd ./test/lib/sdkdriver && tslint --project tsconfig.json","test:sdkdriver:build:tsc":"cd ./test/lib/sdkdriver && tsc --rootDir src","test:sdkdriver:test":"npm-run-all test:sdkdriver:test:*","test:sdkdriver:test:integration":"npm-run-all test:sdkdriver:test:integration:*","test:sdkdriver:test:integration:browser":"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js","test:sdkdriver:test:integration:run":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:sdkdriver:test:unit":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts","test:umd":"mocha ./test/umd/index.js","test:umd:install":"npm install puppeteer","test:unit":"mocha ./test/unit/index.js"},"title":"Twilio Video","types":"./tsdef/index.d.ts","version":"2.11.0"}')},j4sL:function(e,t,n){"use strict";var r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("hkYD"));e.exports=r},jU82:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=n("wxsB"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"}},{key:"attach",value:function(e){return(e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this,e)).muted=!0,e}},{key:"_end",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_end",this).apply(this,arguments)}},{key:"disable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disable",this).apply(this,arguments)}},{key:"enable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).apply(this,arguments)}},{key:"restart",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"restart",this).apply(this,arguments)}},{key:"stop",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).apply(this,arguments)}}]),t}(n("aQcx")(o));e.exports=s},jxCJ:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("ghd6").defer,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_audio:{value:i(),writable:!0},_video:{value:i(),writable:!0}}),this._audio.resolve(),this._video.resolve()}return r(e,[{key:"resolveDeferred",value:function(e){"audio"===e?this._audio.resolve():this._video.resolve()}},{key:"startDeferred",value:function(e){"audio"===e?this._audio=i():this._video=i()}},{key:"whenResolved",value:function(e){return"audio"===e?this._audio.promise:this._video.promise}}]),e}();e.exports=new o},"k/FX":function(e){e.exports=JSON.parse('{"_from":"@twilio/webrtc@4.3.2","_id":"@twilio/webrtc@4.3.2","_inBundle":false,"_integrity":"sha512-3gIq7XDI3vBoikRBchCnocFmlRQt45KC7v0DKkat+TV6WBXYJx+Hub22PR18PAROkwl5dAmIziByjYWWVhCHgA==","_location":"/@twilio/webrtc","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@twilio/webrtc@4.3.2","name":"@twilio/webrtc","escapedName":"@twilio%2fwebrtc","scope":"@twilio","rawSpec":"4.3.2","saveSpec":null,"fetchSpec":"4.3.2"},"_requiredBy":["/twilio-video"],"_resolved":"https://registry.npmjs.org/@twilio/webrtc/-/webrtc-4.3.2.tgz","_shasum":"919520a870fdf8d87f915da47276710828e8fc5b","_spec":"@twilio/webrtc@4.3.2","_where":"C:\\\\Users\\\\SRK\\\\zoomclone\\\\node_modules\\\\twilio-video","author":{"name":"Manjesh Malavalli","email":"mmalavalli@twilio.com"},"bugs":{"url":"https://github.com/twilio/twilio-webrtc.js/issues"},"bundleDependencies":false,"contributors":[{"name":"Mark Roberts","email":"mroberts@twilio.com"},{"name":"Ryan Rowland","email":"rrowland@twilio.com"},{"name":"Makarand Patwardhan","email":"mpatwardhan@twilio.com"}],"deprecated":false,"description":"WebRTC-related APIs and shims used by twilio-video.js","devDependencies":{"browserify":"^14.4.0","electron":"^5.0.0","envify":"^4.1.0","eslint":"^4.4.1","is-docker":"^2.0.0","istanbul":"^0.4.5","karma":"^1.7.0","karma-browserify":"^5.1.1","karma-chrome-launcher":"^2.2.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.0.1","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"~0.1","karma-spec-reporter":"0.0.31","mocha":"^3.5.0","npm-run-all":"^4.0.2","rimraf":"^2.6.1","simple-git":"^2.4.0","twilio-release-tool":"^1.0.0","watchify":"^3.9.0","webrtc-adapter":"^6.4.8"},"homepage":"https://github.com/twilio/twilio-webrtc.js#readme","keywords":["shim","twilio","video","webrtc"],"license":"BSD-3-Clause","main":"./lib/index.js","name":"@twilio/webrtc","repository":{"type":"git","url":"git+https://github.com/twilio/twilio-webrtc.js.git"},"scripts":{"build":"npm-run-all clean lint test","clean":"rimraf coverage","lint":"eslint ./lib","test":"npm-run-all test:*","test:integration":"npm-run-all test:integration:*","test:integration:adapter":"karma start karma/integration.adapter.conf.js","test:integration:native":"karma start karma/integration.conf.js","test:unit":"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js"},"version":"4.3.2"}')},kThA:function(e,t,n){function r(e){return null!=e}function i(e){if(r((e=e||{}).initialDelay)&&e.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(r(e.maxDelay)&&e.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=e.initialDelay||100,this.maxDelay_=e.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(r(e.randomisationFactor)&&(e.randomisationFactor<0||e.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=e.randomisationFactor||0}n("+qE3"),n("MCLT"),i.prototype.getMaxDelay=function(){return this.maxDelay_},i.prototype.getInitialDelay=function(){return this.initialDelay_},i.prototype.next=function(){var e=this.next_(),t=1+Math.random()*this.randomisationFactor_;return Math.round(e*t)},i.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},i.prototype.reset=function(){this.reset_()},i.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},e.exports=i},kltW:function(e,t,n){"use strict";var r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("5UJR"));e.exports=r},lBno:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=n("UpXp"),s=n("VUT2"),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.label,e.maxPacketLifeTime,e.maxRetransmits,e.ordered));return Object.defineProperties(n,{_dataChannel:{value:e}}),e.binaryType="arraybuffer",e.addEventListener("message",function(e){n.emit("message",e.data)}),e.addEventListener("close",function(){n.emit("close")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"stop",value:function(){this._dataChannel.close(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this)}},{key:"toDataTransport",value:function(){return new s(this._dataChannel)}}]),t}(o);e.exports=a},lrhj:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(n,{_loudestParticipantSid:{value:null,writable:!0}}),e.on("message",function(e){switch(e.type){case"active_speaker":n._setLoudestParticipantSid(e.participant)}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_setLoudestParticipantSid",value:function(e){this.loudestParticipantSid!==e&&(this._loudestParticipantSid=e,this.emit("updated"))}},{key:"loudestParticipantSid",get:function(){return this._loudestParticipantSid}}]),t}(n("+qE3").EventEmitter);e.exports=i},ls7c:function(e,t,n){"use strict";var r=n("8yKx"),i=n("mtX7"),o=n("MCLT").inherits,s=n("iWhl").updateUnifiedPlanTrackIdsToSSRCs,a=n("BWbm"),c="object"==typeof navigator&&navigator.userAgent&&(navigator.userAgent.match(/Firefox\/61/)||navigator.userAgent.match(/Firefox\/62/));function l(e){if(!(this instanceof l))return new l(e);r.call(this),a.interceptEvent(this,"signalingstatechange");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},localDescription:{enumerable:!0,get:function(){return d(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.signalingState}}});var n,i=this;t.addEventListener("signalingstatechange",function(){if(!i._rollingBack&&i.signalingState!==n){n=i.signalingState;var e=i.dispatchEvent.apply.bind(i.dispatchEvent,i,arguments);i._isClosed?setTimeout(e):e()}}),a.proxyProperties(RTCPeerConnection.prototype,this,t)}function u(e,t,n){var r=t?"setLocalDescription":"setRemoteDescription";return e._rollingBack=!0,e._peerConnection[r](new i({type:"rollback"})).then(n).then(function(t){return e._rollingBack=!1,t},function(t){throw e._rollingBack=!1,t})}function h(e,t,n){if(!e._initiallyNegotiatedDtlsRole&&"offer"!==t.type){var r=t.sdp.match(/a=setup:([a-z]+)/);if(r){var i=r[1];e._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[i]:i}}}function d(e,t){return e&&"answer"===e.type&&t?new i({type:e.type,sdp:e.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+t)}):e}o(l,r),Object.defineProperty(l.prototype,"peerIdentity",{enumerable:!0,value:Promise.resolve({idp:"",name:""})}),c&&(l.prototype.addTrack=function(){var e=arguments[0],t=this._peerConnection.addTrack.apply(this._peerConnection,arguments);return t.replaceTrack(e),t}),l.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._peerConnection.createAnswer().then(function(e){return h(n,e),d(e,n._initiallyNegotiatedDtlsRole)}),"function"==typeof t[0]?a.legacyPromise(e,t[0],t[1]):e},l.prototype.createOffer=function(){var e,t=[].slice.call(arguments),n=(t.length>1?t[2]:t[0])||{},r=this;if("have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState){var o="have-local-offer"===this.signalingState;e=u(this,o,function(){return r.createOffer(n)})}else e=r._peerConnection.createOffer(n);return e=e.then(function(e){return new i({type:e.type,sdp:s(r._tracksToSSRCs,e.sdp)})}),t.length>1?a.legacyPromise(e,t[0],t[1]):e},l.prototype.setLocalDescription=function(){var e,t=[].slice.call(arguments),n=t[0];return n&&"answer"===n.type&&"have-local-offer"===this.signalingState&&(e=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),e?t.length>1?a.legacyPromise(e,t[1],t[2]):e:this._peerConnection.setLocalDescription.apply(this._peerConnection,t)},l.prototype.setRemoteDescription=function(){var e,t=[].slice.call(arguments),n=t[0],r=this;return n&&"have-remote-offer"===this.signalingState&&("answer"===n.type?e=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===n.type&&(e=u(this,!1,function(){return r._peerConnection.setRemoteDescription(n)}))),e||(e=this._peerConnection.setRemoteDescription(n)),e=e.then(function(){h(r,n,!0)}),t.length>1?a.legacyPromise(e,t[1],t[2]):e},l.prototype.close=function(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},a.delegateMethods(RTCPeerConnection.prototype,l.prototype,"_peerConnection"),e.exports=l},m0JW:function(e,t,n){"use strict";var r=n("TM7a");e.exports=function(e){var t=n("/+gY"),i={},o=t.getOrCreate(i),s=3;return function t(){return s--,r(o,e.srcObject,250).then(function(e){return!!e&&(!(s>0)||t())}).catch(function(){return!0})}().finally(function(){t.release(i)})}},"m8+h":function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(n("+EQa"));e.exports=i},mAYT:function(e,t,n){"use strict";var r=n("+qE3").EventEmitter,i=n("ghd6");e.exports=(0,i.hidePrivateAndCertainPublicPropertiesInClass)(r,["domain"])},mb7l:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("tjbx"),o=n("xwWy"),s=o.typeErrors,a=o.trackPriority,c=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.name,e.sid,i));return Object.defineProperties(o,{_reemitTrackEvent:{value:function(){return o.emit(o.isTrackEnabled?"trackEnabled":"trackDisabled")}},_signaling:{value:e},_unpublish:{value:r},isTrackEnabled:{enumerable:!0,get:function(){return"data"===this.track.kind||this.track.isEnabled}},kind:{enumerable:!0,value:n.kind},priority:{enumerable:!0,get:function(){return e.updatedPriority}},track:{enumerable:!0,value:n}}),n.on("disabled",o._reemitTrackEvent),n.on("enabled",o._reemitTrackEvent),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}},{key:"setPriority",value:function(e){var t=Object.values(a);if(!t.includes(e))throw s.INVALID_VALUE("priority",t);return this._signaling.setPriority(e),this}},{key:"unpublish",value:function(){return this.track.removeListener("disabled",this._reemitTrackEvent),this.track.removeListener("enabled",this._reemitTrackEvent),this._unpublish(this),this}}]),t}(i);e.exports=c},mbIT:function(e,t,n){"use strict";t.isArray=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},mkGC:function(e,t,n){"use strict";e.exports=function e(t){if(!(this instanceof e))return new e(t);var n=t&&"rollback"===t.type?null:new RTCSessionDescription(t);Object.defineProperties(this,{_description:{get:function(){return n}},sdp:{enumerable:!0,value:n?n.sdp:t.sdp},type:{enumerable:!0,value:n?n.type:t.type}})}},mtX7:function(e,t,n){"use strict";e.exports=RTCSessionDescription},muOY:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.on("message",function(e){switch(e.type){case"track_switch_off":n._setTrackSwitchOffUpdates(e.off||[],e.on||[])}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_setTrackSwitchOffUpdates",value:function(e,t){this.emit("updated",e,t)}}]),t}(n("+qE3").EventEmitter);e.exports=i},mv6w:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({getKey:function(e){return e},getValue:function(e){return e},isLessThanOrEqualTo:function(e,t){return e<=t}},t),Object.defineProperties(this,{_getKey:{value:t.getKey},_getValue:{value:t.getValue},_isLessThanOrEqualTo:{value:t.isLessThanOrEqualTo},_map:{value:new Map}})}return r(e,[{key:"toMap",value:function(){return new Map(this._map)}},{key:"updateAndFilter",value:function(e){return e.filter(this.update,this)}},{key:"update",value:function(e){var t=this._getKey(e),n=this._getValue(e);return!(this._map.has(t)&&this._isLessThanOrEqualTo(n,this._map.get(t))||(this._map.set(t,n),0))}}]),e}();e.exports=i},n3uD:function(e,t,n){"use strict";var r=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},nj3X:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("+qE3").EventEmitter,o=n("xwWy"),s=o.DEFAULT_NQ_LEVEL_LOCAL,a=o.DEFAULT_NQ_LEVEL_REMOTE,c=o.MAX_NQ_LEVEL,l=n("ghd6").inRange,u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e=Object.assign({local:s,remote:a},e),Object.defineProperties(n,{local:{value:l(e.local,s,c)?e.local:s,writable:!0},remote:{value:l(e.remote,a,c)?e.remote:a,writable:!0}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"update",value:function(e){var t=this;e=Object.assign({local:this.local,remote:this.remote},e),[["local",s,3],["remote",a,3]].forEach(function(n){var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),3!==n.length);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(n),i=r[0],o=r[1];t[i]="number"==typeof e[i]&&l(e[i],o,r[2])?e[i]:o})}}]),t}(i);e.exports=u},nzqU:function(e,t,n){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},o2QH:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},e),Object.defineProperties(n,{maxAudioBitrate:{value:e.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:e.maxVideoBitrate,writable:!0}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toJSON",value:function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}}},{key:"update",value:function(e){var t=this;e=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},e),["maxAudioBitrate","maxVideoBitrate"].reduce(function(n,r){return t[r]!==e[r]&&(t[r]=e[r],n=!0),n},!1)&&this.emit("changed")}}]),t}(n("+qE3").EventEmitter);e.exports=i},"p//D":function(e,t,n){"use strict";t.rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),t.$$rxSubscriber=t.rxSubscriber},pWYA:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("+qE3"),o=n("I/VV"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{_factories:{value:new WeakMap},_manager:{value:e},_signaling:{value:n}}),n.on("updated",function(){return r.emit("updated")}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"start",value:function(){var e=this;this.stop();var t=setTimeout(function(){var n,r;e._timeout===t&&(n=e,r=(n._manager._peerConnections?Array.from(n._manager._peerConnections.values()):[]).map(function(e){return e._peerConnection}).filter(function(e){return"closed"!==e.signalingState}).map(function(e){if(n._factories.has(e))return n._factories.get(e);var t=new o(e);return n._factories.set(e,t),t}).map(function(e){return e.next().catch(function(){return null})}),Promise.all(r).then(function(e){return e.filter(function(e){return e}).map(function(e){return e.summarize()})})).then(function(n){if(e._timeout===t){if(n.length){var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),1!==n.length);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(n);e._signaling.put(r[0])}e.start()}})},200);this._timeout=t}},{key:"stop",value:function(){clearTimeout(this._timeout),this._timeout=null}},{key:"level",get:function(){return this._signaling.level}},{key:"levels",get:function(){return this._signaling.levels}},{key:"remoteLevels",get:function(){return this._signaling.remoteLevels}}]),t}(i);e.exports=s},pshJ:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},q6IO:function(e,t,n){"use strict";e.exports=function e(t){var n=t.jitter,r=void 0===n?null:n,i=t.rtt,o=void 0===i?null:i,s=t.level,a=void 0===s?null:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{jitter:{value:r,enumerable:!0},rtt:{value:o,enumerable:!0},level:{value:a,enumerable:!0}})}},qRNy:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("ghd6").difference,o=n("ghd6").flatMap;function s(){return String(Math.floor(4294967295*Math.random()))}var a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{cName:{enumerable:!0,value:r},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:n},trackId:{enumerable:!0,value:t}})}return r(e,[{key:"addSimulcastSSRCs",value:function(){if(!this.isSimulcastEnabled){var e=[s(),s()];e.forEach(function(e){this.primarySSRCs.add(e)},this),this.rtxPairs.size&&e.forEach(function(e){this.rtxPairs.set(s(),e)},this)}}},{key:"addSSRC",value:function(e,t,n){t?this.rtxPairs.set(e,t):this.primarySSRCs.add(e),this.isSimulcastEnabled=this.isSimulcastEnabled||n}},{key:"toSdpLines",value:function(e){var t=this,n=e?[]:Array.from(this.rtxPairs.entries()).map(function(e){return e.reverse()}),r=Array.from(this.primarySSRCs.values()),i=n.length?o(n):r,s=o(i,function(e){return["a=ssrc:"+e+" cname:"+t.cName,"a=ssrc:"+e+" msid:"+t.streamId+" "+t.trackId]}),a=n.map(function(e){return"a=ssrc-group:FID "+e.join(" ")}),c=["a=ssrc-group:SIM "+r.join(" ")];return a.concat(s).concat(c)}}]),e}();function c(e,t){return(e.match(new RegExp(t,"gm"))||[]).map(function(e){return(e.match(new RegExp(t))||[]).slice(1)})}function l(e){return c(e,"^a=ssrc:([0-9]+) msid:([^\\s]+) ([^\\s]+)$")}function u(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),2!==n.length);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(o(c(e,"^a=msid:(.+) (.+)$"))),n=t[0],r=t[1];return o(c(e,"^a=ssrc:(.+) cname:.+$")).map(function(e){return[e,n,r]})}e.exports=function(e,t,n){var r=function(e,t){var n=function(e){return new Set(o(c(e,"^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$")))}(e),r=function(e){return new Map(c(e,"^a=ssrc-group:FID ([0-9]+) ([0-9]+)$").map(function(e){return e.reverse()}))}(e);return function(e,t){return{planb:l,unified:u}[t](e)}(e,t).reduce(function(t,i){var o=i[0],s=i[1],c=i[2],l=t.get(c)||new a(c,s,function(e,t,n){return e.match(new RegExp("a=ssrc:"+t+" cname:(.+)"))[1]}(e,o)),u=r.get(o)||null;return l.addSSRC(o,u,n.has(o)),t.set(c,l)},new Map)}(e,t),s=Array.from(r.keys()),h=Array.from(n.keys()),d=i(s,h),f=i(h,s);o(d,function(e){return r.get(e)}).forEach(function(e){e.addSimulcastSSRCs(),n.set(e.trackId,e)}),h=Array.from(n.keys());var p=i(h,f),g=o(p,function(e){return n.get(e)}),m=!e.match(/a=rtpmap:[0-9]+ rtx/),y=o(g,function(e){return e.toSdpLines(m)}),v=o(new Set(e.split("\r\n").concat(y))),b="a=x-google-flag:conference";return e.match(b)||v.push(b),v.join("\r\n")}},qmcU:function(e,t,n){"use strict";e.exports="function"==typeof MediaStream?MediaStream:function(){throw new Error("MediaStream is not supported")}},r2dn:function(e,t,n){"use strict";var r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return Object.defineProperties(i,{audioLevel:{value:"number"==typeof n.audioInputLevel?n.audioInputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("zYCr"));e.exports=r},r2pO:function(e,t,n){"use strict";var r=n("8yKx"),i=n("MCLT").inherits,o=n("rskN"),s=n("iWhl"),a=n("BWbm"),c="unified"===s.getSdpFormat(),l=c?s.updateUnifiedPlanTrackIdsToSSRCs:s.updatePlanBTrackIdsToSSRCs;function u(e){if(!(this instanceof u))return new u(e);r.call(this),a.interceptEvent(this,"datachannel"),a.interceptEvent(this,"iceconnectionstatechange"),a.interceptEvent(this,"signalingstatechange"),a.interceptEvent(this,"track");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_signalingStateLatch:{value:new o},_tracksToSSRCs:{value:new Map,writable:!0},_videoTransceiver:{value:null,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription}},iceConnectionState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState}},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState}}});var n=this;t.addEventListener("datachannel",function(e){f(e.channel),n.dispatchEvent(e)}),t.addEventListener("iceconnectionstatechange",function(){n._isClosed||n.dispatchEvent.apply(n,arguments)}),t.addEventListener("signalingstatechange",function(){n._isClosed||("stable"===t.signalingState&&(n._appliedTracksToSSRCs=new Map(n._tracksToSSRCs)),n._pendingLocalOffer||n._pendingRemoteOffer||n.dispatchEvent.apply(n,arguments))}),t.addEventListener("track",function(e){n._pendingRemoteOffer=null,n.dispatchEvent(e)}),a.proxyProperties(RTCPeerConnection.prototype,this,t)}function h(e,t,n){var r,i=t?e._pendingLocalOffer:e._pendingRemoteOffer,o=t?"have-local-offer":"have-remote-offer",s=t?"setLocalDescription":"setRemoteDescription";if(!t&&(t?e._pendingRemoteOffer:e._pendingLocalOffer)&&"answer"===n.type)return function(e,t){return e._peerConnection.setLocalDescription(e._pendingLocalOffer).then(function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)}).then(function(){e._signalingStateLatch.lower()})}(e,n);if("offer"===n.type){if(e.signalingState!==o&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));i||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var a=e.signalingState;return r=n,t?e._pendingLocalOffer=r:e._pendingRemoteOffer=r,e.signalingState!==a?Promise.resolve().then(function(){e.dispatchEvent(new Event("signalingstatechange"))}):Promise.resolve()}return"rollback"===n.type?e.signalingState!==o?Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),Promise.resolve().then(function(){e.dispatchEvent(new Event("signalingstatechange"))})):e._peerConnection[s](n)}function d(e,t){return!!e.getTransceivers().find(function(e){return e.receiver&&e.receiver.track&&e.receiver.track.kind===t})}function f(e){return Object.defineProperties(e,{maxPacketLifeTime:{value:65535===e.maxPacketLifeTime?null:e.maxPacketLifeTime},maxRetransmits:{value:65535===e.maxRetransmits?null:e.maxRetransmits}})}i(u,r),u.prototype.addIceCandidate=function(e){var t=this;return"have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function(){return t._peerConnection.addIceCandidate(e)}):this._peerConnection.addIceCandidate(e)},u.prototype.createOffer=function(e){e=Object.assign({},e);var t=this;if(e.offerToReceiveAudio&&!this._audioTransceiver&&(!c||!d(this,"audio"))){delete e.offerToReceiveAudio;try{this._audioTransceiver=c?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(n){return Promise.reject(n)}}if(e.offerToReceiveVideo&&!this._videoTransceiver&&(!c||!d(this,"video"))){delete e.offerToReceiveVideo;try{this._videoTransceiver=c?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(n){return Promise.reject(n)}}return this._peerConnection.createOffer(e).then(function(e){return t._rolledBackTracksToSSRCs.clear(),new RTCSessionDescription({type:e.type,sdp:l(t._tracksToSSRCs,e.sdp)})})},u.prototype.createAnswer=function(e){var t=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return t._signalingStateLatch.lower(),t._peerConnection.createAnswer()}).then(function(e){return t._pendingRemoteOffer=null,t._rolledBackTracksToSSRCs.clear(),c?new RTCSessionDescription({type:e.type,sdp:l(t._tracksToSSRCs,e.sdp)}):e},function(e){throw t._pendingRemoteOffer=null,e}):this._peerConnection.createAnswer(e).then(function(e){return t._rolledBackTracksToSSRCs.clear(),c?new RTCSessionDescription({type:e.type,sdp:l(t._tracksToSSRCs,e.sdp)}):e})},u.prototype.createDataChannel=function(e,t){var n=this._peerConnection.createDataChannel(e,t);return f(n),n},u.prototype.removeTrack=function(e){e.replaceTrack(null),this._peerConnection.removeTrack(e)},u.prototype.setLocalDescription=function(e){return this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear()),h(this,!0,e)},u.prototype.setRemoteDescription=function(e){return this._rolledBackTracksToSSRCs.clear(),h(this,!1,e)},u.prototype.close=function(){if(!this._isClosed){this._isClosed=!0,this._peerConnection.close();var e=this;setTimeout(function(){e.dispatchEvent(new Event("iceconnectionstatechange")),e.dispatchEvent(new Event("signalingstatechange"))})}},a.delegateMethods(RTCPeerConnection.prototype,u.prototype,"_peerConnection"),e.exports=u},rskN:function(e,t,n){"use strict";var r=n("BWbm").defer,i={high:new Set(["low"]),low:new Set(["high"])};function o(e){if(!(this instanceof o))return new o(e);var t=e||"low";Object.defineProperties(this,{_state:{set:function(e){if(t!==e){var n=this._whenDeferreds.get(t=e);n.forEach(function(e){e.resolve(this)},this),n.clear()}},get:function(){return t}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])},state:{enumerable:!0,get:function(){return this._state}}})}function s(e,t){return new Error('Cannot transition from "'+e+'" to "'+t+'"')}o.prototype.lower=function(){return this.transition("low")},o.prototype.raise=function(){return this.transition("high")},o.prototype.transition=function(e){if(!i[this.state].has(e))throw s(this.state,e);return this._state=e,this},o.prototype.when=function(e){if(this.state===e)return Promise.resolve(this);if(!i[this.state].has(e))return Promise.reject(s(this.state,e));var t=r();return this._whenDeferreds.get(e).add(t),t.promise},e.exports=o},sJKT:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return r(e,[{key:"connect",value:function(){}},{key:"disconnect",value:function(){return!!this._connected&&(this._connected=!1,!0)}},{key:"publish",value:function(){return this._connected}}]),e}();e.exports=i},sYJf:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:n}}),Object.defineProperty(this,"_promise",{value:new Promise(function(e,n){t(function(t){r._isCancelable=!1,e(t)},function(e){r._isCancelable=!1,n(e)},function(){return r._isCanceled})})})}return r(e,[{key:"cancel",value:function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this}},{key:"catch",value:function(){var t=[].slice.call(arguments),n=this._promise;return new e(function(e,r){n.catch.apply(n,i(t)).then(e,r)},this._onCancel)}},{key:"then",value:function(){var t=[].slice.call(arguments),n=this._promise;return new e(function(e,r){n.then.apply(n,i(t)).then(e,r)},this._onCancel)}}],[{key:"reject",value:function(t){return new e(function(e,n){n(t)},function(){})}},{key:"resolve",value:function(t){return new e(function(e){e(t)},function(){})}}]),e}();e.exports=o},shdM:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i="data"===(e=e.clone()).kind||e.track.enabled,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,e.kind,i,r));return o.setTrackTransceiver(e),Object.defineProperties(o,{_updatedPriority:{value:r,writable:!0},id:{enumerable:!0,value:e.id}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"enable",value:function(e){return this.trackTransceiver.track.enabled=e="boolean"!=typeof e||e,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).call(this,e)}},{key:"publishFailed",value:function(e){return function(e,t){return null===e._sid&&!e._error&&(e._error=t,!0)}(this,e)&&this.emit("updated"),this}},{key:"setPriority",value:function(e){return this._updatedPriority!==e&&(this._updatedPriority=e,this.emit("updated")),this}},{key:"setSid",value:function(e){return this._error?this:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setSid",this).call(this,e)}},{key:"stop",value:function(){this.trackTransceiver.stop()}},{key:"updatedPriority",get:function(){return this._updatedPriority}}]),t}(n("Ivmz"));e.exports=o},t472:function(e,t,n){"use strict";var r=n("BWbm"),i=r.guessBrowser,o=r.support,s=["edg","edge","electron","headlesschrome"];e.exports=function(){var e=i(),t=function(e){return"chrome"!==e?null:"brave"in navigator?"brave":(t=(function(e){for(var t=[],n=[],r=0;r<e.length;r++)if("("===e[r])t.push(r);else if(")"===e[r]&&t.length>0){var i=t.pop();0===t.length&&n.push(e.substring(i,r+1))}return n}(navigator.userAgent).reduce(function(e,t){return e.replace(t,"")},navigator.userAgent).match(/[^\s]+/g)||[]).map(function(e){return e.split("/")[0].toLowerCase()}),Array.isArray(t)?t:Array.from(t)).slice(2).find(function(e){return!["chrome","mobile","safari"].includes(e)})||null;var t}(e);return!!e&&o()&&(!t||s.includes(t))&&!function(e){return"chrome"===e&&/Edge/.test(navigator.userAgent)&&("undefined"==typeof chrome||void 0===chrome.runtime)}(e)}},tPbP:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("+qE3").EventEmitter,o=n("ghd6").getUserAgent,s=global.window||global,a=s.WebSocket?s.WebSocket:n("vaDk"),c=n("ghd6"),l=function(e){function t(e,n,r,i,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l=Object.assign({gateway:h(i,s)+"/v1/VideoEvents",maxReconnectAttempts:5,reconnectIntervalMs:50,userAgent:o(),WebSocket:a},l),Object.defineProperties(d,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:c.defer()},_reconnectAttemptsLeft:{value:l.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:l.WebSocket}}),d._readyToConnect.promise.then(function(t){var i=t.roomSid,o=t.participantSid,s=d;d.on("disconnected",function t(a){if(s._session=null,a&&s._reconnectAttemptsLeft>0)return s.emit("reconnecting"),void function(e,t,n,r,i,o,s){var a=Date.now()-e._connectTimestamp,c=s.reconnectIntervalMs-a;c>0?setTimeout(function(){u(e,t,n,r,i,o,s)},c):u(e,t,n,r,i,o,s)}(s,e,n,r,i,o,l);s.removeListener("disconnected",t)}),u(d,e,n,r,i,o,l)}).catch(function(){}),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"connect",value:function(e,t){this._readyToConnect.resolve({roomSid:e,participantSid:t})}},{key:"_publish",value:function(e){e.session=this._session,this._ws.send(JSON.stringify(e))}},{key:"disconnect",value:function(){if(null===this._ws||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(e){}return this.emit("disconnected"),!0}},{key:"publish",value:function(e,t,n){return(null===this._ws||this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED)&&(("string"==typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:e,name:t,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)}}]),t}(i);function u(e,t,n,r,i,o,s){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new s.WebSocket(s.gateway);var a=e._ws;a.addEventListener("close",function(t){1e3!==t.code?e.emit("disconnected",new Error("WebSocket Error "+t.code+": "+t.reason)):e.emit("disconnected")}),a.addEventListener("message",function(t){!function(e,t,n){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=n.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message))}}(e,JSON.parse(t.data),s)}),a.addEventListener("open",function(){var e={type:"connect",token:t,version:1};e.publisher={name:n,sdkVersion:r,userAgent:s.userAgent,participantSid:o,roomSid:i},a.send(JSON.stringify(e))})}function h(e,t){return"prod"===e?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}e.exports=l},tjbx:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("mAYT"),o=n("ghd6"),s=o.buildLogLevels,a=o.valueToJSON,c=n("xwWy").DEFAULT_LOG_LEVEL,l=n("S3Hu"),u=0,h=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r=Object.assign({logLevel:c},r);var o=s(r.logLevel);return Object.defineProperties(i,{_instanceId:{value:u++},_log:{value:r.log||new l("default",i,o,r.loggerName)},trackName:{enumerable:!0,value:e},trackSid:{enumerable:!0,value:n}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toJSON",value:function(){return a(this)}},{key:"toString",value:function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(i);e.exports=h},tzRi:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"match",value:function(e){return e.track.id}},{key:"update",value:function(){}}]),e}();e.exports=i},uBG5:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.kind));return Object.defineProperties(r,{_track:{value:n,writable:!0},enabled:{enumerable:!0,get:function(){return this._track.enabled}},readyState:{enumerable:!0,get:function(){return this._track.readyState}},track:{enumerable:!0,get:function(){return this._track}}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"stop",value:function(){this.track.stop(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this)}}]),t}(n("Jhn5"));e.exports=o},uqca:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("mv6w"),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_filter:{value:new i({getKey:function(e){return e.ufrag},isLessThanOrEqualTo:function(e,t){return e.revision<=t.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return r(e,[{key:"setUfrag",value:function(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]}},{key:"update",value:function(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),n=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(n.length):[]}}]),e}();e.exports=o},uxdj:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=n("BWbm").guessBrowser,s=n("+OFx"),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Object.assign({workaroundSilentLocalVideo:"safari"===o()&&"undefined"!=typeof document&&"function"==typeof document.createElement},n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(r,{_workaroundSilentLocalVideo:{value:n.workaroundSilentLocalVideo?c:null},_workaroundSilentLocalVideoCleanup:{value:null,writable:!0}}),r._workaroundSilentLocalVideo&&(r._workaroundSilentLocalVideoCleanup=r._workaroundSilentLocalVideo(r,document)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toString",value:function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"}},{key:"_end",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_end",this).apply(this,arguments)}},{key:"disable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disable",this).apply(this,arguments)}},{key:"enable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).apply(this,arguments)}},{key:"restart",value:function(){var e=this;this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null);var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"restart",this).apply(this,arguments);return this._workaroundSilentLocalVideo&&n.finally(function(){e._workaroundSilentLocalVideoCleanup=e._workaroundSilentLocalVideo(e,document)}),n}},{key:"stop",value:function(){return this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).apply(this,arguments)}}]),t}(n("aQcx")(n("9FmL")));function c(e,t){var n=e._log,r=e._dummyEl,i=e.mediaStreamTrack;function o(){e.isEnabled&&(n.info("Unmuted, checking silence"),r.play().then(function(){return s(r,t)}).then(function(t){if(t)return n.warn("Silence detected, restarting"),e._stop(),e._restart();n.info("Non-silent frames detected, so no need to restart")}).catch(function(e){n.warn("Failed to detect silence and restart:",e)}).finally(function(){(r=e._dummyEl).paused||r.pause(),i.removeEventListener("unmute",o),(i=e.mediaStreamTrack).addEventListener("unmute",o)}))}return i.addEventListener("unmute",o),function(){i.removeEventListener("unmute",o)}}e.exports=a},vLqr:function(e,t,n){"use strict";var r=n("Q1FS");function i(e){e.subscriber.error(e.error)}t.throwError=function(e,t){return new r.Observable(t?function(n){return t.schedule(i,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}},vaDk:function(e,t){e.exports=WebSocket},wAda:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("Kg6A"),o=n("QB7E"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Object.assign({createCancelableRoomSignalingPromise:i},n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{_createCancelableRoomSignalingPromise:{value:n.createCancelableRoomSignalingPromise},_options:{value:n},_wsServer:{value:e}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_connect",value:function(e,t,n,r,i){return i=Object.assign({},this._options,i),this._createCancelableRoomSignalingPromise.bind(null,t,this._wsServer,e,n,r,i)}},{key:"createLocalParticipantSignaling",value:function(e,t){return new o(e,t)}}]),t}(n("HHTs"));e.exports=s},wl3V:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"disable",value:function(){return this.enable(!1)}},{key:"enable",value:function(e){return this.isEnabled!==(e="boolean"!=typeof e||e)&&(this._isEnabled=e,this.emit("updated")),this}}]),t}(n("+qE3").EventEmitter);e.exports=i},wxsB:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_start",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_start",this).call(this),this._dummyEl&&this._detachElement(this._dummyEl)}},{key:"attach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).apply(this,arguments)}},{key:"detach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detach",this).apply(this,arguments)}}]),t}(n("B32u"));e.exports=o},xKqS:function(e,t,n){"use strict";var r=n("aJGj"),i=n("I65S"),o=n("vLqr");t.NotificationKind=function(e){return e.NEXT="N",e.ERROR="E",e.COMPLETE="C",e}(t.NotificationKind||{}),t.Notification=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return i.of(this.value);case"E":return o.throwError(this.error);case"C":return r.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},xVU0:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.sid,e.name,e.kind,e.enabled,e.priority))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"update",value:function(e){return this.enable(e.enabled),this.setPriority(e.priority),this}}]),t}(n("WHMX"));e.exports=i},xwWy:function(e,t,n){"use strict";e.exports.DEFAULT_ENVIRONMENT="prod",e.exports.DEFAULT_REALM="us1",e.exports.DEFAULT_REGION="gll",e.exports.DEFAULT_LOG_LEVEL="warn",e.exports.DEFAULT_LOGGER_NAME="twilio-video",e.exports.WS_SERVER=function(e,t){return t="gll"===t?"global":encodeURIComponent(t),"prod"===e?"wss://"+t+".vss.twilio.com/signaling":"wss://"+t+".vss."+e+".twilio.com/signaling"},e.exports.PUBLISH_MAX_ATTEMPTS=5,e.exports.PUBLISH_BACKOFF_JITTER=10,e.exports.PUBLISH_BACKOFF_MS=20,e.exports.typeErrors={ILLEGAL_INVOKE:function(e,t){return new TypeError("Illegal call to "+e+": "+t)},INVALID_TYPE:function(e,t){return new TypeError(e+" must be "+(["a","e","i","o","u"].includes(t.toLowerCase()[0])?"an":"a")+" "+t)},INVALID_VALUE:function(e,t){return new RangeError(e+" must be one of "+t.join(", "))},REQUIRED_ARGUMENT:function(e){return new TypeError(e+" must be specified")}},e.exports.DEFAULT_ICE_GATHERING_TIMEOUT_MS=15e3,e.exports.DEFAULT_SESSION_TIMEOUT_SEC=30,e.exports.DEFAULT_NQ_LEVEL_LOCAL=1,e.exports.DEFAULT_NQ_LEVEL_REMOTE=0,e.exports.MAX_NQ_LEVEL=3,e.exports.ICE_ACTIVITY_CHECK_PERIOD_MS=1e3,e.exports.ICE_INACTIVITY_THRESHOLD_MS=3e3,e.exports.iceRestartBackoffConfig={factor:1.1,initialDelay:1,maxDelay:1e3*e.exports.DEFAULT_SESSION_TIMEOUT_SEC,randomisationFactor:.5},e.exports.reconnectBackoffConfig={factor:1.5,initialDelay:80,randomisationFactor:.5},e.exports.subscriptionMode={MODE_COLLABORATION:"collaboration",MODE_GRID:"grid",MODE_PRESENTATION:"presentation"},e.exports.trackSwitchOffMode={MODE_DISABLED:"disabled",MODE_DETECTED:"detected",MODE_PREDICTED:"predicted"},e.exports.trackPriority={PRIORITY_HIGH:"high",PRIORITY_LOW:"low",PRIORITY_STANDARD:"standard"}},yTCf:function(e,t,n){"use strict";var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(r,{audioLevel:{value:"number"==typeof n.audioOutputLevel?n.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("i99/"));e.exports=r},yoF8:function(e,t,n){"use strict";t.identity=function(e){return e}},yx2s:function(e,t,n){"use strict";var r=n("FWf1");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof r.Subscriber?t:null}return!0}},z1nD:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("NCuz"),o=n("QH9v"),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new(0,(e=Object.assign({DataTrackSender:o,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},e)).DataTrackSender)(e.maxPacketLifeTime,e.maxRetransmits,e.ordered),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,"data",e));return Object.defineProperties(r,{_trackSender:{value:n},id:{enumerable:!0,value:n.id},maxPacketLifeTime:{enumerable:!0,value:e.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:e.maxRetransmits},ordered:{enumerable:!0,value:e.ordered},reliable:{enumerable:!0,value:null===e.maxPacketLifeTime&&null===e.maxRetransmits}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"send",value:function(e){this._trackSender.send(e)}}]),t}(i);e.exports=s},"zB/H":function(e,t,n){"use strict";var r=n("mbIT"),i=n("GMZp"),o=n("pshJ"),s=n("LBXl");function a(e){return e.reduce(function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)},[])}t.Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,c=n._parentOrParents,l=n._ctorUnsubscribe,u=n._unsubscribe,h=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,c instanceof e)c.remove(this);else if(null!==c)for(var d=0;d<c.length;++d)c[d].remove(this);if(o.isFunction(u)){l&&(this._unsubscribe=void 0);try{u.call(this)}catch(g){t=g instanceof s.UnsubscriptionError?a(g.errors):[g]}}if(r.isArray(h)){d=-1;for(var f=h.length;++d<f;){var p=h[d];if(i.isObject(p))try{p.unsubscribe()}catch(g){t=t||[],g instanceof s.UnsubscriptionError?t=t.concat(a(g.errors)):t.push(g)}}}if(t)throw new s.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}()},zMHY:function(e,t,n){e.exports=n("HNxM")},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function s(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},c=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function l(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(r(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){t=a instanceof u?d(a.errors):[a]}}if(c(s)){let e=-1,n=s.length;for(;++e<n;){const n=s[e];if(l(n))try{n.unsubscribe()}catch(a){t=t||[],a instanceof u?t=t.concat(d(a.errors)):t.push(a)}}}if(t)throw new u(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof p?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,n)}}[f](){return this}static create(e,t,n){const r=new p(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class g extends p{constructor(e,t,n,i){let o;super(),this._parentSubscriber=e;let s=this;r(t)?o=t:t&&(o=t.next,n=t.error,i=t.complete,t!==a&&(s=Object.create(t),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(e){return e}let v=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,i=function(e,t,n){if(e){if(e instanceof p)return e;if(e[f])return e[f]()}return e||t||n?new p(e,t,n):new p(a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof p?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=b(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[m](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=b(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function b(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const _=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class w extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class k extends p{constructor(e){super(e),this.destination=e}}let S=(()=>{class e extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new k(this)}lift(e){const t=new C(this,this);return t.operator=e,t}next(e){if(this.closed)throw new _;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new _;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new _;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new _;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new v;return e.source=this,e}}return e.create=(e,t)=>new C(e,t),e})();class C extends S{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function T(e){return e&&"function"==typeof e.schedule}function O(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new E(e,t))}}class E{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new P(e,this.project,this.thisArg))}}class P extends p{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const x=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()};function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const j=R(),I=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function A(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const L=e=>{if(e&&"function"==typeof e[m])return r=e,e=>{const t=r[m]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(I(e))return x(e);if(A(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);if(e&&"function"==typeof e[j])return t=e,e=>{const n=t[j]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=l(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,r};function D(e,t){return new v(n=>{const r=new h;let i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function M(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new v(n=>{const r=new h;return r.add(t.schedule(()=>{const i=e[m]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(A(e))return function(e,t){return new v(n=>{const r=new h;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if(I(e))return D(e,t);if(function(e){return e&&"function"==typeof e[j]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new v(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[j](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof v?e:new v(L(e))}class N extends p{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class F extends p{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function V(e,t){if(!t.closed)return e instanceof v?e.subscribe(t):L(e)(t)}function U(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(U((n,r)=>M(e(n,r)).pipe(O((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new B(e,n)))}class B{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new H(e,this.project,this.concurrent))}}class H extends F{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new N(this),n=this.destination;n.add(t);const r=V(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(e=Number.POSITIVE_INFINITY){return U(y,e)}function z(e,t){return t?D(e,t):new v(x(e))}function W(){return function(e){return e.lift(new G(e))}}class G{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new Q(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Q extends p{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends v{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new Y(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return W()(this)}}const J=(()=>{const e=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Y extends k{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Z(){return new S}function X(e){for(let t in e)if(e[t]===X)return t;throw Error("Could not find renamed property on target object.")}function ee(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function te(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(te).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ne(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const re=X({__forward_ref__:X});function ie(e){return e.__forward_ref__=ie,e.toString=function(){return te(this())},e}function oe(e){return se(e)?e():e}function se(e){return"function"==typeof e&&e.hasOwnProperty(re)&&e.__forward_ref__===ie}function ae(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ce(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function le(e){return ue(e,de)||ue(e,pe)}function ue(e,t){return e.hasOwnProperty(t)?e[t]:null}function he(e){return e&&(e.hasOwnProperty(fe)||e.hasOwnProperty(ge))?e[fe]:null}const de=X({"\u0275prov":X}),fe=X({"\u0275inj":X}),pe=X({ngInjectableDef:X}),ge=X({ngInjectorDef:X});var me=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let ye;function ve(e){const t=ye;return ye=e,t}function be(e,t,n){const r=le(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&me.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${te(e)}]`)}function _e(e){return{toString:e}.toString()}var we=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),ke=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const Se="undefined"!=typeof globalThis&&globalThis,Ce="undefined"!=typeof window&&window,Te="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Oe="undefined"!=typeof global&&global,Ee=Se||Oe||Ce||Te,Pe={},xe=[],Re=X({"\u0275cmp":X}),je=X({"\u0275dir":X}),Ie=X({"\u0275pipe":X}),Ae=X({"\u0275mod":X}),Le=X({"\u0275loc":X}),De=X({"\u0275fac":X}),Me=X({__NG_ELEMENT_ID__:X});let Ne=0;function Fe(e){return _e(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===we.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||xe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ke.Emulated,id:"c",styles:e.styles||xe,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=Ne++,n.inputs=qe(e.inputs,t),n.outputs=qe(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ve):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ue):null,n})}function Ve(e){return $e(e)||function(e){return e[je]||null}(e)}function Ue(e){return function(e){return e[Ie]||null}(e)}const Be={};function He(e){const t={type:e.type,bootstrap:e.bootstrap||xe,declarations:e.declarations||xe,imports:e.imports||xe,exports:e.exports||xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&_e(()=>{Be[e.id]=e.type}),t}function qe(e,t){if(null==e)return Pe;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const ze=Fe;function We(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function $e(e){return e[Re]||null}function Ge(e,t){const n=e[Ae]||null;if(!n&&!0===t)throw new Error(`Type ${te(e)} does not have '\u0275mod' property.`);return n}const Qe=20,Ke=10;function Je(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ye(e){return Array.isArray(e)&&!0===e[1]}function Ze(e){return 0!=(8&e.flags)}function Xe(e){return 2==(2&e.flags)}function et(e){return 1==(1&e.flags)}function tt(e){return null!==e.template}function nt(e,t){return e.hasOwnProperty(De)?e[De]:null}class rt extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function it(e){return"string"==typeof e?e:null==e?"":String(e)}function ot(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():it(e)}function st(e,t){const n=t?" in "+t:"";throw new rt("201",`No provider for ${ot(e)} found${n}`)}class at{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ct(){return lt}function lt(e){return e.type.prototype.ngOnChanges&&(e.setInput=ht),ut}function ut(){const e=dt(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Pe)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function ht(e,t,n,r){const i=dt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Pe,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new at(c&&c.currentValue,t,s===Pe),e[r]=t}function dt(e){return e.__ngSimpleChanges__||null}ct.ngInherit=!0;let ft=void 0;function pt(){return void 0!==ft?ft:"undefined"!=typeof document?document:void 0}function gt(e){return!!e.listen}const mt={createRenderer:(e,t)=>pt()};function yt(e){for(;Array.isArray(e);)e=e[0];return e}function vt(e,t){return yt(t[e])}function bt(e,t){return yt(t[e.index])}function _t(e,t){return e.data[t]}function wt(e,t){return e[t]}function kt(e,t){const n=t[e];return Je(n)?n:n[0]}function St(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ct(e){return 4==(4&e[2])}function Tt(e){return 128==(128&e[2])}function Ot(e,t){return null==t?null:e[t]}function Et(e){e[18]=0}function Pt(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const xt={lFrame:en(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Rt(){return xt.bindingsEnabled}function jt(){return xt.lFrame.lView}function It(){return xt.lFrame.tView}function At(e){xt.lFrame.contextLView=e}function Lt(){let e=Dt();for(;null!==e&&64===e.type;)e=e.parent;return e}function Dt(){return xt.lFrame.currentTNode}function Mt(e,t){const n=xt.lFrame;n.currentTNode=e,n.isParent=t}function Nt(){return xt.lFrame.isParent}function Ft(){xt.lFrame.isParent=!1}function Vt(){return xt.isInCheckNoChangesMode}function Ut(e){xt.isInCheckNoChangesMode=e}function Bt(){const e=xt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ht(){return xt.lFrame.bindingIndex}function qt(){return xt.lFrame.bindingIndex++}function zt(e){const t=xt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Wt(e,t){const n=xt.lFrame;n.bindingIndex=n.bindingRootIndex=e,$t(t)}function $t(e){xt.lFrame.currentDirectiveIndex=e}function Gt(e){const t=xt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Qt(){return xt.lFrame.currentQueryIndex}function Kt(e){xt.lFrame.currentQueryIndex=e}function Jt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Yt(e,t,n){if(n&me.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&me.Host||(r=Jt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=xt.lFrame=Xt();return r.currentTNode=t,r.lView=e,!0}function Zt(e){const t=Xt(),n=e[1];xt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Xt(){const e=xt.lFrame,t=null===e?null:e.child;return null===t?en(e):t}function en(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function tn(){const e=xt.lFrame;return xt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const nn=tn;function rn(){const e=tn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function on(){return xt.lFrame.selectedIndex}function sn(e){xt.lFrame.selectedIndex=e}function an(){const e=xt.lFrame;return _t(e.tView,e.selectedIndex)}function cn(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),o&&(e.viewHooks||(e.viewHooks=[])).push(-n,o),s&&((e.viewHooks||(e.viewHooks=[])).push(n,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function ln(e,t,n){dn(e,t,3,n)}function un(e,t,n,r){(3&e[2])===n&&dn(e,t,n,r)}function hn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function dn(e,t,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<i||-1==i)&&(fn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function fn(e,t,n,r){const i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(s)):o.call(s)}const pn=-1;class gn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function mn(e,t,n){const r=gt(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?e.setAttribute(t,a,c,s):t.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];vn(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function yn(e){return 3===e||4===e||6===e}function vn(e){return 64===e.charCodeAt(0)}function bn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||_n(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function _n(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const n=e[o++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function wn(e){return e!==pn}function kn(e){return 32767&e}function Sn(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Cn=!0;function Tn(e){const t=Cn;return Cn=e,t}let On=0;function En(e,t){const n=xn(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Pn(r.data,e),Pn(t,null),Pn(r.blueprint,null));const i=Rn(e,t),o=e.injectorIndex;if(wn(i)){const e=kn(i),n=Sn(i,t),r=n[1].data;for(let i=0;i<8;i++)t[o+i]=n[e+i]|r[e+i]}return t[o+8]=i,o}function Pn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function xn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Rn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return pn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return pn}function jn(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Me)&&(r=n[Me]),null==r&&(r=n[Me]=On++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=t.data;128&i?s?a?c[e+7]|=o:c[e+6]|=o:a?c[e+5]|=o:c[e+4]|=o:s?a?c[e+3]|=o:c[e+2]|=o:a?c[e+1]|=o:c[e]|=o}(e,t,n)}function In(e,t,n){if(n&me.Optional)return e;st(t,"NodeInjector")}function An(e,t,n,r){if(n&me.Optional&&void 0===r&&(r=null),0==(n&(me.Self|me.Host))){const i=e[9],o=ve(void 0);try{return i?i.get(t,r,n&me.Optional):be(t,r,n&me.Optional)}finally{ve(o)}}return In(r,t,n)}function Ln(e,t,n,r=me.Default,i){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Me)?e[Me]:void 0;return"number"==typeof t?t>=0?255&t:Mn:t}(n);if("function"==typeof o){if(!Yt(t,e,r))return r&me.Host?In(i,n,r):An(t,n,r,i);try{const e=o();if(null!=e||r&me.Optional)return e;st(n)}finally{nn()}}else if("number"==typeof o){let i=null,s=xn(e,t),a=pn,c=r&me.Host?t[16][6]:null;for((-1===s||r&me.SkipSelf)&&(a=-1===s?Rn(e,t):t[s+8],a!==pn&&Bn(r,!1)?(i=t[1],s=kn(a),t=Sn(a,t)):s=-1);-1!==s;){const e=t[1];if(Un(o,s,e.data)){const e=Nn(s,t,n,i,r,c);if(e!==Dn)return e}a=t[s+8],a!==pn&&Bn(r,t[1].data[s+8]===c)&&Un(o,s,t)?(i=e,s=kn(a),t=Sn(a,t)):s=-1}}}return An(t,n,r,i)}const Dn={};function Mn(){return new Hn(Lt(),jt())}function Nn(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],c=Fn(a,s,n,null==r?Xe(a)&&Cn:r!=s&&0!=(3&a.type),i&me.Host&&o===a);return null!==c?Vn(t,s,c,a):Dn}function Fn(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,l=o>>20,u=i?a+l:e.directiveEnd;for(let h=r?a:a+l;h<u;h++){const e=s[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(i){const e=s[c];if(e&&tt(e)&&e.type===n)return c}return null}function Vn(e,t,n,r){let i=e[n];const o=t.data;if(i instanceof gn){const s=i;s.resolving&&function(e,t){throw new rt("200","Circular dependency in DI detected for "+e)}(ot(o[n]));const a=Tn(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?ve(s.injectImpl):null;Yt(e,r,me.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const r=lt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==c&&ve(c),Tn(a),s.resolving=!1,nn()}}return i}function Un(e,t,n){const r=64&e,i=32&e;let o;return o=128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t],!!(o&1<<e)}function Bn(e,t){return!(e&me.Self||e&me.Host&&t)}class Hn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Ln(this._tNode,this._lView,e,void 0,t)}}function qn(e){const t=e;if(se(e))return()=>{const e=qn(oe(t));return e?e():null};let n=nt(t);if(null===n){const e=he(t);n=e&&e.factory}return n||null}function zn(e){return _e(()=>{const t=e.prototype.constructor,n=t[De]||qn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[De]||qn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Wn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(yn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(Lt(),e)}const $n="__parameters__";function Gn(e,t,n){return _e(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty($n)?e[$n]:Object.defineProperty(e,$n,{value:[]})[$n];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Qn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ae({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Kn=new Qn("AnalyzeForEntryComponents"),Jn=Function;function Yn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Yn(r,t)):t!==e&&t.push(r)}return t}function Zn(e,t){e.forEach(e=>Array.isArray(e)?Zn(e,t):t(e))}function Xn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function er(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function tr(e,t,n){let r=rr(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function nr(e,t){const n=rr(e,t);if(n>=0)return e[1|n]}function rr(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=e[n<<1];if(t===o)return n<<1;o>t?i=n:r=n+1}return~(i<<1)}(e,t)}const ir=Gn("Inject",e=>({token:e})),or=Gn("Optional"),sr=Gn("Self"),ar=Gn("SkipSelf"),cr={},lr=/\n/gm,ur="__source",hr=X({provide:String,useValue:X});let dr,fr=void 0;function pr(e){const t=fr;return fr=e,t}function gr(e,t=me.Default){if(void 0===fr)throw new Error("inject() must be called from an injection context");return null===fr?be(e,void 0,t):fr.get(e,t&me.Optional?null:void 0,t)}function mr(e,t=me.Default){return(ye||gr)(oe(e),t)}function yr(e){const t=[];for(let n=0;n<e.length;n++){const r=oe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=me.Default;for(let t=0;t<r.length;t++){const i=r[t];i instanceof or||"Optional"===i.ngMetadataName||i===or?n|=me.Optional:i instanceof ar||"SkipSelf"===i.ngMetadataName||i===ar?n|=me.SkipSelf:i instanceof sr||"Self"===i.ngMetadataName||i===sr?n|=me.Self:e=i instanceof ir||i===ir?i.token:i}t.push(mr(e,n))}else t.push(mr(r))}return t}function vr(e){var t;return(null===(t=function(){if(void 0===dr&&(dr=null,Ee.trustedTypes))try{dr=Ee.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return dr}())||void 0===t?void 0:t.createHTML(e))||e}class br{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class _r extends br{getTypeName(){return"HTML"}}class wr extends br{getTypeName(){return"Style"}}class kr extends br{getTypeName(){return"Script"}}class Sr extends br{getTypeName(){return"URL"}}class Cr extends br{getTypeName(){return"ResourceURL"}}function Tr(e){return e instanceof br?e.changingThisBreaksApplicationSecurity:e}function Or(e,t){const n=Er(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Er(e){return e instanceof br&&e.getTypeName()||null}class Pr{getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(vr(e),"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}}class xr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=vr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=vr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Rr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ir(e){return(e=String(e)).match(Rr)||e.match(jr)?e:"unsafe:"+e}function Ar(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Lr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Dr=Ar("area,br,col,hr,img,wbr"),Mr=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nr=Ar("rp,rt"),Fr=Lr(Nr,Mr),Vr=Lr(Dr,Lr(Mr,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lr(Nr,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fr),Ur=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Br=Ar("srcset"),Hr=Lr(Ur,Br,Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qr=Ar("script,style,template");class zr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Vr.hasOwnProperty(t))return this.sanitizedSomething=!0,!qr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,o=t.toLowerCase();if(!Hr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=e.value;Ur[o]&&(s=Ir(s)),Br[o]&&(r=s,s=(r=String(r)).split(",").map(e=>Ir(e.trim())).join(", ")),this.buf.push(" ",t,'="',Gr(s),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Vr.hasOwnProperty(t)&&!Dr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Gr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Wr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$r=/([^\#-~ |!])/g;function Gr(e){return e.replace(/&/g,"&amp;").replace(Wr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($r,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qr;function Kr(e,t){let n=null;try{Qr=Qr||function(e){return function(){try{return!!(new window.DOMParser).parseFromString(vr(""),"text/html")}catch(e){return!1}}()?new Pr:new xr(e)}(e);let r=t?String(t):"";n=Qr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Qr.getInertBodyElement(r)}while(r!==o);return(new zr).sanitizeChildren(Jr(n)||n)}finally{if(n){const e=Jr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Jr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Yr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Zr(e){const t=ei();return t?t.sanitize(Yr.HTML,e)||"":Or(e,"HTML")?Tr(e):Kr(pt(),it(e))}function Xr(e){const t=ei();return t?t.sanitize(Yr.URL,e)||"":Or(e,"URL")?Tr(e):Ir(it(e))}function ei(){const e=jt();return e&&e[12]}function ti(e){return e.ngDebugContext}function ni(e){return e.ngOriginalError}function ri(e,...t){e.error(...t)}class ii{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||ri}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?ti(e)?ti(e):this._findContext(ni(e)):null}_findOriginalError(e){let t=ni(e);for(;t&&ni(t);)t=ni(t);return t}}function oi(e,t){e.__ngContext__=t}const si=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ee))();function ai(e){return{name:"document",target:e.ownerDocument}}function ci(e){return e instanceof Function?e():e}var li=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function ui(e,t){return(void 0)(e,t)}function hi(e){const t=e[3];return Ye(t)?t[3]:t}function di(e){return pi(e[13])}function fi(e){return pi(e[4])}function pi(e){for(;null!==e&&!Ye(e);)e=e[4];return e}function gi(e,t,n,r,i){if(null!=r){let o,s=!1;Ye(r)?o=r:Je(r)&&(s=!0,r=r[0]);const a=yt(r);0===e&&null!==n?null==i?ki(t,n,a):wi(t,n,a,i||null,!0):1===e&&null!==n?wi(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Ci(e,t);r&&function(e,t,n,r){gt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){const o=n[7];o!==yt(n)&&gi(t,e,r,o,i);for(let s=Ke;s<n.length;s++){const i=n[s];xi(i[1],i,e,t,r,o)}}(t,e,o,n,i)}}function mi(e,t,n){return gt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function yi(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Pt(i,-1)),n.splice(r,1)}function vi(e,t){if(e.length<=Ke)return;const n=Ke+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&yi(o,r),t>0&&(e[n-1][4]=r[4]);const s=er(e,Ke+t);xi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function bi(e,t){if(!(256&t[2])){const n=t[11];gt(n)&&n.destroyNode&&xi(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return _i(e[1],e);for(;t;){let n=null;if(Je(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Je(t)&&_i(t[1],t),t=t[3];null===t&&(t=e),Je(t)&&_i(t[1],t),n=t&&t[4]}t=n}}(t)}}function _i(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof gn)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n){for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const o=n[e+1],s="function"==typeof o?o(t):yt(t[o]),a=r[i=n[e+2]],c=n[e+3];"boolean"==typeof c?s.removeEventListener(n[e],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),e+=2}else{const t=r[i=n[e+1]];n[e].call(t)}if(null!==r)for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&gt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Ye(t[3])){n!==t[3]&&yi(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function wi(e,t,n,r,i){gt(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function ki(e,t,n){gt(e)?e.appendChild(t,n):t.appendChild(n)}function Si(e,t,n,r,i){null!==r?wi(e,t,n,r,i):ki(e,t,n)}function Ci(e,t){return gt(e)?e.parentNode(t):t.parentNode}function Ti(e,t,n,r){const i=function(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===ke.None||t===ke.Emulated)return null}return bt(r,n)}(e,t.parent,n)}(e,r,t),o=t[11],s=function(e,t,n){return function(e,t,n){return 40&e.type?bt(e,n):null}(e,0,n)}(r.parent||t[6],0,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Si(o,i,n[a],s,!1);else Si(o,i,n,s,!1)}function Oi(e,t){if(null!==t){const n=t.type;if(3&n)return bt(t,e);if(4&n)return Ei(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Oi(e,n);{const n=e[t.index];return Ye(n)?Ei(-1,n):yt(n)}}if(32&n)return ui(t,e)()||yt(e[t.index]);{const n=e[16],r=n[6],i=hi(n),o=r.projection[t.projection];return null!=o?Oi(i,o):Oi(e,t.next)}}return null}function Ei(e,t){const n=Ke+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Oi(e,r)}return t[7]}function Pi(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&oi(yt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Pi(e,t,n.child,r,i,o,!1),gi(t,e,i,a,o);else if(32&c){const s=ui(n,r);let c;for(;c=s();)gi(t,e,i,c,o);gi(t,e,i,a,o)}else 16&c?Ri(e,t,r,n,i,o):gi(t,e,i,a,o);n=s?n.projectionNext:n.next}}function xi(e,t,n,r,i,o){Pi(n,r,e.firstChild,t,i,o,!1)}function Ri(e,t,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)gi(t,e,i,a[c],o);else Pi(e,t,a,s[3],i,o,!0)}function ji(e,t,n){gt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ii(e,t,n){gt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Ai(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Li="ng-template";function Di(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Ai(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Mi(e){return 4===e.type&&e.value!==Li}function Ni(e,t,n){return t===(4!==e.type||n?e.value:Li)}function Fi(e,t,n){let r=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(yn(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Ni(e,c,n)||""===c&&1===t.length){if(Vi(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!Di(e.attrs,l,n)){if(Vi(r))return!1;s=!0}continue}const u=Ui(8&r?"class":c,i,Mi(e),n);if(-1===u){if(Vi(r))return!1;s=!0;continue}if(""!==l){let e;e=u>o?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Ai(t,l,0)||2&r&&l!==e){if(Vi(r))return!1;s=!0}}}}else{if(!s&&!Vi(r)&&!Vi(c))return!1;if(s&&Vi(c))continue;s=!1,r=c|1&r}}return Vi(r)||s}function Vi(e){return 0==(1&e)}function Ui(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Bi(e,t,n=!1){for(let r=0;r<t.length;r++)if(Fi(e,t[r],n))return!0;return!1}function Hi(e,t){return e?":not("+t.trim()+")":t}function qi(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const t=e[++n];i+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Vi(s)||(t+=Hi(o,i),i=""),r=s,o=o||!Vi(r);n++}return""!==i&&(t+=Hi(o,i)),t}const zi={};function Wi(e){$i(It(),jt(),on()+e,Vt())}function $i(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&ln(t,r,n)}else{const r=e.preOrderHooks;null!==r&&un(t,r,0,n)}sn(n)}function Gi(e,t){return e<<17|t<<2}function Qi(e){return e>>17&32767}function Ki(e){return 2|e}function Ji(e){return(131068&e)>>2}function Yi(e,t){return-131069&e|t<<2}function Zi(e){return 1|e}function Xi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=e.data[o];Kt(i),n.contentQueries(2,t[o],o)}}}function eo(e,t,n,r,i,o,s,a,c,l){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,Et(u),u[3]=u[15]=e,u[8]=n,u[10]=s||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=o,u[16]=2==t.type?e[16]:u,u}function to(e,t,n,r,i){let o=e.data[t];if(null===o)o=function(e,t,n,r,i){const o=Dt(),s=Nt(),a=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(e,t,n,r,i),xt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const e=function(){const e=xt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===e?-1:e.injectorIndex}return Mt(o,!0),o}function no(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ro(e,t,n){Zt(t);try{const r=e.viewQuery;null!==r&&Lo(1,r,n);const i=e.template;null!==i&&so(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Xi(e,t),e.staticViewQueries&&Lo(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)xo(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,rn()}}function io(e,t,n,r){const i=t[2];if(256==(256&i))return;Zt(t);const o=Vt();try{Et(t),xt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&so(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const n=e.preOrderCheckHooks;null!==n&&ln(t,n,null)}else{const n=e.preOrderHooks;null!==n&&un(t,n,0,null),hn(t,0)}if(function(e){for(let t=di(e);null!==t;t=fi(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Pt(r,1),n[2]|=1024}}}(t),function(e){for(let t=di(e);null!==t;t=fi(t))for(let e=Ke;e<t.length;e++){const n=t[e],r=n[1];Tt(n)&&io(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Xi(e,t),!o)if(s){const n=e.contentCheckHooks;null!==n&&ln(t,n)}else{const n=e.contentHooks;null!==n&&un(t,n,1),hn(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)sn(~r);else{const i=r,o=n[++e],s=n[++e];Wt(o,i),s(2,t[i])}}}finally{sn(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Eo(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&Lo(2,c,r),!o)if(s){const n=e.viewCheckHooks;null!==n&&ln(t,n)}else{const n=e.viewHooks;null!==n&&un(t,n,2),hn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Pt(t[3],-1))}finally{rn()}}function oo(e,t,n,r){const i=t[10],o=!Vt(),s=Ct(t);try{o&&!s&&i.begin&&i.begin(),s&&ro(e,t,r),io(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function so(e,t,n,r,i){const o=on();try{sn(-1),2&r&&t.length>Qe&&$i(e,t,Qe,Vt()),n(r,i)}finally{sn(o)}}function ao(e,t,n){if(Ze(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function co(e,t,n){Rt()&&(function(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||En(n,t),oi(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const r=e.data[a],o=tt(r);o&&So(t,n,r);const c=Vn(t,e,a,n);oi(c,t),null!==s&&Co(0,a-i,c,r,0,s),o&&(kt(n.index,t)[8]=c)}}(e,t,n,bt(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=xt.lFrame.currentDirectiveIndex;try{sn(o);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];$t(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||vo(r,i)}}finally{sn(-1),$t(s)}}(e,t,n))}function lo(e,t,n=bt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function uo(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ho(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ho(e,t,n,r,i,o,s,a,c,l){const u=Qe+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:zi);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function fo(e,t,n,r){const i=Mo(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&No(e).push(r,i.length-1))}function po(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function go(e,t,n,r,i,o,s,a){const c=bt(t,n);let l,u=t.inputs;var h;!a&&null!=u&&(l=u[r])?(Vo(e,n,l,r,i),Xe(t)&&function(e,t){const n=kt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,t.value||"",r):i,gt(o)?o.setProperty(c,r,i):vn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function mo(e,t,n,r){let i=!1;if(Rt()){const o=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Bi(n,s.selectors,!1)&&(i||(i=[]),jn(En(n,t),e,s.type),tt(s)?(bo(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,wo(n,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=no(e,t,o.length,null);for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=bn(n.mergedAttrs,l.hostAttrs),ko(e,n,t,c,l),_o(c,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,o=[];let s=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,l=null===i||Mi(t)?null:To(n,i);o.push(l),s=po(n,c,s),a=po(e.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new rt("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,s)}return n.mergedAttrs=bn(n.mergedAttrs,n.attrs),i}function yo(e,t,n,r,i,o){const s=o.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const o=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function vo(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function bo(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function _o(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;tt(t)&&(n[""]=e)}}function wo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ko(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=nt(i.type)),s=new gn(o,tt(i),null);e.blueprint[r]=s,n[r]=s,yo(e,t,0,r,no(e,n,i.hostVars,zi),i)}function So(e,t,n){const r=bt(t,e),i=uo(n),o=e[10],s=Ro(e,eo(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function Co(e,t,n,r,i,o){const s=o[t];if(null!==s){const e=r.setInput;for(let t=0;t<s.length;){const i=s[t++],o=s[t++],a=s[t++];null!==e?r.setInput(n,a,i,o):n[o]=a}}}function To(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Oo(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Eo(e,t){const n=kt(t,e);if(Tt(n)){const e=n[1];80&n[2]?io(e,n,e.template,n[8]):n[5]>0&&Po(n)}}function Po(e){for(let n=di(e);null!==n;n=fi(n))for(let e=Ke;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];io(e,t,e.template,t[8])}else t[5]>0&&Po(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=kt(t[n],e);Tt(r)&&r[5]>0&&Po(r)}}function xo(e,t){const n=kt(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),ro(r,n,n[8])}function Ro(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function jo(e){for(;e;){e[2]|=64;const t=hi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Io(e,t,n){const r=t[10];r.begin&&r.begin();try{io(e,t,e.template,n)}catch(i){throw Fo(t,i),i}finally{r.end&&r.end()}}function Ao(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=St(n),i=r[1];oo(i,r,i.template,n)}}(e[8])}function Lo(e,t,n){Kt(0),t(e,n)}const Do=(()=>Promise.resolve(null))();function Mo(e){return e[7]||(e[7]=[])}function No(e){return e.cleanup||(e.cleanup=[])}function Fo(e,t){const n=e[9],r=n?n.get(ii,null):null;r&&r.handleError(t)}function Vo(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=t[s],l=e.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function Uo(e,t,n){const r=vt(t,e);!function(e,t,n){gt(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function Bo(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?o=e:1==o?i=ne(i,e):2==o&&(r=ne(r,e+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const Ho=new Qn("INJECTOR",-1);class qo{get(e,t=cr){if(t===cr){const t=new Error(`NullInjectorError: No provider for ${te(e)}!`);throw t.name="NullInjectorError",t}return t}}const zo=new Qn("Set Injector scope."),Wo={},$o={},Go=[];let Qo=void 0;function Ko(){return void 0===Qo&&(Qo=new qo),Qo}function Jo(e,t=null,n=null,r){return new Yo(e,n,t||Ko(),r)}class Yo{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&Zn(t,n=>this.processProvider(n,e,t)),Zn([e],e=>this.processInjectorType(e,[],i)),this.records.set(Ho,es(void 0,this));const o=this.records.get(zo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:te(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=cr,n=me.Default){this.assertNotDestroyed();const r=pr(this);try{if(!(n&me.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Qn)&&le(e);t=n&&this.injectableDefInScope(n)?es(Zo(e),Wo):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&me.Self?Ko():this.parent).get(e,t=n&me.Optional&&t===cr?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(te(e)),r)throw o;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[ur]&&i.unshift(t[ur]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=te(t);if(Array.isArray(t))i=t.map(te).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):te(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(lr,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{pr(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(te(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=oe(e)))return!1;let r=he(e);const i=null==r&&e.ngModule||void 0,o=void 0===i?e:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=he(i)),null==r)return!1;if(null!=r.imports&&!s){let e;n.push(o);try{Zn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Zn(r,e=>this.processProvider(e,n,r||Go))}}this.injectorDefTypes.add(o),this.records.set(o,es(r.factory,Wo));const a=r.providers;if(null!=a&&!s){const t=e;Zn(a,e=>this.processProvider(e,t,a))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=ns(e=oe(e))?e:oe(e&&e.provide);const i=function(e,t,n){return ts(e)?es(void 0,e.useValue):es(Xo(e),Wo)}(e);if(ns(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=es(void 0,Wo,!0),t.factory=()=>yr(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===Wo&&(t.value=$o,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function Zo(e){const t=le(e),n=null!==t?t.factory:nt(e);if(null!==n)return n;const r=he(e);if(null!==r)return r.factory;if(e instanceof Qn)throw new Error(`Token ${te(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=function(e,t){const n=[];for(let r=0;r<e;r++)n.push("?");return n}(t);throw new Error(`Can't resolve all parameters for ${te(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[de]||e[pe]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Xo(e,t,n){let r=void 0;if(ns(e)){const t=oe(e);return nt(t)||Zo(t)}if(ts(e))r=()=>oe(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...yr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>mr(oe(e.useExisting));else{const t=oe(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return nt(t)||Zo(t);r=()=>new t(...yr(e.deps))}var i;return r}function es(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ts(e){return null!==e&&"object"==typeof e&&hr in e}function ns(e){return"function"==typeof e}const rs=function(e,t,n){return function(e,t=null,n=null,r){const i=Jo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let is=(()=>{class e{static create(e,t){return Array.isArray(e)?rs(e,t,""):rs(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=cr,e.NULL=new qo,e.\u0275prov=ae({token:e,providedIn:"any",factory:()=>mr(Ho)}),e.__NG_ELEMENT_ID__=-1,e})();function os(e,t){cn(St(e)[1],Lt())}function ss(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let i=void 0;if(tt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=as(e.inputs),t.declaredInputs=as(e.declaredInputs),t.outputs=as(e.outputs);const n=i.hostBindings;n&&us(e,n);const o=i.viewQuery,s=i.contentQueries;if(o&&cs(e,o),s&&ls(e,s),ee(e.inputs,i.inputs),ee(e.declaredInputs,i.declaredInputs),ee(e.outputs,i.outputs),tt(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===ss&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=bn(i.hostAttrs,n=bn(n,i.hostAttrs))}}(r)}function as(e){return e===Pe?{}:e===xe?[]:e}function cs(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function ls(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function us(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}let hs=null;function ds(){if(!hs){const e=Ee.Symbol;if(e&&e.iterator)hs=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(hs=n)}}}return hs}class fs{constructor(e){this.wrapped=e}static wrap(e){return new fs(e)}static unwrap(e){return fs.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof fs}}function ps(e){return!!gs(e)&&(Array.isArray(e)||!(e instanceof Map)&&ds()in e)}function gs(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ms(e,t,n){return e[t]=n}function ys(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function vs(e,t,n,r){const i=ys(e,t,n);return ys(e,t+1,r)||i}function bs(e,t,n,r){const i=jt();return ys(i,qt(),t)&&(It(),function(e,t,n,r,i,o){const s=bt(e,t);!function(e,t,n,r,i,o,s){if(null==o)gt(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==s?it(o):s(o,r||"",i);gt(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],s,o,e.value,n,r,i)}(an(),i,e,t,n,r)),bs}function _s(e,t,n,r){return ys(e,qt(),n)?t+it(n)+r:zi}function ws(e,t,n,r,i,o,s,a){const c=jt(),l=It(),u=e+Qe,h=l.firstCreatePass?function(e,t,n,r,i,o,s,a,c){const l=t.consts,u=to(t,e,4,s||null,Ot(l,a));mo(t,n,u,Ot(l,c)),cn(t,u);const h=u.tViews=ho(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,o,s):l.data[u];Mt(h,!1);const d=c[11].createComment("");Ti(l,c,d,h),oi(d,c),Ro(c,c[u]=Oo(d,c,d,h)),et(h)&&co(l,c,h),null!=s&&lo(c,h,a)}function ks(e){return wt(xt.lFrame.contextLView,Qe+e)}function Ss(e,t=me.Default){const n=jt();return null===n?mr(e,t):Ln(Lt(),n,oe(e),t)}function Cs(e,t,n){const r=jt();return ys(r,qt(),t)&&go(It(),an(),r,e,t,r[11],n,!1),Cs}function Ts(e,t,n,r,i){const o=i?"class":"style";Vo(e,n,t.inputs[o],o,r)}function Os(e,t,n,r){const i=jt(),o=It(),s=Qe+e,a=i[11],c=i[s]=mi(a,t,xt.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,r,i,o,s){const a=t.consts,c=to(t,e,2,i,Ot(a,o));return mo(t,n,c,Ot(a,s)),null!==c.attrs&&Bo(c,c.attrs,!1),null!==c.mergedAttrs&&Bo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,0,t,n,r):o.data[s];Mt(l,!0);const u=l.mergedAttrs;null!==u&&mn(a,c,u);const h=l.classes;null!==h&&Ii(a,c,h);const d=l.styles;null!==d&&ji(a,c,d),64!=(64&l.flags)&&Ti(o,i,c,l),0===xt.lFrame.elementDepthCount&&oi(c,i),xt.lFrame.elementDepthCount++,et(l)&&(co(o,i,l),ao(o,l,i)),null!==r&&lo(i,l)}function Es(){let e=Lt();Nt()?Ft():(e=e.parent,Mt(e,!1));const t=e;xt.lFrame.elementDepthCount--;const n=It();n.firstCreatePass&&(cn(n,e),Ze(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ts(n,t,jt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ts(n,t,jt(),t.stylesWithoutHost,!1)}function Ps(e,t,n,r){Os(e,t,n,r),Es()}function xs(e,t,n){const r=jt(),i=It(),o=e+Qe,s=i.firstCreatePass?function(e,t,n,r,i){const o=t.consts,s=Ot(o,r),a=to(t,e,8,"ng-container",s);return null!==s&&Bo(a,s,!0),mo(t,n,a,Ot(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];Mt(s,!0);const a=r[o]=r[11].createComment("");Ti(i,r,a,s),oi(a,r),et(s)&&(co(i,r,s),ao(i,s,r)),null!=n&&lo(r,s)}function Rs(){let e=Lt();const t=It();Nt()?Ft():(e=e.parent,Mt(e,!1)),t.firstCreatePass&&(cn(t,e),Ze(e)&&t.queries.elementEnd(e))}function js(e,t,n){xs(e,t,n),Rs()}function Is(){return jt()}function As(e){return!!e&&"function"==typeof e.then}function Ls(e){return!!e&&"function"==typeof e.subscribe}function Ds(e,t,n=!1,r){const i=jt(),o=It(),s=Lt();return function(e,t,n,r,i,o,s=!1,a){const c=et(r),l=e.firstCreatePass&&No(e),u=Mo(t);let h=!0;if(3&r.type){const d=bt(r,t),f=a?a(d):Pe,p=f.target||d,g=u.length,m=a?e=>a(yt(e[r.index])).target:r.index;if(gt(n)){let s=null;if(!a&&c&&(s=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const e=i[o];if(e===n&&i[o+1]===r){const e=t[7],n=i[o+2];return e.length>n?e[n]:null}"string"==typeof e&&(o+=2)}return null}(e,t,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ns(r,t,o,!1);const e=n.listen(f.name||p,i,o);u.push(o,e),l&&l.push(i,m,g,g+1)}}else o=Ns(r,t,o,!0),p.addEventListener(i,o,s),u.push(o),l&&l.push(i,m,g,s)}else o=Ns(r,t,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(o),s=u.length;u.push(o,e),l&&l.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,e,t,n,r),Ds}function Ms(e,t,n){try{return!1!==t(n)}catch(r){return Fo(e,r),!1}}function Ns(e,t,n,r){return function i(o){if(o===Function)return n;const s=2&e.flags?kt(e.index,t):t;0==(32&t[2])&&jo(s);let a=Ms(t,n,o),c=i.__ngNextListenerFn__;for(;c;)a=Ms(t,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Fs(e=1){return function(e){return(xt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,xt.lFrame.contextLView))[8]}(e)}function Vs(e,t,n){return Us(e,"",t,"",n),Vs}function Us(e,t,n,r,i){const o=jt(),s=_s(o,t,n,r);return s!==zi&&go(It(),an(),o,e,s,o[11],i,!1),Us}const Bs=[];function Hs(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?Qi(o):Ji(o),c=!1;for(;0!==a&&(!1===c||s);){const n=e[a+1];qs(e[a],t)&&(c=!0,e[a+1]=r?Zi(n):Ki(n)),a=r?Qi(n):Ji(n)}c&&(e[n+1]=r?Ki(o):Zi(o))}function qs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&rr(e,t)>=0}const zs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ws(e){return e.substring(zs.key,zs.keyEnd)}function $s(e,t){const n=zs.textEnd;return n===t?-1:(t=zs.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,zs.key=t,n),Gs(e,t,n))}function Gs(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Qs(e,t,n){return Zs(e,t,n,!1),Qs}function Ks(e,t){return Zs(e,t,null,!0),Ks}function Js(e){Xs(tr,Ys,e,!0)}function Ys(e,t){for(let n=function(e){return function(e){zs.key=0,zs.keyEnd=0,zs.value=0,zs.valueEnd=0,zs.textEnd=e.length}(e),$s(e,Gs(e,0,zs.textEnd))}(t);n>=0;n=$s(t,n))tr(e,Ws(t),!0)}function Zs(e,t,n,r){const i=jt(),o=It(),s=zt(2);o.firstUpdatePass&&ta(o,e,s,r),t!==zi&&ys(i,s,t)&&ia(o,o.data[on()],i,i[11],e,i[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=te(Tr(e)))),e}(t,n),r,s)}function Xs(e,t,n,r){const i=It(),o=zt(2);i.firstUpdatePass&&ta(i,null,o,r);const s=jt();if(n!==zi&&ys(s,o,n)){const a=i.data[on()];if(aa(a,r)&&!ea(i,o)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=ne(e,n||"")),Ts(i,a,s,n,r)}else!function(e,t,n,r,i,o,s,a){i===zi&&(i=Bs);let c=0,l=0,u=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const d=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let p=null,g=void 0;u===h?(c+=2,l+=2,d!==f&&(p=h,g=f)):null===h||null!==u&&u<h?(c+=2,p=u):(l+=2,p=h,g=f),null!==p&&ia(e,t,n,r,p,g,s,a),u=c<i.length?i[c]:null,h=l<o.length?o[l]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return Bs;const r=[],i=Tr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function ea(e,t){return t>=e.expandoStartIndex}function ta(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[on()],s=ea(e,n);aa(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const i=Gt(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=ra(n=na(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=na(i,e,t,n,r),null===o){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ji(r))return e[Qi(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=na(null,e,t,n[1],r),n=ra(n,t.attrs,r),function(e,t,n,r){e[Qi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else o=function(e,t,n){let r=void 0;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=ra(r,e[o].hostAttrs,n);return ra(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Qi(s),c=Ji(s);e[r]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||rr(e,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const t=Qi(e[a+1]);e[r+1]=Gi(t,a),0!==t&&(e[t+1]=Yi(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=Gi(a,0),0!==a&&(e[a+1]=Yi(e[a+1],r)),a=r;else e[r+1]=Gi(c,0),0===a?a=r:e[c+1]=Yi(e[c+1],r),c=r;u&&(e[r+1]=Ki(e[r+1])),Hs(e,l,r,!0),Hs(e,l,r,!1),function(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&rr(o,t)>=0&&(n[r+1]=Zi(n[r+1]))}(t,l,e,r,o),s=Gi(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function na(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=ra(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function ra(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),tr(e,s,!!n||t[++o]))}return void 0===e?null:e}function ia(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];sa(1==(1&l)?oa(c,t,n,i,Ji(l),s):void 0)||(sa(o)||2==(2&l)&&(o=oa(c,null,n,i,a,s)),function(e,t,n,r,i){const o=gt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:li.DashCase;if(null==i)o?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),t|=li.Important),o?e.setStyle(n,r,i,t):n.style.setProperty(r,i,s?"important":"")}}}(r,s,vt(on(),n),i,o))}function oa(e,t,n,r,i,o){const s=null===t;let a=void 0;for(;i>0;){const t=e[i],o=Array.isArray(t),c=o?t[1]:t,l=null===c;let u=n[i+1];u===zi&&(u=l?Bs:void 0);let h=l?nr(u,r):c===r?u:void 0;if(o&&!sa(h)&&(h=nr(t,r)),sa(h)&&(a=h,s))return a;const d=e[i+1];i=s?Qi(d):Ji(d)}if(null!==t){let e=o?t.residualClasses:t.residualStyles;null!=e&&(a=nr(e,r))}return a}function sa(e){return void 0!==e}function aa(e,t){return 0!=(e.flags&(t?16:32))}function ca(e,t=""){const n=jt(),r=It(),i=e+Qe,o=r.firstCreatePass?to(r,i,1,t,null):r.data[i],s=n[i]=function(e,t){return gt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Ti(r,n,s,o),Mt(o,!1)}function la(e){return ua("",e,""),la}function ua(e,t,n){const r=jt(),i=_s(r,e,t,n);return i!==zi&&Uo(r,on(),i),ua}function ha(e,t,n,r,i){const o=jt(),s=function(e,t,n,r,i,o){const s=vs(e,Ht(),n,i);return zt(2),s?t+it(n)+r+it(i)+o:zi}(o,e,t,n,r,i);return s!==zi&&Uo(o,on(),s),ha}function da(e,t,n){Xs(tr,Ys,_s(jt(),e,t,n),!0)}function fa(e,t,n){const r=jt();return ys(r,qt(),t)&&go(It(),an(),r,e,t,r[11],n,!0),fa}function pa(e,t,n){const r=jt();if(ys(r,qt(),t)){const i=It(),o=an();go(i,o,r,e,t,function(e,t,n){return(null===e||tt(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(Gt(i.data),o,r),n,!0)}return pa}const ga=void 0;var ma=["en",[["a","p"],["AM","PM"],ga],[["AM","PM"],ga,ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ga,"{1} 'at' {0}",ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let ya={};function va(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ba(t);if(n)return n;const r=t.split("-")[0];if(n=ba(r),n)return n;if("en"===r)return ma;throw new Error(`Missing locale data for the locale "${e}".`)}function ba(e){return e in ya||(ya[e]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[e]),ya[e]}var _a=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const wa="en-US";let ka=wa;function Sa(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(ka=e.toLowerCase().replace(/_/g,"-"))}function Ca(e,t,n,r,i){if(e=oe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Ca(e[o],t,n,r,i);else{const o=It(),s=jt();let a=ns(e)?e:oe(e.provide),c=Xo(e);const l=Lt(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(ns(e)||!e.multi){const r=new gn(c,i,Ss),f=Ea(a,t,i?u:u+d,h);-1===f?(jn(En(l,s),o,a),Ta(o,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Ea(a,t,u+d,h),p=Ea(a,t,u,u+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){jn(En(l,s),o,a);const u=function(e,t,n,r,i){const o=new gn(e,n,Ss);return o.multi=[],o.index=t,o.componentProviders=0,Oa(o,i,r&&!n),o}(i?xa:Pa,n.length,i,r,c);!i&&m&&(n[p].providerFactory=u),Ta(o,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),s.push(u)}else Ta(o,e,f>-1?f:p,Oa(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ta(e,t,n,r){const i=ns(t);if(i||t.useClass){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[r,o]):s[e+1].push(r,o)}else s.push(n,o)}}}function Oa(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ea(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Pa(e,t,n,r){return Ra(this.multi,[])}function xa(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Vn(n,n[1],this.providerFactory.index,r);o=t.slice(0,e),Ra(i,o);for(let n=e;n<t.length;n++)o.push(t[n])}else o=[],Ra(i,o);return o}function Ra(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ja(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=It();if(r.firstCreatePass){const i=tt(e);Ca(n,r.data,r.blueprint,i,!0),Ca(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Ia{}class Aa{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${te(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let La=(()=>{class e{}return e.NULL=new Aa,e})();function Da(...e){}function Ma(e,t){return new Fa(bt(e,t))}const Na=function(){return Ma(Lt(),jt())};let Fa=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Na,e})();class Va{}let Ua=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ba(),e})();const Ba=function(){const e=jt(),t=kt(Lt().index,e);return function(e){return e[11]}(Je(t)?t:e)};let Ha=(()=>{class e{}return e.\u0275prov=ae({token:e,providedIn:"root",factory:()=>null}),e})();class qa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const za=new qa("11.0.5");class Wa{constructor(){}supports(e){return ps(e)}create(e){return new Ga(e)}}const $a=(e,t)=>t;class Ga{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$a}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<Ya(n,r,i)?t:n,s=Ya(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ps(e))throw new Error(`Error trying to diff '${te(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[ds()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Qa(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ja),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ja),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Qa{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ka{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ja{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Ka,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ya(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Za{constructor(){}supports(e){return e instanceof Map||gs(e)}create(){return new Xa}}class Xa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||gs(e)))throw new Error(`Error trying to diff '${te(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ec(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ec{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let tc=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ar,new or]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=ae({token:e,providedIn:"root",factory:()=>new e([new Wa])}),e})(),nc=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ar,new or]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ae({token:e,providedIn:"root",factory:()=>new e([new Za])}),e})();function rc(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(yt(o)),Ye(o))for(let e=Ke;e<o.length;e++){const t=o[e],n=t[1].firstChild;null!==n&&rc(t[1],t,n,r)}const s=n.type;if(8&s)rc(e,t,n.child,r);else if(32&s){const e=ui(n,t);let i;for(;i=e();)r.push(i)}else if(16&s){const e=t[16],i=e[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const t=hi(e);rc(t[1],t,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ic{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView,t=e[1];return rc(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}bi(this._lView[1],this._lView)}onDestroy(e){fo(this._lView[1],this._lView,null,e)}markForCheck(){jo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Io(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ut(!0);try{Io(e,t,n)}finally{Ut(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,xi(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class oc extends ic{constructor(e){super(e),this._view=e}detectChanges(){Ao(this._view)}checkNoChanges(){!function(e){Ut(!0);try{Ao(e)}finally{Ut(!1)}}(this._view)}get context(){return null}}const sc=function(e=!1){return function(e,t,n){if(!n&&Xe(e)){const n=kt(e.index,t);return new ic(n,n)}return 47&e.type?new ic(t[16],t):null}(Lt(),jt(),e)};let ac=(()=>{class e{}return e.__NG_ELEMENT_ID__=sc,e.__ChangeDetectorRef__=!0,e})();const cc=[new Za],lc=new tc([new Wa]),uc=new nc(cc),hc=function(){return gc(Lt(),jt())};let dc=(()=>{class e{}return e.__NG_ELEMENT_ID__=hc,e})();const fc=dc,pc=class extends fc{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=eo(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),ro(t,n,e),new ic(n)}};function gc(e,t){return 4&e.type?new pc(t,e,Ma(e,t)):null}class mc{}class yc{}const vc=function(){return Cc(Lt(),jt())};let bc=(()=>{class e{}return e.__NG_ELEMENT_ID__=vc,e})();const _c=bc,wc=class extends _c{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Ma(this._hostTNode,this._hostLView)}get injector(){return new Hn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Rn(this._hostTNode,this._hostLView);if(wn(e)){const t=Sn(e,this._hostLView),n=kn(e);return new Hn(t[1].data[n+8],t)}return new Hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=kc(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ke}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){const e=o.get(mc,null);e&&(i=e)}const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,r=n[1];if(Ye(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new wc(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),o=this._lContainer;!function(e,t,n,r){const i=Ke+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-Ke?(t[4]=n[i],Xn(n,Ke+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,o,i);const s=Ei(i,o),a=n[11],c=Ci(a,o[7]);return null!==c&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,xi(e,r,n,1,i,o)}(r,o[6],a,n,c,s),e.attachToViewContainerRef(this),Xn(Sc(o),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=kc(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=vi(this._lContainer,t);n&&(er(Sc(this._lContainer),t),bi(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=vi(this._lContainer,t);return n&&null!=er(Sc(this._lContainer),t)?new ic(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function kc(e){return e[8]}function Sc(e){return e[8]||(e[8]=[])}function Cc(e,t){let n;const r=t[e.index];if(Ye(r))n=r;else{let i;if(8&e.type)i=yt(r);else{const n=t[11];i=n.createComment("");const r=bt(e,t);wi(n,Ci(n,r),i,function(e,t){return gt(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Oo(r,t,i,e),Ro(t,n)}return new wc(n,e,t)}const Tc={};class Oc extends La{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=$e(e);return new xc(t,this.ngModule)}}function Ec(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Pc=new Qn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>si});class xc extends Ia{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(qi).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Ec(this.componentDef.inputs)}get outputs(){return Ec(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const o=e.get(n,Tc,i);return o!==Tc||r===Tc?o:t.get(n,r,i)}}}(e,r.injector):e,o=i.get(Va,mt),s=i.get(Ha,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(gt(e))return e.selectRootElement(t,n===ke.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):mi(o.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:si,clean:Do,playerHandler:null,flags:0},d=ho(0,null,null,1,0,null,null,null,null,null),f=eo(null,d,h,u,null,null,o,a,s,i);let p,g;Zt(f);try{const e=function(e,t,n,r,i,o){const s=n[1];n[20]=e;const a=to(s,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(Bo(a,c,!0),null!==e&&(mn(i,e,c),null!==a.classes&&Ii(i,e,a.classes),null!==a.styles&&ji(i,e,a.styles)));const l=r.createRenderer(e,t),u=eo(n,uo(t),null,t.onPush?64:16,n[20],a,r,l,null,null);return s.firstCreatePass&&(jn(En(a,n),s,t.type),bo(s,a),wo(a,n.length,1)),Ro(n,u),n[20]=u}(l,this.componentDef,f,o,a);if(l)if(n)mn(a,l,["ng-version",za.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Vi(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&mn(a,l,e),t&&t.length>0&&Ii(a,l,t.join(" "))}if(g=_t(d,Qe),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const o=n[1],s=function(e,t,n){const r=Lt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ko(e,r,t,no(e,t,1,null),n));const i=Vn(t,e,r.directiveStart,r);oi(i,t);const o=bt(r,t);return o&&oi(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(e=>e(s,t)),t.contentQueries){const e=Lt();t.contentQueries(1,s,e.directiveStart)}const a=Lt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(sn(a.index),yo(n[1],a,0,a.directiveStart,a.directiveEnd,t),vo(t,s)),s}(e,this.componentDef,f,h,[os]),ro(d,f,null)}finally{rn()}return new Rc(this.componentType,p,Ma(g,f),f,g)}}class Rc extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new oc(r),this.componentType=e}get injector(){return new Hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const jc=new Map;class Ic extends mc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Oc(this);const n=Ge(e),r=e[Le]||null;r&&Sa(r),this._bootstrapComponents=ci(n.bootstrap),this._r3Injector=Jo(e,t,[{provide:mc,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],te(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=is.THROW_IF_NOT_FOUND,n=me.Default){return e===is||e===mc||e===Ho?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ac extends yc{constructor(e){super(),this.moduleType=e,null!==Ge(e)&&function(e){const t=new Set;!function e(n){const r=Ge(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${te(t)} vs ${te(t.name)}`)}(i,jc.get(i),n),jc.set(i,n));const o=ci(r.imports);for(const s of o)t.has(s)||(t.add(s),e(s))}(e)}(e)}create(e){return new Ic(this.moduleType,e)}}function Lc(e,t,n,r){return Nc(jt(),Bt(),e,t,n,r)}function Dc(e,t,n,r,i){return Fc(jt(),Bt(),e,t,n,r,i)}function Mc(e,t){const n=e[t];return n===zi?void 0:n}function Nc(e,t,n,r,i,o){const s=t+n;return ys(e,s,i)?ms(e,s+1,o?r.call(o,i):r(i)):Mc(e,s+1)}function Fc(e,t,n,r,i,o,s){const a=t+n;return vs(e,a,i,o)?ms(e,a+2,s?r.call(s,i,o):r(i,o)):Mc(e,a+2)}function Vc(e,t){const n=It();let r;const i=e+Qe;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new rt("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=nt(r.type)),s=ve(Ss);try{const e=Tn(!1),t=o();return Tn(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,jt(),i,t),t}finally{ve(s)}}function Uc(e,t,n){const r=e+Qe,i=jt(),o=wt(i,r);return qc(i,Hc(i,r)?Nc(i,Bt(),t,o.transform,n,o):o.transform(n))}function Bc(e,t,n,r){const i=e+Qe,o=jt(),s=wt(o,i);return qc(o,Hc(o,i)?Fc(o,Bt(),t,s.transform,n,r,s):s.transform(n,r))}function Hc(e,t){return e[1].data[t].pure}function qc(e,t){return fs.isWrapped(t)&&(t=fs.unwrap(t),e[Ht()]=zi),t}const zc=class extends S{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,i=e=>null,o=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(o=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return e instanceof h&&e.add(s),s}};function Wc(){return this._results[ds()]()}class $c{constructor(){this.dirty=!0,this._results=[],this.changes=new zc,this.length=0;const e=ds(),t=$c.prototype;t[e]||(t[e]=Wc)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=Yn(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Gc{constructor(e){this.queryList=e,this.matches=null}clone(){return new Gc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Qc(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==cl(e,t).matches&&this.queries[t].setDirty()}}class Kc{constructor(e,t,n,r=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=r}}class Jc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Jc(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Yc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Yc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Zc(t,i)),this.matchTNodeWithReadOption(e,t,Fn(t,e,i,!1,!1))}else n===dc?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Fn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Fa||r===bc||r===dc&&4&t.type)this.addMatch(t.index,-2);else{const n=Fn(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Zc(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Xc(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ma(e,t):4&e.type?gc(e,t):null}(t,e):-2===n?function(e,t,n){return n===Fa?Ma(t,e):n===dc?gc(t,e):n===bc?Cc(t,e):void 0}(e,t,r):Vn(e,e[1],n,t)}function el(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,o=n.matches,s=[];for(let e=0;e<o.length;e+=2){const i=o[e];s.push(i<0?null:Xc(t,r[i],o[e+1],n.metadata.read))}i.matches=s}return i.matches}function tl(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=el(e,t,i,n);for(let e=0;e<o.length;e+=2){const n=o[e];if(n>0)r.push(s[e/2]);else{const i=o[e+1],s=t[-n];for(let e=Ke;e<s.length;e++){const t=s[e];t[17]===t[3]&&tl(t[1],t,i,r)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];tl(n[1],n,i,r)}}}}}return r}function nl(e){const t=jt(),n=It(),r=Qt();Kt(r+1);const i=cl(n,r);if(e.dirty&&Ct(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?tl(n,t,r,[]):el(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function rl(e,t,n){!function(e,t,n,r,i,o){e.firstCreatePass&&al(e,new Kc(n,r,false,i),-1),sl(e,t)}(It(),jt(),e,t,n)}function il(e,t,n,r){!function(e,t,n,r,i,o,s,a){e.firstCreatePass&&(al(e,new Kc(n,r,false,i),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a)),sl(e,t)}(It(),jt(),t,n,r,0,Lt(),e)}function ol(){return e=jt(),t=Qt(),e[19].queries[t].queryList;var e,t}function sl(e,t){const n=new $c;fo(e,t,n,n.destroy),null===t[19]&&(t[19]=new Qc),t[19].queries.push(new Gc(n))}function al(e,t,n){null===e.queries&&(e.queries=new Jc),e.queries.track(new Yc(t,n))}function cl(e,t){return e.queries.getByIndex(t)}function ll(e,t){return gc(e,t)}const ul=new Qn("Application Initializer");let hl=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Da,this.reject=Da,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();As(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(mr(ul,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const dl=new Qn("AppId"),fl={provide:dl,useFactory:function(){return`${pl()}${pl()}${pl()}`},deps:[]};function pl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gl=new Qn("Platform Initializer"),ml=new Qn("Platform ID"),yl=new Qn("appBootstrapListener");let vl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const bl=new Qn("LocaleId"),_l=new Qn("DefaultCurrencyCode");class wl{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const kl=function(e){return new Ac(e)},Sl=kl,Cl=function(e){return Promise.resolve(kl(e))},Tl=function(e){const t=kl(e),n=ci(Ge(e).declarations).reduce((e,t)=>{const n=$e(t);return n&&e.push(new xc(n)),e},[]);return new wl(t,n)},Ol=Tl,El=function(e){return Promise.resolve(Tl(e))};let Pl=(()=>{class e{constructor(){this.compileModuleSync=Sl,this.compileModuleAsync=Cl,this.compileModuleAndAllComponentsSync=Ol,this.compileModuleAndAllComponentsAsync=El}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const xl=(()=>Promise.resolve(0))();function Rl(e){"undefined"==typeof Zone?xl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class jl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zc(!1),this.onMicrotaskEmpty=new zc(!1),this.onStable=new zc(!1),this.onError=new zc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=t,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e=Ee.requestAnimationFrame,t=Ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ee,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ll(e),Al(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ll(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,r,i,o,s,a)=>{try{return Dl(e),n.invokeTask(i,o,s,a)}finally{t&&"eventTask"===o.type&&t(),Ml(e)}},onInvoke:(t,n,r,i,o,s,a)=>{try{return Dl(e),t.invoke(r,i,o,s,a)}finally{Ml(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Ll(e),Al(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Il,Da,Da);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Il={};function Al(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ll(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Dl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ml(e){e._nesting--,Al(e)}class Nl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zc,this.onMicrotaskEmpty=new zc,this.onStable=new zc,this.onError=new zc}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Fl=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jl.assertNotInAngularZone(),Rl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rl(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(mr(jl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Vl=(()=>{class e{constructor(){this._applications=new Map,Hl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Hl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class Ul{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Bl,Hl=new Ul,ql=!0,zl=!1;function Wl(){return zl=!0,ql}const $l=new Qn("AllowMultipleToken");class Gl{constructor(e,t){this.name=e,this.token=t}}function Ql(e,t,n=[]){const r="Platform: "+t,i=new Qn(r);return(t=[])=>{let o=Kl();if(!o||o.injector.get($l,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:zo,useValue:"platform"});!function(e){if(Bl&&!Bl.destroyed&&!Bl.injector.get($l,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bl=e.get(Jl);const t=e.get(gl,null);t&&t.forEach(e=>e())}(is.create({providers:e,name:r}))}return function(e){const t=Kl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Kl(){return Bl&&!Bl.destroyed?Bl:null}let Jl=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Nl:("zone.js"===e?void 0:e)||new jl({enableLongStackTrace:Wl(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),r=[{provide:jl,useValue:n}];return n.run(()=>{const t=is.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(ii,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});i.onDestroy(()=>{Xl(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return As(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(hl);return e.runInitializers(),e.donePromise.then(()=>(Sa(i.injector.get(bl,wa)||wa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Yl({},t);return function(e,t,n){const r=new Ac(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Zl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${te(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(mr(is))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function Yl(e,t){return Array.isArray(t)?t.reduce(Yl,e):Object.assign(Object.assign({},e),t)}let Zl=(()=>{class e{constructor(e,t,n,r,i,o){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new v(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new v(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{jl.assertNotInAngularZone(),Rl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{jl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return T(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof v?e[0]:q(t)(z(e,n))}(s,a.pipe(e=>{return W()((t=Z,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,J);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Ia?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(mc),i=n.create(is.NULL,[],t||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Fl,null),a=s&&i.injector.get(Vl);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Xl(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Wl()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Xl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(yl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(mr(jl),mr(vl),mr(is),mr(ii),mr(La),mr(hl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function Xl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class eu{}class tu{}const nu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ru=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||nu}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>iu(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>iu(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(mr(Pl),mr(tu,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function iu(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const ou=Ql(null,"core",[{provide:ml,useValue:"unknown"},{provide:Jl,deps:[is]},{provide:Vl,deps:[]},{provide:vl,deps:[]}]),su=[{provide:Zl,useClass:Zl,deps:[jl,vl,is,ii,La,hl]},{provide:Pc,deps:[jl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:hl,useClass:hl,deps:[[new or,ul]]},{provide:Pl,useClass:Pl,deps:[]},fl,{provide:tc,useFactory:function(){return lc},deps:[]},{provide:nc,useFactory:function(){return uc},deps:[]},{provide:bl,useFactory:function(e){return Sa(e=e||"undefined"!=typeof $localize&&$localize.locale||wa),e},deps:[[new ir(bl),new or,new ar]]},{provide:_l,useValue:"USD"}];let au=(()=>{class e{constructor(e){}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)(mr(Zl))},providers:su}),e})();let cu=null;function lu(){return cu}const uu=new Qn("DocumentToken");let hu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({factory:du,token:e,providedIn:"platform"}),e})();function du(){return mr(pu)}const fu=new Qn("Location Initialized");let pu=(()=>{class e extends hu{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=lu().getLocation(),this._history=lu().getHistory()}getBaseHrefFromDOM(){return lu().getBaseHref(this._doc)}onPopState(e){lu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){lu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){gu()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){gu()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(mr(uu))},e.\u0275prov=ae({factory:mu,token:e,providedIn:"platform"}),e})();function gu(){return!!window.history.pushState}function mu(){return new pu(mr(uu))}function yu(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function vu(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function bu(e){return e&&"?"!==e[0]?"?"+e:e}let _u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({factory:wu,token:e,providedIn:"root"}),e})();function wu(e){const t=mr(uu).location;return new Su(mr(hu),t&&t.origin||"")}const ku=new Qn("appBaseHref");let Su=(()=>{class e extends _u{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return yu(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+bu(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+bu(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+bu(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(mr(hu),mr(ku,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Cu=(()=>{class e extends _u{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=yu(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+bu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+bu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(mr(hu),mr(ku,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Tu=(()=>{class e{constructor(e,t){this._subject=new zc,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=vu(Eu(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+bu(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Eu(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bu(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bu(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(mr(_u),mr(hu))},e.normalizeQueryParams=bu,e.joinWithSlash=yu,e.stripTrailingSlash=vu,e.\u0275prov=ae({factory:Ou,token:e,providedIn:"root"}),e})();function Ou(){return new Tu(mr(_u),mr(hu))}function Eu(e){return e.replace(/\/index.html$/,"")}var Pu=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),xu=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),Ru=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),ju=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),Iu=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function Au(e,t){return Fu(va(e)[_a.DateFormat],t)}function Lu(e,t){return Fu(va(e)[_a.TimeFormat],t)}function Du(e,t){return Fu(va(e)[_a.DateTimeFormat],t)}function Mu(e,t){const n=va(e),r=n[_a.NumberSymbols][t];if(void 0===r){if(t===Iu.CurrencyDecimal)return n[_a.NumberSymbols][Iu.Decimal];if(t===Iu.CurrencyGroup)return n[_a.NumberSymbols][Iu.Group]}return r}function Nu(e){if(!e[_a.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[_a.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fu(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Vu(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Uu=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bu={},Hu=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qu=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),zu=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),Wu=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function $u(e,t,n,r){let i=function(e){if(ih(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(Uu))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,c,l),t}(n)}const t=new Date(e);if(!ih(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Gu(n,t)||t;let o,s=[];for(;t;){if(o=Hu.exec(t),!o){s.push(t);break}{s=s.concat(o.slice(1));const e=s.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=rh(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(rh(t,r)-r))}(i,r));let c="";return s.forEach(e=>{const t=function(e){if(nh[e])return nh[e];let t;switch(e){case"G":case"GG":case"GGG":t=Yu(Wu.Eras,Ru.Abbreviated);break;case"GGGG":t=Yu(Wu.Eras,Ru.Wide);break;case"GGGGG":t=Yu(Wu.Eras,Ru.Narrow);break;case"y":t=Ju(zu.FullYear,1,0,!1,!0);break;case"yy":t=Ju(zu.FullYear,2,0,!0,!0);break;case"yyy":t=Ju(zu.FullYear,3,0,!1,!0);break;case"yyyy":t=Ju(zu.FullYear,4,0,!1,!0);break;case"Y":t=th(1);break;case"YY":t=th(2,!0);break;case"YYY":t=th(3);break;case"YYYY":t=th(4);break;case"M":case"L":t=Ju(zu.Month,1,1);break;case"MM":case"LL":t=Ju(zu.Month,2,1);break;case"MMM":t=Yu(Wu.Months,Ru.Abbreviated);break;case"MMMM":t=Yu(Wu.Months,Ru.Wide);break;case"MMMMM":t=Yu(Wu.Months,Ru.Narrow);break;case"LLL":t=Yu(Wu.Months,Ru.Abbreviated,xu.Standalone);break;case"LLLL":t=Yu(Wu.Months,Ru.Wide,xu.Standalone);break;case"LLLLL":t=Yu(Wu.Months,Ru.Narrow,xu.Standalone);break;case"w":t=eh(1);break;case"ww":t=eh(2);break;case"W":t=eh(1,!0);break;case"d":t=Ju(zu.Date,1);break;case"dd":t=Ju(zu.Date,2);break;case"E":case"EE":case"EEE":t=Yu(Wu.Days,Ru.Abbreviated);break;case"EEEE":t=Yu(Wu.Days,Ru.Wide);break;case"EEEEE":t=Yu(Wu.Days,Ru.Narrow);break;case"EEEEEE":t=Yu(Wu.Days,Ru.Short);break;case"a":case"aa":case"aaa":t=Yu(Wu.DayPeriods,Ru.Abbreviated);break;case"aaaa":t=Yu(Wu.DayPeriods,Ru.Wide);break;case"aaaaa":t=Yu(Wu.DayPeriods,Ru.Narrow);break;case"b":case"bb":case"bbb":t=Yu(Wu.DayPeriods,Ru.Abbreviated,xu.Standalone,!0);break;case"bbbb":t=Yu(Wu.DayPeriods,Ru.Wide,xu.Standalone,!0);break;case"bbbbb":t=Yu(Wu.DayPeriods,Ru.Narrow,xu.Standalone,!0);break;case"B":case"BB":case"BBB":t=Yu(Wu.DayPeriods,Ru.Abbreviated,xu.Format,!0);break;case"BBBB":t=Yu(Wu.DayPeriods,Ru.Wide,xu.Format,!0);break;case"BBBBB":t=Yu(Wu.DayPeriods,Ru.Narrow,xu.Format,!0);break;case"h":t=Ju(zu.Hours,1,-12);break;case"hh":t=Ju(zu.Hours,2,-12);break;case"H":t=Ju(zu.Hours,1);break;case"HH":t=Ju(zu.Hours,2);break;case"m":t=Ju(zu.Minutes,1);break;case"mm":t=Ju(zu.Minutes,2);break;case"s":t=Ju(zu.Seconds,1);break;case"ss":t=Ju(zu.Seconds,2);break;case"S":t=Ju(zu.FractionalSeconds,1);break;case"SS":t=Ju(zu.FractionalSeconds,2);break;case"SSS":t=Ju(zu.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Zu(qu.Short);break;case"ZZZZZ":t=Zu(qu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Zu(qu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Zu(qu.Long);break;default:return null}return nh[e]=t,t}(e);c+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Gu(e,t){const n=function(e){return va(e)[_a.LocaleId]}(e);if(Bu[n]=Bu[n]||{},Bu[n][t])return Bu[n][t];let r="";switch(t){case"shortDate":r=Au(e,ju.Short);break;case"mediumDate":r=Au(e,ju.Medium);break;case"longDate":r=Au(e,ju.Long);break;case"fullDate":r=Au(e,ju.Full);break;case"shortTime":r=Lu(e,ju.Short);break;case"mediumTime":r=Lu(e,ju.Medium);break;case"longTime":r=Lu(e,ju.Long);break;case"fullTime":r=Lu(e,ju.Full);break;case"short":const t=Gu(e,"shortTime"),n=Gu(e,"shortDate");r=Qu(Du(e,ju.Short),[t,n]);break;case"medium":const i=Gu(e,"mediumTime"),o=Gu(e,"mediumDate");r=Qu(Du(e,ju.Medium),[i,o]);break;case"long":const s=Gu(e,"longTime"),a=Gu(e,"longDate");r=Qu(Du(e,ju.Long),[s,a]);break;case"full":const c=Gu(e,"fullTime"),l=Gu(e,"fullDate");r=Qu(Du(e,ju.Full),[c,l])}return r&&(Bu[n][t]=r),r}function Qu(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Ku(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function Ju(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function(e,t){switch(e){case zu.FullYear:return t.getFullYear();case zu.Month:return t.getMonth();case zu.Date:return t.getDate();case zu.Hours:return t.getHours();case zu.Minutes:return t.getMinutes();case zu.Seconds:return t.getSeconds();case zu.FractionalSeconds:return t.getMilliseconds();case zu.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===zu.Hours)0===a&&-12===n&&(a=12);else if(e===zu.FractionalSeconds)return c=t,Ku(a,3).substr(0,c);var c;const l=Mu(s,Iu.MinusSign);return Ku(a,t,l,r,i)}}function Yu(e,t,n=xu.Format,r=!1){return function(i,o){return function(e,t,n,r,i,o){switch(n){case Wu.Months:return function(e,t,n){const r=va(e),i=Fu([r[_a.MonthsFormat],r[_a.MonthsStandalone]],t);return Fu(i,n)}(t,i,r)[e.getMonth()];case Wu.Days:return function(e,t,n){const r=va(e),i=Fu([r[_a.DaysFormat],r[_a.DaysStandalone]],t);return Fu(i,n)}(t,i,r)[e.getDay()];case Wu.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const e=function(e){const t=va(e);return Nu(t),(t[_a.ExtraData][2]||[]).map(e=>"string"==typeof e?Vu(e):[Vu(e[0]),Vu(e[1])])}(t),n=function(e,t,n){const r=va(e);Nu(r);const i=Fu([r[_a.ExtraData][0],r[_a.ExtraData][1]],t)||[];return Fu(i,n)||[]}(t,i,r),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=s>=t.hours&&a>=t.minutes,i=s<n.hours||s===n.hours&&a<n.minutes;if(t.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(e.hours===s&&e.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return function(e,t,n){const r=va(e),i=Fu([r[_a.DayPeriodsFormat],r[_a.DayPeriodsStandalone]],t);return Fu(i,n)}(t,i,r)[s<12?0:1];case Wu.Eras:return function(e,t){return Fu(va(e)[_a.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,e,t,n,r)}}function Zu(e){return function(t,n,r){const i=-1*r,o=Mu(n,Iu.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case qu.Short:return(i>=0?"+":"")+Ku(s,2,o)+Ku(Math.abs(i%60),2,o);case qu.ShortGMT:return"GMT"+(i>=0?"+":"")+Ku(s,1,o);case qu.Long:return"GMT"+(i>=0?"+":"")+Ku(s,2,o)+":"+Ku(Math.abs(i%60),2,o);case qu.Extended:return 0===r?"Z":(i>=0?"+":"")+Ku(s,2,o)+":"+Ku(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}function Xu(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function eh(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=Xu(n),t=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();i=1+Math.round(r/6048e5)}return Ku(i,e,Mu(r,Iu.MinusSign))}}function th(e,t=!1){return function(n,r){return Ku(Xu(n).getFullYear(),e,Mu(r,Iu.MinusSign),t)}}const nh={};function rh(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ih(e){return e instanceof Date&&!isNaN(e.valueOf())}class oh{}let sh=(()=>{class e extends oh{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return va(e)[_a.PluralCase]}(t||this.locale)(e)){case Pu.Zero:return"zero";case Pu.One:return"one";case Pu.Two:return"two";case Pu.Few:return"few";case Pu.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(mr(bl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function ah(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let ch=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ps(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+te(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(Ss(tc),Ss(nc),Ss(Fa),Ss(Ua))},e.\u0275dir=ze({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class lh{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uh=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new lh(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new hh(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new hh(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ss(bc),Ss(dc),Ss(tc))},e.\u0275dir=ze({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class hh{constructor(e,t){this.record=e,this.view=t}}let dh=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new fh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ph("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ph("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ss(bc),Ss(dc))},e.\u0275dir=ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class fh{constructor(){this.$implicit=null,this.ngIf=null}}function ph(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${te(t)}'.`)}let gh=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Ss(Fa),Ss(nc),Ss(Ua))},e.\u0275dir=ze({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),mh=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(Ss(bc))},e.\u0275dir=ze({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ct]}),e})(),yh=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,i){if(null==t||""===t||t!=t)return null;try{return $u(t,n,i||this.locale,r)}catch(o){throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${te(e)}'`)}(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(Ss(bl))},e.\u0275pipe=We({name:"date",type:e,pure:!0}),e})(),vh=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[{provide:oh,useClass:sh}]}),e})();function bh(e){return"browser"===e}let _h=(()=>{class e{}return e.\u0275prov=ae({token:e,providedIn:"root",factory:()=>new wh(mr(uu),window,mr(ii))}),e})();class wh{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=kh(this.window.history)||kh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function kh(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}function Sh(...e){let t=e[e.length-1];return T(t)?(e.pop(),D(e,t)):z(e)}function Ch(e,t){return U(e,t,1)}function Th(e,t){return function(n){return n.lift(new Oh(e,t))}}class Oh{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Eh(e,this.predicate,this.thisArg))}}class Eh extends p{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}class Ph{}class xh{}class Rh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Rh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Rh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Rh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class jh{encodeKey(e){return Ih(e)}encodeValue(e){return Ih(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Ih(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ah{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ah({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Lh(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Dh(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Mh(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Nh{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Rh),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Ah,this.urlWithParams=t}serializeBody(){return null===this.body?null:Lh(this.body)||Dh(this.body)||Mh(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ah?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Mh(this.body)?null:Dh(this.body)?this.body.type||null:Lh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ah?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new Nh(t,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Fh=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class Vh{constructor(e,t=200,n="OK"){this.headers=e.headers||new Rh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Uh extends Vh{constructor(e={}){super(e),this.type=Fh.ResponseHeader}clone(e={}){return new Uh({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bh extends Vh{constructor(e={}){super(e),this.type=Fh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Hh extends Vh{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qh(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let zh=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof Nh)r=e;else{let i=void 0;i=n.headers instanceof Rh?n.headers:new Rh(n.headers);let o=void 0;n.params&&(o=n.params instanceof Ah?n.params:new Ah({fromObject:n.params})),r=new Nh(e,t,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Sh(r).pipe(Ch(e=>this.handler.handle(e)));if(e instanceof Nh||"events"===n.observe)return i;const o=i.pipe(Th(e=>e instanceof Bh));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(O(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(O(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(O(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(O(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Ah).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,qh(n,t))}post(e,t,n={}){return this.request("POST",e,qh(n,t))}put(e,t,n={}){return this.request("PUT",e,qh(n,t))}}return e.\u0275fac=function(t){return new(t||e)(mr(Ph))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class Wh{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const $h=new Qn("HTTP_INTERCEPTORS");let Gh=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const Qh=/^\)\]\}',?\n/;class Kh{}let Jh=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Yh=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Rh(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new Uh({headers:o,status:t,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(Qh,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=e,l&&(l=!1,c={error:u,text:c})}}l?(t.next(new Bh({body:c,headers:r,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new Hh({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:r}=o(),i=new Hh({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let c=!1;const l=r=>{c||(t.next(o()),c=!0);let i={type:Fh.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:Fh.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:Fh.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(mr(Kh))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const Zh=new Qn("XSRF_COOKIE_NAME"),Xh=new Qn("XSRF_HEADER_NAME");class ed{}let td=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ah(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(mr(uu),mr(ml),mr(Zh))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),nd=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(mr(ed),mr(Xh))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),rd=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get($h,[]);this.chain=e.reduceRight((e,t)=>new Wh(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(mr(xh),mr(is))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),id=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:nd,useClass:Gh}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Zh,useValue:t.cookieName}:[],t.headerName?{provide:Xh,useValue:t.headerName}:[]]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[nd,{provide:$h,useExisting:nd,multi:!0},{provide:ed,useClass:td},{provide:Zh,useValue:"XSRF-TOKEN"},{provide:Xh,useValue:"X-XSRF-TOKEN"}]}),e})(),od=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[zh,{provide:Ph,useClass:rd},Yh,{provide:xh,useExisting:Yh},Jh,{provide:Kh,useExisting:Jh}],imports:[[id.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();const sd=new Qn("JWT_OPTIONS");let ad=(()=>{class e{constructor(e=null){this.tokenGetter=e&&e.tokenGetter||function(){}}urlBase64Decode(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(t)}b64decode(e){let t="";if((e=String(e).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let n,r,i=0,o=0;r=e.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?t+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return t}b64DecodeUnicode(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(e=this.tokenGetter()){if(!e||""===e)return null;const t=e.split(".");if(3!==t.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token.");return JSON.parse(n)}getTokenExpirationDate(e=this.tokenGetter()){let t;if(t=this.decodeToken(e),!t||!t.hasOwnProperty("exp"))return null;const n=new Date(0);return n.setUTCSeconds(t.exp),n}isTokenExpired(e=this.tokenGetter(),t){if(!e||""===e)return!0;const n=this.getTokenExpirationDate(e);return t=t||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*t)}getAuthScheme(e,t){return"function"==typeof e?e(t):e}}return e.\u0275fac=function(t){return new(t||e)(mr(sd))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),cd=(()=>{class e{constructor(e,t,n){this.jwtHelper=t,this.document=n,this.standardPorts=["80","443"],this.tokenGetter=e.tokenGetter,this.headerName=e.headerName||"Authorization",this.authScheme=e.authScheme||""===e.authScheme?e.authScheme:"Bearer ",this.allowedDomains=e.allowedDomains||[],this.disallowedRoutes=e.disallowedRoutes||[],this.throwNoTokenError=e.throwNoTokenError||!1,this.skipWhenExpired=e.skipWhenExpired}isAllowedDomain(e){const t=new URL(e.url,this.document.location.origin);if(t.host===this.document.location.host)return!0;const n=`${t.hostname}${t.port&&!this.standardPorts.includes(t.port)?":"+t.port:""}`;return this.allowedDomains.findIndex(e=>"string"==typeof e?e===n:e instanceof RegExp&&e.test(n))>-1}isDisallowedRoute(e){const t=new URL(e.url,this.document.location.origin);return this.disallowedRoutes.findIndex(n=>{if("string"==typeof n){const e=new URL(n,this.document.location.origin);return e.hostname===t.hostname&&e.pathname===t.pathname}return n instanceof RegExp&&n.test(e.url)})>-1}handleInterception(e,t,n){const r=this.jwtHelper.getAuthScheme(this.authScheme,t);let i=!1;if(!e&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&(i=!e||this.jwtHelper.isTokenExpired(e)),e&&i&&this.skipWhenExpired?t=t.clone():e&&(t=t.clone({setHeaders:{[this.headerName]:`${r}${e}`}})),n.handle(t)}intercept(e,t){if(!this.isAllowedDomain(e)||this.isDisallowedRoute(e))return t.handle(e);const n=this.tokenGetter(e);return n instanceof Promise?M(n).pipe(U(n=>this.handleInterception(n,e,t))):this.handleInterception(n,e,t)}}return e.\u0275fac=function(t){return new(t||e)(mr(sd),mr(ad),mr(uu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),ld=(()=>{class e{constructor(e){if(e)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(t){return{ngModule:e,providers:[{provide:$h,useClass:cd,multi:!0},t.jwtOptionsProvider||{provide:sd,useValue:t.config},ad]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)(mr(e,12))}}),e})(),ud=(()=>{class e{constructor(e){this.jwthelperservice=e}setUser(e){localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("access_token",e.token)}getUser(){return this.userDTO=JSON.parse(localStorage.getItem("user")||"{}"),this.userDTO}hasToken(){let e=this.getUser().token;return!!(null!=typeof e&&e&&e.length>0)}removeUser(){localStorage.removeItem("user"),localStorage.removeItem("access_token")}isAuthenticated(){let e=localStorage.getItem("access_token");return!this.jwthelperservice.isTokenExpired(e)}getUserName(){return""+this.getUser().username}isAuthorized(e){if(null==e||0===e.length)return!0;let t=localStorage.getItem("access_token");const n=this.jwthelperservice.decodeToken(t);return n?e.includes(n.role):(console.log("Invalid token"),!1)}getUserRoles(){let e=localStorage.getItem("access_token");if(!e)return[];const t=this.jwthelperservice.decodeToken(e);if(!t)return[];let n=[],r=t.role;return Array.isArray(r)?r.forEach(e=>{n.push(e)}):n.push(r),n}}return e.\u0275fac=function(t){return new(t||e)(mr(ad))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),hd=(()=>{class e{constructor(e){this.tokenService=e}intercept(e,t){let n=e.url.startsWith("https://zoomclone.azurewebsites.net/"),r="Bearer ";return this.tokenService.hasToken()&&n&&(r+=this.tokenService.getUser().token),e=e.clone({setHeaders:{Authorization:r}}),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(mr(ud))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class dd extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new dd,cu||(cu=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=pd||(pd=document.querySelector("base"),pd)?pd.getAttribute("href"):null;return null==t?null:(n=t,fd||(fd=document.createElement("a")),fd.setAttribute("href",n),"/"===fd.pathname.charAt(0)?fd.pathname:"/"+fd.pathname);var n}resetBaseElement(){pd=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return ah(document.cookie,e)}}let fd,pd=null;const gd=new Qn("TRANSITION_ID"),md=[{provide:ul,useFactory:function(e,t,n){return()=>{n.get(hl).donePromise.then(()=>{const n=lu();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[gd,uu,is],multi:!0}];class yd{static init(){var e;e=new yd,Hl=e}addToWindow(e){Ee.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ee.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ee.getAllAngularRootElements=()=>e.getAllRootElements(),Ee.frameworkStabilizers||(Ee.frameworkStabilizers=[]),Ee.frameworkStabilizers.push(e=>{const t=Ee.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?lu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const vd=new Qn("EventManagerPlugins");let bd=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(mr(vd),mr(jl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class _d{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=lu().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let wd=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),kd=(()=>{class e extends wd{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>lu().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(mr(uu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const Sd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cd=/%COMP%/g;function Td(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Td(e,i,n):(i=i.replace(Cd,e),n.push(i))}return n}function Od(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ed=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Pd(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ke.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new xd(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case ke.ShadowDom:return new Rd(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Td(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(mr(bd),mr(kd),mr(dl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class Pd{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Sd[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=Sd[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Sd[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(li.DashCase|li.Important)?e.style.setProperty(t,n,r&li.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&li.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Od(n)):this.eventManager.addEventListener(e,t,Od(n))}}class xd extends Pd{constructor(e,t,n,r){super(e),this.component=n;const i=Td(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Cd,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Cd,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Rd extends Pd{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Td(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const e=document.createElement("style");e.textContent=i[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let jd=(()=>{class e extends _d{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(mr(uu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const Id=["alt","control","meta","shift"],Ad={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ld={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dd={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Md=(()=>{class e extends _d{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lu().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let o="";if(Id.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Ld.hasOwnProperty(t)&&(t=Ld[t]))}return Ad[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Id.forEach(r=>{r!=n&&(0,Dd[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(mr(uu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Nd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({factory:function(){return mr(Fd)},token:e,providedIn:"root"}),e})(),Fd=(()=>{class e extends Nd{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Yr.NONE:return t;case Yr.HTML:return Or(t,"HTML")?Tr(t):Kr(this._doc,String(t));case Yr.STYLE:return Or(t,"Style")?Tr(t):t;case Yr.SCRIPT:if(Or(t,"Script"))return Tr(t);throw new Error("unsafe value used in a script context");case Yr.URL:return Er(t),Or(t,"URL")?Tr(t):Ir(String(t));case Yr.RESOURCE_URL:if(Or(t,"ResourceURL"))return Tr(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new _r(e)}bypassSecurityTrustStyle(e){return new wr(e)}bypassSecurityTrustScript(e){return new kr(e)}bypassSecurityTrustUrl(e){return new Sr(e)}bypassSecurityTrustResourceUrl(e){return new Cr(e)}}return e.\u0275fac=function(t){return new(t||e)(mr(uu))},e.\u0275prov=ae({factory:function(){return e=mr(Ho),new Fd(e.get(uu));var e},token:e,providedIn:"root"}),e})();const Vd=Ql(ou,"browser",[{provide:ml,useValue:"browser"},{provide:gl,useValue:function(){dd.makeCurrent(),yd.init()},multi:!0},{provide:uu,useFactory:function(){return function(e){ft=e}(document),document},deps:[]}]),Ud=[[],{provide:zo,useValue:"root"},{provide:ii,useFactory:function(){return new ii},deps:[]},{provide:vd,useClass:jd,multi:!0,deps:[uu,jl,ml]},{provide:vd,useClass:Md,multi:!0,deps:[uu]},[],{provide:Ed,useClass:Ed,deps:[bd,kd,dl]},{provide:Va,useExisting:Ed},{provide:wd,useExisting:kd},{provide:kd,useClass:kd,deps:[uu]},{provide:Fl,useClass:Fl,deps:[jl]},{provide:bd,useClass:bd,deps:[vd,jl]},[]];let Bd=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:dl,useValue:t.appId},{provide:gd,useExisting:dl},md]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)(mr(e,12))},providers:Ud,imports:[vh,au]}),e})();function Hd(e,t){return function(n,r){t(n,r,e)}}function qd(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function zd(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})}"undefined"!=typeof window&&window;class Wd extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class $d extends Wd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let Gd=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Qd extends Gd{constructor(e,t=Gd.now){super(e,()=>Qd.delegate&&Qd.delegate!==this?Qd.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Qd.delegate&&Qd.delegate!==this?Qd.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Kd=new Qd($d);function Jd(e){return!c(e)&&e-parseFloat(e)+1>=0}function Yd(e=0,t,n){let r=-1;return Jd(t)?r=Number(t)<1?1:Number(t):T(t)&&(n=t),T(n)||(n=Kd),new v(t=>{const i=Jd(e)?e:+e-n.now();return n.schedule(Zd,i,{index:0,period:r,subscriber:t})})}function Zd(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}class Xd extends p{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class ef extends p{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function tf(e,t,n,r,i=new ef(e,n,r)){if(!i.closed)return t instanceof v?t.subscribe(i):L(t)(i)}const nf={};function rf(...e){let t=void 0,n=void 0;return T(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&c(e[0])&&(e=e[0]),z(e,n).lift(new of(t))}class of{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new sf(e,this.resultSelector))}}class sf extends Xd{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(nf),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(tf(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===nf?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const af=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),cf=new v(e=>e.complete());function lf(e){return e?function(e){return new v(t=>e.schedule(()=>t.complete()))}(e):cf}function uf(e){return t=>0===e?lf():t.lift(new hf(e))}class hf{constructor(e){if(this.total=e,this.total<0)throw new af}call(e,t){return t.subscribe(new df(e,this.total))}}class df extends p{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function ff(){}function pf(e,t,n){return function(r){return r.lift(new gf(e,t,n))}}class gf{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new mf(e,this.nextOrObserver,this.error,this.complete))}}class mf extends p{constructor(e,t,n,i){super(e),this._tapNext=ff,this._tapError=ff,this._tapComplete=ff,this._tapError=n||ff,this._tapComplete=i||ff,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||ff,this._tapError=t.error||ff,this._tapComplete=t.complete||ff)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function yf(){return q(1)}function vf(...e){return yf()(Sh(...e))}function bf(...e){const t=e[e.length-1];return T(t)?(e.pop(),n=>vf(e,n,t)):t=>vf(e,t)}function _f(e,t){return"function"==typeof t?n=>n.pipe(_f((n,r)=>M(e(n,r)).pipe(O((e,i)=>t(n,e,r,i))))):t=>t.lift(new wf(e))}class wf{constructor(e){this.project=e}call(e,t){return t.subscribe(new kf(e,this.project))}}class kf extends F{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new N(this),r=this.destination;r.add(n),this.innerSubscription=V(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}class Sf extends $d{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}class Cf extends Qd{}const Tf=new Cf(Sf);function Of(e,t){return new v(t?n=>t.schedule(Ef,0,{error:e,subscriber:n}):t=>t.error(e))}function Ef({error:e,subscriber:t}){t.error(e)}let Pf=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Sh(this.value);case"E":return Of(this.error);case"C":return lf()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class xf extends p{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(xf.dispatch,this.delay,new Rf(e,this.destination)))}_next(e){this.scheduleMessage(Pf.createNext(e))}_error(e){this.scheduleMessage(Pf.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Pf.createComplete()),this.unsubscribe()}}class Rf{constructor(e,t){this.notification=e,this.destination=t}}class jf extends S{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new If(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new _;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(e),o=new w(this,e)),r&&e.add(e=new xf(e,r)),t)for(let s=0;s<i&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<i&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||Tf).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}class If{constructor(e,t){this.time=e,this.value=t}}function Af(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,c=!1;return function(l){let u;s++,!i||a?(a=!1,i=new jf(e,t,r),u=i.subscribe(this),o=l.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){c=!0,o=void 0,i.complete()}})):u=i.subscribe(this),this.add(()=>{s--,u.unsubscribe(),o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}class Lf{constructor(e={}){this.config=e,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new S,this._value$=null,this.timer$=e=>{let t=Sh(e);switch(e.action){case"start":case"increment":case"set":"start"===e.action&&0===this.config.latencyThreshold&&0===e.value&&(e.value=e.initialValue),this.requests>0&&(t=Yd(this.config.latencyThreshold,250).pipe(O(t=>Object.assign(Object.assign({},e),{value:0===t?this.state.value||e.initialValue:this._increment()}))));break;case"complete":case"stop":t=0===e.value?Sh(Object.assign({},e)):Yd(0,500).pipe(uf(2),O(e=>({value:0===e?100:0})))}return t.pipe(O(e=>Object.assign(Object.assign({},e),{action:"set"})),pf(e=>this.next(e,!1)))},this.config=Object.assign({latencyThreshold:0},e)}get value$(){return this._value$?this._value$:this._value$=this.stream$.asObservable().pipe(bf(this.state),_f(e=>this.timer$(e)),Af(),O(e=>e.value))}start(e=2){this.disabled||this.next({action:"start",initialValue:e})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(e){this.next({action:"set",value:e})}increment(e=0){this.next({action:"increment",value:e})}next(e,t=!0){switch(e.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":e.value=this._increment(e.value)}this.state=Object.assign(Object.assign(Object.assign({},this.state),{action:null}),e),t&&this.stream$.next(this.state)}_increment(e=0){const t=this.state.value;return t>=99&&(e=0),0===e&&(e=t>=0&&t<25?3*Math.random()+3:t>=25&&t<65?3*Math.random():t>=65&&t<90?2*Math.random():t>=90&&t<99?.5:0),e+t}}const Df=new Qn("LOADING_BAR_CONFIG");let Mf=(()=>{let e=class{constructor(e,t={}){this.platformId=e,this.config=t,this.refs={},this.streams$=new S,this.value$=this.streams$.asObservable().pipe(bf(null),_f(()=>rf(...Object.keys(this.refs).map(e=>this.refs[e].value$))),O(e=>Math.max(0,...e)))}get progress$(){return this.value$}start(e=2){this.useRef().start(e)}set(e){this.useRef().set(e)}increment(e){this.useRef().increment(e)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(e="default"){return this.refs[e]||(this.refs[e]=new Lf(this.config),this.streams$.next(),bh(this.platformId)||this.refs[e].disable()),this.refs[e]}};return e.\u0275fac=function(t){return new(t||e)(mr(ml),mr(Df,8))},e.\u0275prov=ae({factory:function(){return new e(mr(ml),mr(Df,8))},token:e,providedIn:"root"}),e=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}([Hd(0,ir(ml)),Hd(1,or()),Hd(1,ir(Df)),qd("design:paramtypes",[Object,Object])],e),e})(),Nf=(()=>{let e=class{};return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[vh]]}),e})();function Ff(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function Vf(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Uf extends S{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(e){super.next(this._value=e)}}const Bf=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function Hf(e){return new v(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?M(n):lf()).subscribe(t)})}function qf(e){return function(t){return 0===e?lf():t.lift(new zf(e))}}class zf{constructor(e){if(this.total=e,this.total<0)throw new af}call(e,t){return t.subscribe(new Wf(e,this.total))}}class Wf extends p{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function $f(e=Kf){return t=>t.lift(new Gf(e))}class Gf{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Qf(e,this.errorFactory))}}class Qf extends p{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Kf(){return new Bf}function Jf(e=null){return t=>t.lift(new Yf(e))}class Yf{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Zf(e,this.defaultValue))}}class Zf extends p{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Xf(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ep(e,t,n))}}class ep{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new tp(e,this.accumulator,this.seed,this.hasSeed))}}class tp extends p{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function np(e){return function(t){const n=new rp(e),r=t.lift(n);return n.caught=r}}class rp{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ip(e,this.selector,this.caught))}}class ip extends F{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new N(this);this.add(r);const i=V(n,r);i!==r&&this.add(i)}}}function op(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Th((t,n)=>e(t,n,r)):y,uf(1),n?Jf(t):$f(()=>new Bf))}function sp(e){return t=>t.lift(new ap(e))}class ap{constructor(e){this.callback=e}call(e,t){return t.subscribe(new cp(e,this.callback))}}class cp extends p{constructor(e,t){super(e),this.add(new h(t))}}class lp{constructor(e,t){this.id=e,this.url=t}}class up extends lp{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hp extends lp{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dp extends lp{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fp extends lp{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pp extends lp{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gp extends lp{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mp extends lp{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yp extends lp{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vp extends lp{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _p{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wp{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kp{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sp{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cp{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tp{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Op="primary";class Ep{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pp(e){return new Ep(e)}function xp(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Rp(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function jp(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ip(e[i],t[i]))return!1;return!0}function Ip(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Ap(e){return Array.prototype.concat.apply([],e)}function Lp(e){return e.length>0?e[e.length-1]:null}function Dp(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Mp(e){return Ls(e)?e:As(e)?M(Promise.resolve(e)):Sh(e)}function Np(e,t,n){return n?function(e,t){return jp(e,t)}(e.queryParams,t.queryParams)&&Fp(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Ip(e[n],t[n]))}(e.queryParams,t.queryParams)&&Vp(e.root,t.root)}function Fp(e,t){if(!zp(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Fp(e.children[n],t.children[n]))return!1}return!0}function Vp(e,t){return Up(e,t,t.segments)}function Up(e,t,n){if(e.segments.length>n.length)return!!zp(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!zp(e.segments,n))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Vp(e.children[n],t.children[n]))return!1}return!0}{const r=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!zp(e.segments,r)&&!!e.children.primary&&Up(e.children.primary,t,i)}}class Bp{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pp(this.queryParams)),this._queryParamMap}toString(){return Qp.serialize(this)}}class Hp{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Dp(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kp(this)}}class qp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pp(this.parameters)),this._parameterMap}toString(){return ng(this)}}function zp(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Wp(e,t){let n=[];return Dp(e.children,(e,r)=>{r===Op&&(n=n.concat(t(e,r)))}),Dp(e.children,(e,r)=>{r!==Op&&(n=n.concat(t(e,r)))}),n}class $p{}class Gp{parse(e){const t=new ag(e);return new Bp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+Jp(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Zp(t)}=${Zp(e)}`).join("&"):`${Zp(t)}=${Zp(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Qp=new Gp;function Kp(e){return e.segments.map(e=>ng(e)).join("/")}function Jp(e,t){if(!e.hasChildren())return Kp(e);if(t){const t=e.children.primary?Jp(e.children.primary,!1):"",n=[];return Dp(e.children,(e,t)=>{t!==Op&&n.push(`${t}:${Jp(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=Wp(e,(t,n)=>n===Op?[Jp(e.children.primary,!1)]:[`${n}:${Jp(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Kp(e)}/${t[0]}`:`${Kp(e)}/(${t.join("//")})`}}function Yp(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zp(e){return Yp(e).replace(/%3B/gi,";")}function Xp(e){return Yp(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eg(e){return decodeURIComponent(e)}function tg(e){return eg(e.replace(/\+/g,"%20"))}function ng(e){return`${Xp(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Xp(e)}=${Xp(t[e])}`).join("")}`;var t}const rg=/^[^\/()?;=#]+/;function ig(e){const t=e.match(rg);return t?t[0]:""}const og=/^[^=?&#]+/,sg=/^[^?&#]+/;class ag{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hp([],{}):new Hp([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Hp(e,t)),n}parseSegment(){const e=ig(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new qp(eg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ig(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=ig(this.remaining);e&&(n=e,this.capture(n))}e[eg(t)]=eg(n)}parseQueryParam(e){const t=function(e){const t=e.match(og);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(sg);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=tg(t),i=tg(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ig(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Op);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Hp([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class cg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lg(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=lg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ug(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return ug(e,this._root).map(e=>e.value)}}function lg(e,t){if(e===t.value)return t;for(const n of t.children){const t=lg(e,n);if(t)return t}return null}function ug(e,t){if(e===t.value)return[t];for(const n of t.children){const r=ug(e,n);if(r.length)return r.unshift(t),r}return[]}class hg{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function dg(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class fg extends cg{constructor(e,t){super(e),this.snapshot=t,bg(this,e)}toString(){return this.snapshot.toString()}}function pg(e,t){const n=function(e,t){const n=new yg([],{},{},"",{},Op,t,null,e.root,-1,{});return new vg("",new hg(n,[]))}(e,t),r=new Uf([new qp("",{})]),i=new Uf({}),o=new Uf({}),s=new Uf({}),a=new Uf(""),c=new gg(r,i,s,a,o,Op,t,n.root);return c.snapshot=n.root,new fg(new hg(c,[]),n)}class gg{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(O(e=>Pp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(O(e=>Pp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mg(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class yg{constructor(e,t,n,r,i,o,s,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vg extends cg{constructor(e,t){super(t),this.url=e,bg(this,t)}toString(){return _g(this._root)}}function bg(e,t){t.value._routerState=e,t.children.forEach(t=>bg(e,t))}function _g(e){const t=e.children.length>0?` { ${e.children.map(_g).join(", ")} } `:"";return`${e.value}${t}`}function wg(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,jp(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),jp(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!jp(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),jp(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function kg(e,t){var n,r;return jp(e.params,t.params)&&zp(n=e.url,r=t.url)&&n.every((e,t)=>jp(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||kg(e.parent,t.parent))}function Sg(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Sg(e,t,r);return Sg(e,t)})}(e,t,n);return new hg(r,i)}{const n=e.retrieve(t.value);if(n){const e=n.route;return Cg(t,e),e}{const n=new gg(new Uf((r=t.value).url),new Uf(r.params),new Uf(r.queryParams),new Uf(r.fragment),new Uf(r.data),r.outlet,r.component,r),i=t.children.map(t=>Sg(e,t));return new hg(n,i)}}var r}function Cg(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Cg(e.children[n],t.children[n])}function Tg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Og(e){return"object"==typeof e&&null!=e&&e.outlets}function Eg(e,t,n,r,i){let o={};return r&&Dp(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Bp(n.root===e?t:Pg(n.root,e,t),o,i)}function Pg(e,t,n){const r={};return Dp(e.children,(e,i)=>{r[i]=e===t?n:Pg(e,t,n)}),new Hp(e.segments,r)}class xg{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Tg(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Og);if(r&&r!==Lp(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rg{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function jg(e,t,n){if(e||(e=new Hp([],{})),0===e.segments.length&&e.hasChildren())return Ig(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=n[r];if(Og(s))break;const a=""+s,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Mg(a,c,t))return o;r+=2}else{if(!Mg(a,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Hp(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Hp(e.segments.slice(r.pathIndex),e.children),Ig(t,0,i)}return r.match&&0===i.length?new Hp(e.segments,{}):r.match&&!e.hasChildren()?Ag(e,t,n):r.match?Ig(e,0,i):Ag(e,t,n)}function Ig(e,t,n){if(0===n.length)return new Hp(e.segments,{});{const r=function(e){return Og(e[0])?e[0].outlets:{[Op]:e}}(n),i={};return Dp(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=jg(e.children[r],t,n))}),Dp(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Hp(e.segments,i)}}function Ag(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Og(o)){const e=Lg(o.outlets);return new Hp(r,e)}if(0===i&&Tg(n[0])){r.push(new qp(e.segments[t].path,n[0])),i++;continue}const s=Og(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Tg(a)?(r.push(new qp(s,Dg(a))),i+=2):(r.push(new qp(s,{})),i++)}return new Hp(r,{})}function Lg(e){const t={};return Dp(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Ag(new Hp([],{}),0,e))}),t}function Dg(e){const t={};return Dp(e,(e,n)=>t[n]=""+e),t}function Mg(e,t,n){return e==n.path&&jp(t,n.parameters)}class Ng{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),wg(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=dg(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Dp(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=dg(e),i=e.value.component?n.children:t;Dp(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=dg(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Cp(e.value.snapshot))}),e.children.length&&this.forwardEvent(new kp(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(wg(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Fg(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Fg(e){wg(e.value),e.children.forEach(Fg)}class Vg{constructor(e,t){this.routes=e,this.module=t}}function Ug(e){return"function"==typeof e}function Bg(e){return e instanceof Bp}const Hg=Symbol("INITIAL_VALUE");function qg(){return _f(e=>rf(...e.map(e=>e.pipe(uf(1),bf(Hg)))).pipe(Xf((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==Hg)return e;if(r===Hg&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Bg(r))return r}return e},e)},Hg),Th(e=>e!==Hg),O(e=>Bg(e)?e:!0===e),uf(1)))}let zg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Ps(0,"router-outlet")},directives:function(){return[Fm]},encapsulation:2}),e})();function Wg(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];$g(r,Gg(t,r))}}function $g(e,t){e.children&&Wg(e.children,t)}function Gg(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Qg(e){const t=e.children&&e.children.map(Qg),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Op&&(n.component=zg),n}function Kg(e){return e.outlet||Op}class Jg{constructor(e){this.segmentGroup=e||null}}class Yg{constructor(e){this.urlTree=e}}function Zg(e){return new v(t=>t.error(new Jg(e)))}function Xg(e){return new v(t=>t.error(new Yg(e)))}function em(e){return new v(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class tm{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(mc)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Op).pipe(O(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(np(e=>{if(e instanceof Yg)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Jg)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Op).pipe(O(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(np(e=>{if(e instanceof Jg)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Hp([],{[Op]:e}):e;return new Bp(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(O(e=>new Hp([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Sh({});const n=[],r=[],i={};return Dp(e,(e,o)=>{const s=t(o,e).pipe(O(e=>i[o]=e));o===Op?n.push(s):r.push(s)}),Sh.apply(null,n.concat(r)).pipe(yf(),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Th((t,n)=>e(t,n,r)):y,qf(1),n?Jf(t):$f(()=>new Bf))}(),O(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,o){const s=function(e){return e.reduce((e,t)=>{const n=Kg(t);return e.has(n)?e.get(n).push(t):e.set(n,[t]),e},new Map)}(n);s.has(i)||s.set(i,[]);const a=n=>M(n).pipe(Ch(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(np(e=>{if(e instanceof Jg)return Sh(null);throw e}))),op(e=>null!==e),np(e=>{if(e instanceof Bf||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return Sh(new Hp([],{}));throw new Jg(t)}throw e}));return M(Array.from(s.entries()).map(([e,t])=>{const n=a(t);return e===i?n:n.pipe(O(()=>null),np(()=>Sh(null)))})).pipe(e=>e.lift(new of(void 0)),op(),O(e=>e.find(e=>null!==e)))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return Kg(r)!==o&&""!==r.path?Zg(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Zg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xg(i):this.lineralizeSegments(n,i).pipe(U(n=>{const i=new Hp(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=nm(t,r,i);if(!s)return Zg(t);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Xg(u):this.lineralizeSegments(r,u).pipe(U(r=>this.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(O(e=>(n._loadedConfig=e,new Hp(r,{})))):Sh(new Hp(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=nm(t,n,r);if(!i)return Zg(t);const a=r.slice(s);return this.getChildConfig(e,n,r).pipe(U(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:s}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>im(e,t,n)&&Kg(n)!==Op)}(e,n,r)?{segmentGroup:rm(new Hp(t,function(e,t){const n={};n.primary=t;for(const r of e)""===r.path&&Kg(r)!==Op&&(n[Kg(r)]=new Hp([],{}));return n}(r,new Hp(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>im(e,t,n))}(e,n,r)?{segmentGroup:rm(new Hp(e.segments,function(e,t,n,r){const i={};for(const o of n)im(e,t,o)&&!r[Kg(o)]&&(i[Kg(o)]=new Hp([],{}));return Object.assign(Object.assign({},r),i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(O(e=>new Hp(o,e))):0===r.length&&0===s.length?Sh(new Hp(o,{})):this.expandSegment(n,i,r,s,Op,!0).pipe(O(e=>new Hp(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Sh(new Vg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Sh(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(U(n=>n?this.configLoader.load(e.injector,t).pipe(O(e=>(t._loadedConfig=e,e))):function(e){return new v(t=>t.error(xp(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Sh(new Vg([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;return r&&0!==r.length?Sh(r.map(r=>{const i=e.get(r);let o;if(function(e){return e&&Ug(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!Ug(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return Mp(o)})).pipe(qg(),pf(e=>{if(!Bg(e))return;const t=xp(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),O(e=>!0===e)):Sh(!0)}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Sh(n);if(r.numberOfChildren>1||!r.children.primary)return em(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Bp(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Dp(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return Dp(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new Hp(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function nm(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Rp)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function rm(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Hp(e.segments.concat(t.segments),t.children)}return e}function im(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class om{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sm{constructor(e,t){this.component=e,this.route=t}}function am(e,t,n){const r=e._root;return lm(r,t?t._root:null,n,[r.value])}function cm(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function lm(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=dg(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!zp(e.url,t.url);case"pathParamsOrQueryParamsChange":return!zp(e.url,t.url)||!jp(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kg(e,t)||!jp(e.queryParams,t.queryParams);case"paramsChange":default:return!kg(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new om(r)):(o.data=s.data,o._resolvedData=s._resolvedData),lm(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sm(a.outlet.component,s))}else s&&um(t,a,i),i.canActivateChecks.push(new om(r)),lm(e,null,o.component?a?a.children:null:n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),Dp(o,(e,t)=>um(e,n.getContext(t),i)),i}function um(e,t,n){const r=dg(e),i=e.value;Dp(r,(e,r)=>{um(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new sm(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function hm(e,t){return null!==e&&t&&t(new Sp(e)),Sh(!0)}function dm(e,t){return null!==e&&t&&t(new wp(e)),Sh(!0)}function fm(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Sh(r.map(r=>Hf(()=>{const i=cm(r,t,n);let o;if(function(e){return e&&Ug(e.canActivate)}(i))o=Mp(i.canActivate(t,e));else{if(!Ug(i))throw new Error("Invalid CanActivate guard");o=Mp(i(t,e))}return o.pipe(op())}))).pipe(qg()):Sh(!0)}function pm(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Hf(()=>Sh(t.guards.map(i=>{const o=cm(i,t.node,n);let s;if(function(e){return e&&Ug(e.canActivateChild)}(o))s=Mp(o.canActivateChild(r,e));else{if(!Ug(o))throw new Error("Invalid CanActivateChild guard");s=Mp(o(r,e))}return s.pipe(op())})).pipe(qg())));return Sh(i).pipe(qg())}class gm{}class mm{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=bm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Op),n=new yg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Op,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new hg(n,t),i=new vg(this.url,r);return this.inheritParamsAndData(i._root),Sh(i)}catch(e){return new v(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=mg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Wp(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===Op?-1:t.value.outlet===Op?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,r)}catch(i){if(!(i instanceof gm))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new gm}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new gm;if((e.outlet||Op)!==r)throw new gm;let i,o=[],s=[];if("**"===e.path){const o=n.length>0?Lp(n).parameters:{};i=new yg(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wm(e),r,e.component,e,ym(t),vm(t)+n.length,km(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new gm;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Rp)(n,e,t);if(!r)throw new gm;const i={};Dp(r.posParams,(e,t)=>{i[t]=e.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new yg(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wm(e),r,e.component,e,ym(t),vm(t)+o.length,km(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=bm(t,o,s,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return[new hg(i,e)]}if(0===a.length&&0===l.length)return[new hg(i,[])];const u=this.processSegment(a,c,l,Op);return[new hg(i,u)]}}function ym(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function vm(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function bm(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>_m(e,t,n)&&Kg(n)!==Op)}(e,n,r)){const i=new Hp(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&Kg(o)!==Op){const n=new Hp([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Kg(o)]=n}return i}(e,t,r,new Hp(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>_m(e,t,n))}(e,n,r)){const o=new Hp(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(_m(e,n,a)&&!i[Kg(a)]){const n=new Hp([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Kg(a)]=n}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new Hp(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function _m(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function wm(e){return e.data||{}}function km(e){return e.resolve||{}}function Sm(e){return function(t){return t.pipe(_f(t=>{const n=e(t);return n?M(n).pipe(O(()=>t)):M([t])}))}}class Cm extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Tm=new Qn("ROUTES");class Om{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(O(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Vg(Ap(r.injector.get(Tm)).map(Qg),r)}))}loadModuleFactory(e){return"string"==typeof e?M(this.loader.load(e)):Mp(e()).pipe(U(e=>e instanceof yc?Sh(e):M(this.compiler.compileModuleAsync(e))))}}class Em{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pm,this.attachRef=null}}class Pm{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Em,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class xm{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Rm(e){throw e}function jm(e,t,n){return t.parse("/")}function Im(e,t){return Sh(null)}let Am=(()=>{class e{constructor(e,t,n,r,i,o,s,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=Rm,this.malformedUriErrorHandler=jm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Im,afterPreactivation:Im},this.urlHandlingStrategy=new xm,this.routeReuseStrategy=new Cm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(mc),this.console=i.get(vl);const c=i.get(jl);this.isNgZoneEnabled=c instanceof jl,this.resetConfig(a),this.currentUrlTree=new Bp(new Hp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Om(o,s,e=>this.triggerEvent(new bp(e)),e=>this.triggerEvent(new _p(e))),this.routerState=pg(this.currentUrlTree,this.rootComponentType),this.transitions=new Uf({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Th(e=>0!==e.id),O(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),_f(e=>{let n=!1,r=!1;return Sh(e).pipe(pf(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_f(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Sh(e).pipe(_f(e=>{const n=this.transitions.getValue();return t.next(new up(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?cf:[e]}),_f(e=>Promise.resolve(e)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(e){return e.pipe(_f(e=>function(e,t,n,r,i){return new tm(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe(O(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),pf(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(o){return o.pipe(U(o=>function(e,t,n,r,i="emptyOnly",o="legacy"){return new mm(e,t,n,r,i,o).recognize()}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(O(e=>Object.assign(Object.assign({},o),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),pf(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),pf(e=>{const n=new pp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new up(n,this.serializeUrl(r),i,o);t.next(a);const c=pg(r,this.rootComponentType).snapshot;return Sh(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),cf}),Sm(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),pf(e=>{const t=new gp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),O(e=>Object.assign(Object.assign({},e),{guards:am(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(U(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Sh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return M(e).pipe(U(e=>function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Sh(o.map(o=>{const s=cm(o,t,i);let a;if(function(e){return e&&Ug(e.canDeactivate)}(s))a=Mp(s.canDeactivate(e,t,n,r));else{if(!Ug(s))throw new Error("Invalid CanDeactivate guard");a=Mp(s(e,t,n,r))}return a.pipe(op())})).pipe(qg()):Sh(!0)}(e.component,e.route,n,t,r)),op(e=>!0!==e,!0))}(s,r,i,e).pipe(U(n=>n&&"boolean"==typeof n?function(e,t,n,r){return M(t).pipe(Ch(t=>M([dm(t.route.parent,r),hm(t.route,r),pm(e,t.path,n),fm(e,t.route,n)]).pipe(yf(),op(e=>!0!==e,!0))),op(e=>!0!==e,!0))}(r,o,e,t):Sh(n)),O(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),pf(e=>{if(Bg(e.guardsResult)){const t=xp(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),pf(e=>{const t=new mp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Th(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new dp(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Sm(e=>{if(e.guards.canActivateChecks.length)return Sh(e).pipe(pf(e=>{const t=new yp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),_f(e=>{let n=!1;return Sh(e).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(e){return e.pipe(U(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return Sh(e);let o=0;return M(n).pipe(Ch(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return Sh({});const o={};return M(i).pipe(U(i=>function(e,t,n,r){const i=cm(e,t,r);return Mp(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(pf(e=>{o[i]=e}))),qf(1),U(()=>Object.keys(o).length===i.length?Sh(o):cf))}(e._resolve,e,t,r).pipe(O(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),mg(e,n).resolve),null)))}(e.route,t,r,i)),pf(()=>o++),qf(1),U(t=>o===n.length?Sh(e):cf))}))}),pf({next:()=>n=!0,complete:()=>{if(!n){const n=new dp(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var r,i}),pf(e=>{const t=new vp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Sm(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),O(e=>{const t=function(e,t,n){const r=Sg(e,t._root,n?n._root:void 0);return new fg(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),pf(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=e=>this.triggerEvent(e),O(e=>(new Ng(o,e.targetRouterState,e.currentRouterState,s).activate(i),e))),pf({next(){n=!0},complete(){n=!0}}),sp(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new dp(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),np(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Bg(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new dp(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new fp(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(o){e.reject(o)}}var i;return cf}));var i,o,s}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Wg(e),this.config=e.map(Qg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=t,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i;let l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return Eg(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new xg(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Dp(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new xg(n,t,r)}(n);if(o.toRoot())return Eg(t.root,new Hp([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new Rg(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Rg(e,e===t.root,0)}const r=Tg(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Rg(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Ig(s.segmentGroup,s.index,o.commands):jg(s.segmentGroup,s.index,o.commands);return Eg(s.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,l,c)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Bg(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Bg(e))return Np(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Np(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new hp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){const o=this.getTransition(),s="imperative"!==t&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===e.toString();if(s&&a)return Promise.resolve(!0);let c,l,u;i?(c=i.resolve,l=i.reject,u=i.promise):u=new Promise((e,t)=>{c=e,l=t});const h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(mr(Jn),mr($p),mr(Pm),mr(Tu),mr(is),mr(eu),mr(Pl),mr(void 0))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Lm=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new S,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Mm(this.skipLocationChange),replaceUrl:Mm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mm(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Ss(Am),Ss(gg),Wn("tabindex"),Ss(Ua),Ss(Fa))},e.\u0275dir=ze({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Ds("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ct]}),e})(),Dm=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new S,this.subscription=e.events.subscribe(e=>{e instanceof hp&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Mm(this.skipLocationChange),replaceUrl:Mm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mm(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Ss(Am),Ss(gg),Ss(_u))},e.\u0275dir=ze({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Ds("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(fa("href",t.href,Xr),bs("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ct]}),e})();function Mm(e){return""===e||!!e}let Nm=(()=>{class e{constructor(e,t,n,r,i,o){this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof hp&&this.update()})}ngAfterContentInit(){M([this.links.changes,this.linksWithHrefs.changes,Sh(null)]).pipe(q()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=M(t).pipe(q()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Am),Ss(Fa),Ss(Ua),Ss(ac),Ss(Lm,8),Ss(Dm,8))},e.\u0275dir=ze({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){if(1&e&&(il(n,Lm,!0),il(n,Dm,!0)),2&e){let e;nl(e=ol())&&(t.links=e),nl(e=ol())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ct]}),e})(),Fm=(()=>{class e{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new zc,this.deactivateEvents=new zc,this.name=r||Op,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Vm(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Pm),Ss(bc),Ss(La),Wn("name"),Ss(ac))},e.\u0275dir=ze({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Vm{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===gg?this.route:e===Pm?this.childContexts:this.parent.get(e,t)}}class Um{}class Bm{preload(e,t){return Sh(null)}}let Hm=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Om(t,n,t=>e.triggerEvent(new bp(t)),t=>e.triggerEvent(new _p(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Th(e=>e instanceof hp),Ch(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(mc);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return M(n).pipe(q(),O(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(U(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(mr(Am),mr(eu),mr(Pl),mr(is),mr(Um))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),qm=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Tp&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Tp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(mr(Am),mr(_h),mr(void 0))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const zm=new Qn("ROUTER_CONFIGURATION"),Wm=new Qn("ROUTER_FORROOT_GUARD"),$m=[Tu,{provide:$p,useClass:Gp},{provide:Am,useFactory:function(e,t,n,r,i,o,s,a={},c,l){const u=new Am(null,e,t,n,r,i,o,Ap(s));if(c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing){const e=lu();u.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u},deps:[$p,Pm,Tu,is,eu,Pl,Tm,zm,[class{},new or],[class{},new or]]},Pm,{provide:gg,useFactory:function(e){return e.routerState.root},deps:[Am]},{provide:eu,useClass:ru},Hm,Bm,class{preload(e,t){return t().pipe(np(()=>Sh(null)))}},{provide:zm,useValue:{enableTracing:!1}}];function Gm(){return new Gl("Router",Am)}let Qm=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[$m,Zm(t),{provide:Wm,useFactory:Ym,deps:[[Am,new or,new ar]]},{provide:zm,useValue:n||{}},{provide:_u,useFactory:Jm,deps:[hu,[new ir(ku),new or],zm]},{provide:qm,useFactory:Km,deps:[Am,_h,zm]},{provide:Um,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Bm},{provide:Gl,multi:!0,useFactory:Gm},[Xm,{provide:ul,multi:!0,useFactory:ey,deps:[Xm]},{provide:ny,useFactory:ty,deps:[Xm]},{provide:yl,multi:!0,useExisting:ny}]]}}static forChild(t){return{ngModule:e,providers:[Zm(t)]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)(mr(Wm,8),mr(Am,8))}}),e})();function Km(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new qm(e,t,n)}function Jm(e,t,n={}){return n.useHash?new Cu(e,t):new Su(e,t)}function Ym(e){return"guarded"}function Zm(e){return[{provide:Kn,multi:!0,useValue:e},{provide:Tm,multi:!0,useValue:e}]}let Xm=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(fu,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Am),r=this.injector.get(zm);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Sh(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(zm),n=this.injector.get(Hm),r=this.injector.get(qm),i=this.injector.get(Am),o=this.injector.get(Zl);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(mr(is))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function ey(e){return e.appInitializer.bind(e)}function ty(e){return e.bootstrapListener.bind(e)}const ny=new Qn("Router Initializer");let ry=(()=>{let e=class{constructor(e,t){const n=t.useRef("router");e.events.subscribe(t=>{const r=this.getCurrentNavigationState(e);r&&r.ignoreLoadingBar||(t instanceof up&&n.start(),(t instanceof fp||t instanceof hp||t instanceof dp)&&n.complete())})}getCurrentNavigationState(e){const t=e.getCurrentNavigation&&e.getCurrentNavigation();return t&&t.extras?t.extras.state:{}}};return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)(mr(Am),mr(Mf))},imports:[[Qm,Nf],Qm,Nf]}),e=Ff([Vf("design:paramtypes",[Am,Mf])],e),e})(),iy=(()=>{let e=class{constructor(e){this.loader=e}intercept(e,t){if(e.headers.has("ignoreLoadingBar"))return t.handle(e.clone({headers:e.headers.delete("ignoreLoadingBar")}));let n=!1;const r=this.loader.useRef("http");return t.handle(e).pipe(pf(()=>{n||(r.start(),n=!0)}),sp(()=>n&&r.complete()))}};return e.\u0275fac=function(t){return new(t||e)(mr(Mf))},e.\u0275prov=ae({token:e,factory:function(t){return e.\u0275fac(t)}}),e=Ff([Vf("design:paramtypes",[Mf])],e),e})(),oy=(()=>{let e=class{};return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[{provide:$h,useClass:iy,multi:!0}],imports:[[od,Nf],od,Nf]}),e})();class sy{}let ay=(()=>{class e{constructor(){this.unsubscribe$=new S,this.isLoading=!1,this.isError=!1,this.isSaved=!1,this.isSaving=!1,this.items=[],this.query="",this.pager=new sy,this.pageNo=1,this.myNumbers=[],this.allowedRoles=[],this.subs=[]}set add(e){this.subs.push(e)}dispose(){this.subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ze({type:e}),e})();class cy{}function ly(e){return t=>t.lift(new uy(e,t))}class uy{constructor(e,t){this.notifier=e,this.source=t}call(e,t){return t.subscribe(new hy(e,this.notifier,this.source))}}class hy extends F{constructor(e,t,n){super(e),this.notifier=t,this.source=n}error(e){if(!this.isStopped){let n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new S;try{const{notifier:e}=this;r=e(n)}catch(t){return super.error(t)}i=V(r,new N(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(e)}}_unsubscribe(){const{errors:e,retriesSubscription:t}=this;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:e}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)}}function dy(e,t=Kd){var n;const r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new fy(r,t))}class fy{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new py(e,this.delay,this.scheduler))}}class py extends p{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,i=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(py.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new gy(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Pf.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Pf.createComplete()),this.unsubscribe()}}class gy{constructor(e,t){this.time=e,this.notification=t}}let my=(()=>{class e{constructor(e,t){this.http=e,this.tokenService=t}getLanguages(e=1,t=""){return this.http.get(`https://zoomclone.azurewebsites.net/Language/GetLanguages?page=${e}&query=${t}`).pipe(ly(e=>e.pipe(dy(3e3),Xf(t=>{if(t>=5)throw e;return t++,console.log("Retrying Attempts: "+t),t},0))))}createLanguage(e){return this.http.post("https://zoomclone.azurewebsites.net/Language/Create",e)}}return e.\u0275fac=function(t){return new(t||e)(mr(zh),mr(ud))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class yy{}const vy="*";function by(e,t=null){return{type:4,styles:t,timings:e}}function _y(e,t=null){return{type:2,steps:e,options:t}}function wy(e){return{type:6,styles:e,offset:null}}function ky(e,t,n){return{type:0,name:e,styles:t,options:n}}function Sy(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function Cy(e){Promise.resolve(null).then(e)}class Ty{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Cy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Oy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?Cy(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const Ey=["toast-component",""];function Py(e,t){if(1&e){const e=Is();Os(0,"button",5),Ds("click",function(){return At(e),Fs().remove()}),Os(1,"span",6),ca(2,"\xd7"),Es(),Es()}}function xy(e,t){if(1&e&&(xs(0),ca(1),Rs()),2&e){const e=Fs(2);Wi(1),ua("[",e.duplicatesCount+1,"]")}}function Ry(e,t){if(1&e&&(Os(0,"div"),ca(1),ws(2,xy,2,1,"ng-container",4),Es()),2&e){const e=Fs();Js(e.options.titleClass),bs("aria-label",e.title),Wi(1),ua(" ",e.title," "),Wi(1),Cs("ngIf",e.duplicatesCount)}}function jy(e,t){if(1&e&&Ps(0,"div",7),2&e){const e=Fs();Js(e.options.messageClass),Cs("innerHTML",e.message,Zr)}}function Iy(e,t){if(1&e&&(Os(0,"div",8),ca(1),Es()),2&e){const e=Fs();Js(e.options.messageClass),bs("aria-label",e.message),Wi(1),ua(" ",e.message," ")}}function Ay(e,t){if(1&e&&(Os(0,"div"),Ps(1,"div",9),Es()),2&e){const e=Fs();Wi(1),Qs("width",e.width+"%")}}function Ly(e,t){if(1&e){const e=Is();Os(0,"button",5),Ds("click",function(){return At(e),Fs().remove()}),Os(1,"span",6),ca(2,"\xd7"),Es(),Es()}}function Dy(e,t){if(1&e&&(xs(0),ca(1),Rs()),2&e){const e=Fs(2);Wi(1),ua("[",e.duplicatesCount+1,"]")}}function My(e,t){if(1&e&&(Os(0,"div"),ca(1),ws(2,Dy,2,1,"ng-container",4),Es()),2&e){const e=Fs();Js(e.options.titleClass),bs("aria-label",e.title),Wi(1),ua(" ",e.title," "),Wi(1),Cs("ngIf",e.duplicatesCount)}}function Ny(e,t){if(1&e&&Ps(0,"div",7),2&e){const e=Fs();Js(e.options.messageClass),Cs("innerHTML",e.message,Zr)}}function Fy(e,t){if(1&e&&(Os(0,"div",8),ca(1),Es()),2&e){const e=Fs();Js(e.options.messageClass),bs("aria-label",e.message),Wi(1),ua(" ",e.message," ")}}function Vy(e,t){if(1&e&&(Os(0,"div"),Ps(1,"div",9),Es()),2&e){const e=Fs();Wi(1),Qs("width",e.width+"%")}}class Uy{constructor(e,t,n,r,i,o){this.toastId=e,this.config=t,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new S,this._onAction=new S,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const By={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Hy=new Qn("ToastConfig");class qy{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class zy extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,n){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=n}attachComponentPortal(e,t){const n=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=n.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Wy=(()=>{class e{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return e.\u0275fac=function(t){return new(t||e)(mr(uu))},e.\u0275prov=ae({factory:function(){return new e(mr(uu))},token:e,providedIn:"root"}),e})();class $y{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Gy=(()=>{class e{constructor(e,t,n,r){this._overlayContainer=e,this._componentFactoryResolver=t,this._appRef=n,this._document=r,this._paneElements=new Map}create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new zy(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new $y(this._createPortalHost(e))}}return e.\u0275fac=function(t){return new(t||e)(mr(Wy),mr(La),mr(Zl),mr(uu))},e.\u0275prov=ae({factory:function(){return new e(mr(Wy),mr(La),mr(Zl),mr(uu))},token:e,providedIn:"root"}),e})();class Qy{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new S,this._activate=new S,this._manualClose=new S,this._resetTimeout=new S,this._countDuplicate=new S}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class Ky{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,n){return e===Uy?this._toastPackage:this._parentInjector.get(e,t,n)}}let Jy=(()=>{class e{constructor(e,t,n,r,i){this.overlay=t,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}show(e,t,n={},r=""){return this._preBuildNotification(r,e,t,this.applyConfig(n))}success(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}error(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}info(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}warning(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}clear(e){for(const t of this.toasts)if(void 0!==e){if(t.toastId===e)return void t.toastRef.manualClose()}else t.toastRef.manualClose()}remove(e){const t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const e=this.toasts[this.currentlyActive].toastRef;e.isInactive()||(this.currentlyActive=this.currentlyActive+1,e.activate())}return!0}findDuplicate(e="",t="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const o of this.toasts){const s=i&&o.title===e;if((!i||s)&&o.message===t)return o.toastRef.onDuplicate(n,r),o}return null}applyConfig(e={}){return Object.assign(Object.assign({},this.toastrConfig),e)}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,n,r)):this._buildNotification(e,t,n,r)}_buildNotification(e,t,n,r){if(!r.toastComponent)throw new Error("toastComponent required");const i=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=t;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const s=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let a=t;t&&r.enableHtml&&(a=this.sanitizer.sanitize(Yr.HTML,t));const c=new Qy(s),l=new Uy(this.index,r,a,n,e,c),u=new Ky(l,this._injector),h=new qy(r.toastComponent,u),d=s.attach(h,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const f={toastId:this.index,title:n||"",message:t||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{f.toastRef.activate()})),this.toasts.push(f),f}}return e.\u0275fac=function(t){return new(t||e)(mr(Hy),mr(Gy),mr(is),mr(Nd),mr(jl))},e.\u0275prov=ae({factory:function(){return new e(mr(Hy),mr(Gy),mr(Ho),mr(Nd),mr(jl))},token:e,providedIn:"root"}),e})(),Yy=(()=>{class e{constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(e=>{this.duplicatesCount=e})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}var t;return e.\u0275fac=function(t){return new(t||e)(Ss(Jy),Ss(Uy),Ss(jl))},e.\u0275cmp=Fe({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&Ds("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(pa("@flyInOut",t.state),Js(t.toastClasses),Qs("display",t.displayStyle))},attrs:Ey,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(ws(0,Py,3,0,"button",0),ws(1,Ry,3,5,"div",1),ws(2,jy,1,3,"div",2),ws(3,Iy,2,4,"div",3),ws(4,Ay,2,2,"div",4)),2&e&&(Cs("ngIf",t.options.closeButton),Wi(1),Cs("ngIf",t.title),Wi(1),Cs("ngIf",t.message&&t.options.enableHtml),Wi(1),Cs("ngIf",t.message&&!t.options.enableHtml),Wi(1),Cs("ngIf",t.options.progressBar))},directives:[dh],encapsulation:2,data:{animation:[(t=[ky("inactive",wy({opacity:0})),ky("active",wy({opacity:1})),ky("removed",wy({opacity:0})),Sy("inactive => active",by("{{ easeTime }}ms {{ easing }}")),Sy("active => removed",by("{{ easeTime }}ms {{ easing }}"))],{type:7,name:"flyInOut",definitions:t,options:{}})]}}),e})();const Zy=Object.assign(Object.assign({},By),{toastComponent:Yy});let Xy=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:Hy,useValue:{default:Zy,config:t}}]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[vh]]}),e})(),ev=(()=>{class e{constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(e=>{this.duplicatesCount=e})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return e.\u0275fac=function(t){return new(t||e)(Ss(Jy),Ss(Uy),Ss(Zl))},e.\u0275cmp=Fe({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,t){1&e&&Ds("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(Js(t.toastClasses),Qs("display",t.displayStyle))},attrs:Ey,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(ws(0,Ly,3,0,"button",0),ws(1,My,3,5,"div",1),ws(2,Ny,1,3,"div",2),ws(3,Fy,2,4,"div",3),ws(4,Vy,2,2,"div",4)),2&e&&(Cs("ngIf",t.options.closeButton),Wi(1),Cs("ngIf",t.title),Wi(1),Cs("ngIf",t.message&&t.options.enableHtml),Wi(1),Cs("ngIf",t.message&&!t.options.enableHtml),Wi(1),Cs("ngIf",t.options.progressBar))},directives:[dh],encapsulation:2}),e})();function tv(e,t){return new v(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=M(e[a]);let l=!1;n.add(c.subscribe({next:e=>{l||(l=!0,s++),i[a]=e},error:e=>n.error(e),complete:()=>{o++,o!==r&&l||(s===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}Object.assign(Object.assign({},By),{toastComponent:ev});const nv=new Qn("NgValueAccessor"),rv={provide:nv,useExisting:ie(()=>iv),multi:!0};let iv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ua),Ss(Fa))},e.\u0275dir=ze({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Ds("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[ja([rv])]}),e})();const ov={provide:nv,useExisting:ie(()=>av),multi:!0},sv=new Qn("CompositionEventMode");let av=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=lu()?lu().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ua),Ss(Fa),Ss(sv,8))},e.\u0275dir=ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Ds("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[ja([ov])]}),e})();function cv(e){return null==e||0===e.length}function lv(e){return null!=e&&"number"==typeof e.length}const uv=new Qn("NgValidators"),hv=new Qn("NgAsyncValidators"),dv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fv{static min(e){return t=>{if(cv(t.value)||cv(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(cv(t.value)||cv(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return cv(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return cv(e.value)||dv.test(e.value)?null:{email:!0}}static minLength(e){return t=>cv(t.value)||!lv(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>lv(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return fv.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(cv(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(pv);return 0==t.length?null:function(e){return mv(yv(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(pv);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(c(t))return tv(t,null);if(l(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return tv(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return tv(e=1===e.length&&c(e[0])?e[0]:e,null).pipe(O(e=>t(...e)))}return tv(e,null)}(yv(e,t).map(gv)).pipe(O(mv))}}}function pv(e){return null!=e}function gv(e){const t=As(e)?M(e):e;return Ls(t),t}function mv(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function yv(e,t){return t.map(t=>t(e))}function vv(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function bv(e){return null!=e?fv.compose(vv(e)):null}function _v(e){return null!=e?fv.composeAsync(vv(e)):null}function wv(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function kv(e){return e._rawValidators}function Sv(e){return e._rawAsyncValidators}let Cv=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_v(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ze({type:e}),e})(),Tv=(()=>{class e extends Cv{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return Ov(t||e)},e.\u0275dir=ze({type:e,features:[ss]}),e})();const Ov=zn(Tv);class Ev extends Cv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pv{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let xv=(()=>{class e extends Pv{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ev,2))},e.\u0275dir=ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ks("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[ss]}),e})(),Rv=(()=>{class e extends Pv{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Tv,2))},e.\u0275dir=ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ks("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[ss]}),e})();const jv={provide:nv,useExisting:ie(()=>Iv),multi:!0};let Iv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ua),Ss(Fa))},e.\u0275dir=ze({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Ds("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[ja([jv])]}),e})();const Av={provide:nv,useExisting:ie(()=>Dv),multi:!0};let Lv=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Dv=(()=>{class e{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ev),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ua),Ss(Fa),Ss(Lv),Ss(is))},e.\u0275dir=ze({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Ds("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ja([Av])]}),e})();const Mv={provide:nv,useExisting:ie(()=>Nv),multi:!0};let Nv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ua),Ss(Fa))},e.\u0275dir=ze({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Ds("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[ja([Mv])]}),e})();const Fv={provide:nv,useExisting:ie(()=>Uv),multi:!0};function Vv(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Uv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Vv(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ua),Ss(Fa))},e.\u0275dir=ze({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Ds("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[ja([Fv])]}),e})(),Bv=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Vv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Ss(Fa),Ss(Ua),Ss(Uv,9))},e.\u0275dir=ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Hv={provide:nv,useExisting:ie(()=>zv),multi:!0};function qv(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let zv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ua),Ss(Fa))},e.\u0275dir=ze({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Ds("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[ja([Hv])]}),e})(),Wv=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(qv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(qv(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Ss(Fa),Ss(Ua),Ss(zv,9))},e.\u0275dir=ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function $v(e,t){return[...t.path,e]}function Gv(e,t){Kv(e,t,!0),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Yv(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Yv(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Qv(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Kv(e,t,n){const r=kv(e);null!==t.validator?e.setValidators(wv(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const i=Sv(e);if(null!==t.asyncValidator?e.setAsyncValidators(wv(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]),n){const n=()=>e.updateValueAndValidity();Qv(t._rawValidators,n),Qv(t._rawAsyncValidators,n)}}function Jv(e,t,n){if(null!==e){if(null!==t.validator){const n=kv(e);Array.isArray(n)&&n.length>0&&e.setValidators(n.filter(e=>e!==t.validator))}if(null!==t.asyncValidator){const n=Sv(e);Array.isArray(n)&&n.length>0&&e.setAsyncValidators(n.filter(e=>e!==t.asyncValidator))}}if(n){const e=()=>{};Qv(t._rawValidators,e),Qv(t._rawAsyncValidators,e)}}function Yv(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Zv(e,t){Kv(e,t,!1)}function Xv(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}const eb=[iv,Nv,Iv,Uv,zv,Dv];function tb(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function nb(e,t){if(!t)return null;Array.isArray(t);let n=void 0,r=void 0,i=void 0;return t.forEach(e=>{var t;e.constructor===av?n=e:(t=e,eb.some(e=>t.constructor===e)?r=e:i=e)}),i||r||n||null}function rb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ib="VALID",ob="INVALID",sb="PENDING",ab="DISABLED";function cb(e){return(db(e)?e.validators:e)||null}function lb(e){return Array.isArray(e)?bv(e):e||null}function ub(e,t){return(db(t)?t.asyncValidators:e)||null}function hb(e){return Array.isArray(e)?_v(e):e||null}function db(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class fb{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=lb(this._rawValidators),this._composedAsyncValidatorFn=hb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ib}get invalid(){return this.status===ob}get pending(){return this.status==sb}get disabled(){return this.status===ab}get enabled(){return this.status!==ab}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=lb(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=hb(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sb,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ab,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ib,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ib&&this.status!==sb||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ab:ib}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sb,this._hasOwnPendingAsyncValidator=!0;const t=gv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof gb?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof mb&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new zc,this.statusChanges=new zc}_calculateStatus(){return this._allControlsDisabled()?ab:this.errors?ob:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sb)?sb:this._anyControlsHaveStatus(ob)?ob:ib}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){db(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pb extends fb{constructor(e=null,t,n){super(cb(t),ub(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class gb extends fb{constructor(e,t,n){super(cb(t),ub(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof pb?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class mb extends fb{constructor(e,t,n){super(cb(t),ub(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof pb?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const yb={provide:Tv,useExisting:ie(()=>bb)},vb=(()=>Promise.resolve(null))();let bb=(()=>{class e extends Tv{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new zc,this.form=new gb({},bv(e),_v(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){vb.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Gv(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){vb.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),rb(this._directives,e)})}addFormGroup(e){vb.then(()=>{const t=this._findContainer(e.path),n=new gb({});Zv(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){vb.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){vb.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,tb(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(Ss(uv,10),Ss(hv,10))},e.\u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Ds("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ja([yb]),ss]}),e})();const _b={provide:Ev,useExisting:ie(()=>kb)},wb=(()=>Promise.resolve(null))();let kb=(()=>{class e extends Ev{constructor(e,t,n,r){super(),this.control=new pb,this._registered=!1,this.update=new zc,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=nb(0,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Xv(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?$v(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){wb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;wb.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Ss(Tv,9),Ss(uv,10),Ss(hv,10),Ss(nv,10))},e.\u0275dir=ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ja([_b]),ss,ct]}),e})(),Sb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Cb=new Qn("NgModelWithFormControlWarning"),Tb={provide:Tv,useExisting:ie(()=>Ob)};let Ob=(()=>{class e extends Tv{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new zc,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return Gv(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){rb(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);Zv(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);Zv(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,tb(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){const n=()=>{};t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n),Jv(e,t,!0),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}(e.control||null,e),t&&Gv(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kv(this.form,this,!1),this._oldForm&&Jv(this._oldForm,this,!1)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(Ss(uv,10),Ss(hv,10))},e.\u0275dir=ze({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&Ds("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ja([Tb]),ss,ct]}),e})();const Eb={provide:Ev,useExisting:ie(()=>Pb)};let Pb=(()=>{class e extends Ev{constructor(e,t,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new zc,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=nb(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Xv(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return $v(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(Ss(Tv,13),Ss(uv,10),Ss(hv,10),Ss(nv,10),Ss(Cb,8))},e.\u0275dir=ze({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ja([Eb]),ss,ct]}),e._ngModelWarningSentOnce=!1,e})();const xb={provide:uv,useExisting:ie(()=>Rb),multi:!0};let Rb=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}validate(e){return this.required?fv.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ze({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&bs("required",t.required?"":null)},inputs:{required:"required"},features:[ja([xb])]}),e})();const jb={provide:uv,useExisting:ie(()=>Ib),multi:!0};let Ib=(()=>{class e{constructor(){this._validator=fv.nullValidator}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=fv.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ze({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&bs("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[ja([jb]),ct]}),e})(),Ab=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)}}),e})(),Lb=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new gb(n,{asyncValidators:i,updateOn:o,validators:r})}control(e,t,n){return new pb(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new mb(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof pb||e instanceof gb||e instanceof mb?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Db=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[Lv],imports:[Ab]}),e})(),Mb=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Cb,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[Lb,Lv],imports:[Ab]}),e})();const Nb=function(e){return{position:e}};function Fb(e,t){if(1&e&&(Os(0,"div",1),Os(1,"div",2),Os(2,"span",3),ca(3,"Loading..."),Es(),Es(),Es()),2&e){const e=Fs();Cs("ngStyle",Lc(1,Nb,e._isLoading?"relative":""))}}let Vb=(()=>{class e{constructor(){this._isLoading=!1}set isLoading(e){this._isLoading=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-loader"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["style","height: 70vh;",3,"ngStyle",4,"ngIf"],[2,"height","70vh",3,"ngStyle"],["role","status",1,"spinner-border","text-primary",2,"position","absolute","top","0","bottom","0","left","0","right","0","margin","auto"],[1,"sr-only"]],template:function(e,t){1&e&&ws(0,Fb,4,3,"div",0),2&e&&Cs("ngIf",t._isLoading)},directives:[dh,gh],styles:['.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:100px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite;stroke-linecap:round}@keyframes rotate{to{transform:rotate(1turn)}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes color{0%,to{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}.showbox[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;padding:5%}']}),e})();function Ub(e,t){if(1&e){const e=Is();Os(0,"li",5),Os(1,"a",6),Ds("click",function(){At(e);const t=Fs(2);return t.getNextPage(t._pager.currentPage-1)}),ca(2,"Previous"),Es(),Es()}}function Bb(e,t){if(1&e){const e=Is();Os(0,"li"),Os(1,"a",6),Ds("click",function(){At(e);const n=t.$implicit;return Fs(2).getNextPage(n)}),ca(2),Es(),Es()}if(2&e){const e=t.$implicit;da("page-item ",Fs(2)._pager.currentPage==e?"active":"",""),Wi(2),la(e)}}function Hb(e,t){if(1&e){const e=Is();Os(0,"li",5),Os(1,"a",6),Ds("click",function(){At(e);const t=Fs(2);return t.getNextPage(t._pager.currentPage+1)}),ca(2,"Next"),Es(),Es()}}function qb(e,t){if(1&e&&(Os(0,"nav",1),Os(1,"ul",2),ws(2,Ub,3,0,"li",3),ws(3,Bb,3,4,"li",4),ws(4,Hb,3,0,"li",3),Es(),Es()),2&e){const e=Fs();Wi(2),Cs("ngIf",e._pager.currentPage>1&&e._pager.totalPages>1),Wi(1),Cs("ngForOf",e.myNumbers),Wi(1),Cs("ngIf",e._pager.currentPage<e._pager.totalPages)}}let zb=(()=>{class e{constructor(){this.myNumbers=[],this._pager=new sy,this._isPaginationLoading=!1,this.nextPage=new zc}set isPaginationLoading(e){this._isPaginationLoading=e}set pager(e){this._pager=e,this.runIT()}runIT(){if(this.myNumbers=[],null!=this._pager&&this._pager.currentPage>0)for(let e=this._pager.startPage;e<=this._pager.endPage;e++)this.myNumbers.push(e)}getNextPage(e){this.nextPage.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-paginaton"]],inputs:{isPaginationLoading:"isPaginationLoading",pager:"pager"},outputs:{nextPage:"nextPage"},decls:1,vars:1,consts:[["aria-label","Page navigation example","style","cursor: pointer;",4,"ngIf"],["aria-label","Page navigation example",2,"cursor","pointer"],[1,"pagination"],["class","page-item",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"page-item"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&ws(0,qb,5,3,"nav",0),2&e&&Cs("ngIf",t._pager.totalPages>1&&!t._isPaginationLoading)},directives:[dh,uh],styles:[""]}),e})();function Wb(e,t){if(1&e&&(Os(0,"div",3),Ps(1,"i",4),Os(2,"strong"),ca(3),Es(),Es()),2&e){const e=Fs();Wi(3),la(e.Message)}}function $b(e,t){if(1&e&&(Os(0,"div",5),Ps(1,"i",6),Os(2,"strong"),ca(3),Es(),Es()),2&e){const e=Fs();Wi(3),la(e.Message)}}function Gb(e,t){if(1&e&&(Os(0,"div",7),Ps(1,"i",8),Os(2,"strong"),ca(3),Es(),Es()),2&e){const e=Fs();Wi(3),la(e.Message)}}let Qb=(()=>{class e{constructor(){this.Classes="",this.Message="",this._isSuccess=!1,this._isWarning=!1,this._isDanger=!1}set SetMessage(e){this.Message=e}set isSuccess(e){this._isSuccess=e}set isWarning(e){this._isWarning=e}set isDanger(e){this._isDanger=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-success"]],inputs:{SetMessage:"SetMessage",isSuccess:"isSuccess",isWarning:"isWarning",isDanger:"isDanger"},decls:3,vars:3,consts:[["class","shadow-sm alert alert-warning","style","border-left: 5px solid #efa31d;",4,"ngIf"],["class","shadow-sm alert alert-success text-success","style","border-left: 5px solid;",4,"ngIf"],["class","shadow-sm alert alert-danger text-danger","style","border-left: 5px solid;",4,"ngIf"],[1,"shadow-sm","alert","alert-warning",2,"border-left","5px solid #efa31d"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"shadow-sm","alert","alert-success","text-success",2,"border-left","5px solid"],[1,"fas","fa-check-circle","mr-2"],[1,"shadow-sm","alert","alert-danger","text-danger",2,"border-left","5px solid"],[1,"fas","fa-times-circle","mr-2"]],template:function(e,t){1&e&&(ws(0,Wb,4,1,"div",0),ws(1,$b,4,1,"div",1),ws(2,Gb,4,1,"div",2)),2&e&&(Cs("ngIf",t._isWarning),Wi(1),Cs("ngIf",t._isSuccess),Wi(1),Cs("ngIf",t._isDanger))},directives:[dh],styles:[""]}),e})(),Kb=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-notfoundanyrecord"]],decls:8,vars:0,consts:[[1,"alert","alert-dismissible","alert-warning"],["type","button","data-dismiss","alert",1,"close"],[1,"alert-heading"],[1,"mb-0"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"button",1),ca(2,"\xd7"),Es(),Os(3,"h4",2),Os(4,"strong"),ca(5,"Nothing found."),Es(),Es(),Os(6,"p",3),ca(7,"We found nothing from your search."),Es(),Es())},styles:[""]}),e})();function Jb(e,t){1&e&&Ps(0,"app-notfoundanyrecord")}function Yb(e,t){if(1&e&&(Os(0,"tr",41),Os(1,"th",42),ca(2),Es(),Os(3,"td",42),ca(4),Es(),Es()),2&e){const e=t.$implicit;Wi(2),la(e.name),Wi(2),ua("",e.nativeName," ")}}function Zb(e,t){if(1&e&&(Os(0,"table",38),Os(1,"thead"),Os(2,"tr"),Os(3,"th",39),ca(4,"Language"),Es(),Os(5,"th",39),ca(6,"Native Name"),Es(),Es(),Es(),Os(7,"tbody"),ws(8,Yb,5,2,"tr",40),Es(),Es()),2&e){const e=Fs();Wi(8),Cs("ngForOf",e.items)}}function Xb(e,t){1&e&&Ps(0,"span",43)}function e_(e,t){1&e&&(Os(0,"span"),ca(1,"Save changes"),Es())}let t_=(()=>{class e extends ay{constructor(e,t,n,r){super(),this.languageServices=e,this.router=t,this.toastrService=n,this.tokenService=r,this.language=new cy,this.allowedRoles=this.tokenService.getUserRoles()}ngOnInit(){this.getItems()}onLanguageSubmitForm(e){this.isSaving=!0,this.add=this.languageServices.createLanguage(this.language).subscribe(e=>{e.isSuccess?this.isSaved=!0:(this.isError=!0,this.errorMessage=e.message)},e=>{console.log(e.error),this.isError=!0,this.errorMessage=e.message,this.isSaving=!1,401==e.status&&this.router.navigateByUrl("/Login")},()=>{e.reset(),this.language=new cy,this.isSaving=!1,this.isSaved=!0,this.getItems()})}showFormModal(){this.isSaved=!1,this.isError=!1,$("#languageModal").modal("show")}getItems(e=1){this.isLoading=!0,this.add=this.languageServices.getLanguages(e,this.query).subscribe(e=>{e.isSuccess?(this.items=e.listModel,this.pager=e.pager):(this.isError=!0,this.errorMessage=e.message,this.toastrService.error(e.message,"Error: "))},e=>{console.log(e.error),this.isError=!0,this.errorMessage=e.message,401==e.status&&this.router.navigateByUrl("/Login")},()=>{this.isLoading=!1})}reset(){this.query="",this.getItems()}ngOnDestroy(){this.dispose()}}return e.\u0275fac=function(t){return new(t||e)(Ss(my),Ss(Am),Ss(Jy),Ss(ud))},e.\u0275cmp=Fe({type:e,selectors:[["app-languages"]],features:[ss],decls:52,vars:18,consts:[[1,"container",2,"height","100%"],[1,"row"],[1,"col-md-3"],[1,"pr-2","mr-2",2,"display","inline-block","border-right","1px solid #593196"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-plus","ml-2"],[1,"badge","badge-primary"],[1,"col-md-6"],[1,"input-group","mb-3"],["type","text","required","","placeholder","Search here. . .","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[1,"fas","fa-sync-alt"],[3,"isLoading"],[4,"ngIf"],["class","table table-hover",4,"ngIf"],[3,"pager","isPaginationLoading","nextPage"],["id","languageModal","tabindex","-1","role","dialog",1,"modal","fixed-left","fade"],["role","document",1,"modal-dialog","modal-dialog-aside"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"ngSubmit"],["languageForm","ngForm"],[1,"modal-body"],[3,"isSuccess","isWarning","SetMessage"],[3,"isWarning","SetMessage"],[1,"form-group","required"],["type","hidden","name","languageID",3,"ngModel","ngModelChange"],["type","text","name","name","required","","minlength","3",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text","name","nativeName",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"table","table-hover"],["scope","col"],["class","table-light",4,"ngFor","ngForOf"],[1,"table-light"],["scope","row"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){const e=Is();Os(0,"div",0),Os(1,"div",1),Os(2,"div",2),Os(3,"span",3),Os(4,"button",4),Ds("click",function(){return t.showFormModal()}),ca(5," Add Language"),Ps(6,"i",5),Es(),Es(),Os(7,"span",6),ca(8),Es(),Es(),Ps(9,"div",7),Os(10,"div",2),Os(11,"div",8),Os(12,"input",9),Ds("ngModelChange",function(e){return t.query=e}),Es(),Os(13,"div",10),Os(14,"button",11),Ds("click",function(){return t.getItems()}),Ps(15,"i",12),Es(),Es(),Os(16,"div",10),Os(17,"button",11),Ds("click",function(){return t.reset()}),Ps(18,"i",13),Es(),Es(),Es(),Es(),Es(),Ps(19,"app-loader",14),ws(20,Jb,1,0,"app-notfoundanyrecord",15),ws(21,Zb,9,1,"table",16),Os(22,"app-paginaton",17),Ds("nextPage",function(e){return t.getItems(e)}),Es(),Os(23,"div",18),Os(24,"div",19),Os(25,"div",20),Os(26,"div",21),Os(27,"h5",22),ca(28,"Cancel Request"),Es(),Os(29,"button",23),Os(30,"span",24),ca(31,"\xd7"),Es(),Es(),Es(),Os(32,"form",25,26),Ds("ngSubmit",function(){At(e);const n=ks(33);return n.form.valid&&t.onLanguageSubmitForm(n)}),Os(34,"div",27),Ps(35,"app-success",28),Ps(36,"app-success",29),Os(37,"div",30),Os(38,"label"),ca(39,"Language Name:"),Es(),Os(40,"input",31),Ds("ngModelChange",function(e){return t.language.languageID=e}),Es(),Os(41,"input",32),Ds("ngModelChange",function(e){return t.language.name=e}),Es(),Es(),Os(42,"div",30),Os(43,"label"),ca(44,"Native Name:"),Es(),Os(45,"input",33),Ds("ngModelChange",function(e){return t.language.nativeName=e}),Es(),Es(),Es(),Os(46,"div",34),Os(47,"button",35),ca(48,"Close"),Es(),Os(49,"button",36),ws(50,Xb,1,0,"span",37),ws(51,e_,2,0,"span",15),Es(),Es(),Es(),Es(),Es(),Es(),Es()}if(2&e){const e=ks(33);Wi(8),ua("Total: ",t.pager.totalItems,""),Wi(4),Cs("ngModel",t.query),Wi(7),Cs("isLoading",t.isLoading),Wi(1),Cs("ngIf",!(t.items.length>0||t.isLoading)),Wi(1),Cs("ngIf",!t.isLoading&&t.items.length>0),Wi(1),Cs("pager",t.pager)("isPaginationLoading",t.isLoading),Wi(13),Cs("isSuccess",t.isSaved)("isWarning",t.isError)("SetMessage","Data saved successfully"),Wi(1),Cs("isWarning",t.isError)("SetMessage",t.errorMessage),Wi(4),Cs("ngModel",t.language.languageID),Wi(1),Cs("ngModel",t.language.name),Wi(4),Cs("ngModel",t.language.nativeName),Wi(4),Cs("disabled",!e.valid||t.isSaving),Wi(1),Cs("ngIf",t.isSaving),Wi(1),Cs("ngIf",!t.isSaving)}},directives:[av,Rb,xv,kb,Vb,dh,zb,Sb,Rv,bb,Qb,Ib,Kb,uh],styles:[".modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{width:350px;max-width:80%;height:100%;margin:0;transform:translate(0);transition:transform .2s}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:inherit;border:0;border-radius:0}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal.fixed-left[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-left:auto;transform:translateX(100%)}.modal.fixed-right[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-right:auto;transform:translateX(-100%)}.modal.show[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{transform:translateX(0)}"]}),e})(),n_=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-dashboard"]],decls:18,vars:0,consts:[[1,"container-fluid"],[1,"h3","mb-0","text-gray-800","mb-2"],[1,"row"],[1,"col-xl-3","col-md-6"],[1,"card","border-left-primary","text-primary","shadow","h-100","py-2"],[1,"card-body"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-2"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],[1,"col-auto"],[1,"fas","fa-calendar","fa-2x","mt-2","text-gray-300"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"h1",1),ca(2,"Dashboard"),Es(),Os(3,"div",2),Os(4,"div",3),Os(5,"div",4),Os(6,"div",5),Os(7,"div",2),Os(8,"div",6),Os(9,"div",7),ca(10," Total Earning "),Es(),Os(11,"div",8),ca(12," $14000 "),Es(),Es(),Os(13,"div",9),Ps(14,"i",10),Es(),Es(),Es(),Es(),Es(),Ps(15,"div",3),Ps(16,"div",3),Ps(17,"div",3),Es(),Es())},styles:[".border-left-primary[_ngcontent-%COMP%]{border-left:.25rem solid!important}.text-gray-800[_ngcontent-%COMP%]{color:#5a5c69!important}.text-gray-300[_ngcontent-%COMP%]{color:#dddfeb!important}"]}),e})();class r_{constructor(){this.jobID=0,this.name="",this.description="",this.postedBy="",this.acceptedBy="",this.createdAt=new Date}}class i_{constructor(){this.username=""}}let o_=(()=>{class e{constructor(e,t){this.http=e,this.tokenService=t}getJobs(e=1,t=""){return this.http.get(`https://zoomclone.azurewebsites.net/Job/GetJobs?page=${e}&query=${t}`).pipe(ly(e=>e.pipe(dy(3e3),Xf(t=>{if(t>=5)throw e;return t++,console.log("Retrying Attempts: "+t),t},0))))}getMyJobs(e=1,t=""){return this.http.get(`https://zoomclone.azurewebsites.net/Job/GetMyJobs?page=${e}&query=${t}`)}createJob(e){return e.postedBy=this.tokenService.getUserName(),e.createdAt=new Date,this.http.post("https://zoomclone.azurewebsites.net/Job/Create",e)}acceptJob(e){return e.acceptedAt=new Date,e.acceptedBy=this.tokenService.getUserName(),this.http.post("https://zoomclone.azurewebsites.net/Job/AcceptJob",e)}assignJob(e){return this.http.post("https://zoomclone.azurewebsites.net/Job/AssignJob",e)}cancelJob(e){return this.http.post("https://zoomclone.azurewebsites.net/Job/CancelJob",e)}getIceServers(){return this.http.get("https://zoomclone.azurewebsites.net/Notification/Get")}}return e.\u0275fac=function(t){return new(t||e)(mr(zh),mr(ud))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),s_=(()=>{class e{constructor(){this.jobstatus="",this.badgeClass=""}set jobState(e){this.getJobStatus(e)}getJobStatus(e){switch(e){case 0:this.jobstatus="Open",this.badgeClass="badge-success";break;case 1:this.jobstatus="In Progress",this.badgeClass="badge-info";break;case 2:this.jobstatus="Completed",this.badgeClass="badge-success";break;case 3:this.jobstatus="Rejected",this.badgeClass="badge-danger";break;case 4:this.jobstatus="Cancelled",this.badgeClass="badge-warning";break;default:this.jobstatus="",this.badgeClass=""}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-coloredrow"]],inputs:{jobState:"jobState"},decls:2,vars:2,consts:[[1,"badge",3,"ngClass"]],template:function(e,t){1&e&&(Os(0,"span",0),ca(1),Es()),2&e&&(Cs("ngClass",t.badgeClass),Wi(1),ua(" ",t.jobstatus,"\n"))},directives:[ch],styles:[""]}),e})();function a_(e,t){1&e&&Ps(0,"app-notfoundanyrecord")}function c_(e,t){if(1&e){const e=Is();Os(0,"td",40),Ds("click",function(){At(e);const t=Fs().$implicit;return Fs(2).showaCancelModal(t.jobID)}),Ps(1,"i",41),Es()}}function l_(e,t){if(1&e&&(Os(0,"tr",36),Os(1,"th",37),ca(2),Es(),Os(3,"td"),Ps(4,"app-coloredrow",38),Es(),Os(5,"td"),ca(6),Es(),Os(7,"td"),ca(8),Vc(9,"date"),Es(),ws(10,c_,2,0,"td",39),Es()),2&e){const e=t.$implicit;Wi(2),la(e.name),Wi(2),Cs("jobState",e.jobState),Wi(2),ua("",e.postedBy," "),Wi(2),la(Uc(9,5,e.createdAt)),Wi(2),Cs("ngIf",0===e.jobState)}}function u_(e,t){if(1&e&&(Os(0,"table",32),Os(1,"thead"),Os(2,"tr"),Os(3,"th",33),ca(4,"Request for language"),Es(),Os(5,"th",33),ca(6,"Request State"),Es(),Os(7,"th",33),ca(8,"Requested By"),Es(),Os(9,"th",33),ca(10,"Requested Date"),Es(),Os(11,"th",34),ca(12,"Cancel"),Es(),Es(),Es(),Os(13,"tbody"),ws(14,l_,11,7,"tr",35),Es(),Es()),2&e){const e=Fs();Wi(14),Cs("ngForOf",e.items)}}function h_(e,t){1&e&&(Os(0,"div",42),ca(1," Your request has been cancelled. "),Es())}function d_(e,t){1&e&&Ps(0,"span",43)}function f_(e,t){1&e&&(Os(0,"span"),ca(1,"Save changes"),Es())}let p_=(()=>{class e extends ay{constructor(e,t,n,r){super(),this.jobService=e,this.router=t,this.toastrService=n,this.tokenService=r,this.job=new r_,this.selectedDate=new Date,this.cancelIsLoading=!1,this.isCancelled=!1,this.allowedRoles=this.tokenService.getUserRoles()}ngOnInit(){this.getItems()}getDate(e){}getDay(e){}getMonth(e){}getMonthName(e){}getYear(e){}onCancelSubmitForm(e){console.log(JSON.stringify(this.job)),this.cancelIsLoading=!0,this.add=this.jobService.cancelJob(this.job).subscribe(e=>{e.isSuccess&&(this.isCancelled=!0)},e=>{console.log(e.error),this.isError=!0,this.errorMessage=e.message,this.cancelIsLoading=!1,401==e.status&&this.router.navigateByUrl("/Login")},()=>{e.reset(),this.cancelIsLoading=!1,this.getItems()})}showaCancelModal(e){this.job.jobID=e,this.isCancelled=!1,$("#cancelModal").modal("show")}getItems(e=1){this.isLoading=!0,this.add=this.jobService.getMyJobs(e,this.query).subscribe(e=>{e.isSuccess?(this.items=e.listModel,this.pager=e.pager):(this.isError=!0,this.errorMessage=e.message,this.toastrService.error(e.message,"Error: "))},e=>{console.log(e.error),this.isError=!0,this.errorMessage=e.message,401==e.status&&this.router.navigateByUrl("/Login")},()=>{this.isLoading=!1})}reset(){this.query="",this.getItems()}ngOnDestroy(){this.dispose()}}return e.\u0275fac=function(t){return new(t||e)(Ss(o_),Ss(Am),Ss(Jy),Ss(ud))},e.\u0275cmp=Fe({type:e,selectors:[["app-sessions"]],features:[ss],decls:41,vars:12,consts:[[1,"container",2,"height","100%"],[1,"row"],[1,"col-md-3"],[1,"col-md-6"],[1,"input-group","mb-3"],["type","text","required","","placeholder","Search here. . .","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[1,"fas","fa-sync-alt"],[3,"isLoading"],[4,"ngIf"],["class","table table-hover",4,"ngIf"],[3,"pager","isPaginationLoading","nextPage"],["id","cancelModal","tabindex","-1","role","dialog",1,"modal","fixed-left","fade"],["role","document",1,"modal-dialog","modal-dialog-aside"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"ngSubmit"],["canceljobForm","ngForm"],[1,"modal-body"],["class","alert alert-warning",4,"ngIf"],[1,"form-group","required"],["type","hidden","name","jobID",3,"ngModel","ngModelChange"],["type","text","name","cancellationReason","required","","minlength","15",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"table","table-hover"],["scope","col"],["scope","col",1,"text-center"],["class","table-light",4,"ngFor","ngForOf"],[1,"table-light"],["scope","row"],[3,"jobState"],["class","text-center","style","cursor: pointer;",3,"click",4,"ngIf"],[1,"text-center",2,"cursor","pointer",3,"click"],[1,"fas","fa-power-off","text-danger"],[1,"alert","alert-warning"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){const e=Is();Os(0,"div",0),Os(1,"div",1),Ps(2,"div",2),Ps(3,"div",3),Os(4,"div",2),Os(5,"div",4),Os(6,"input",5),Ds("ngModelChange",function(e){return t.query=e}),Es(),Os(7,"div",6),Os(8,"button",7),Ds("click",function(){return t.getItems()}),Ps(9,"i",8),Es(),Es(),Os(10,"div",6),Os(11,"button",7),Ds("click",function(){return t.reset()}),Ps(12,"i",9),Es(),Es(),Es(),Es(),Es(),Ps(13,"app-loader",10),ws(14,a_,1,0,"app-notfoundanyrecord",11),ws(15,u_,15,1,"table",12),Os(16,"app-paginaton",13),Ds("nextPage",function(e){return t.getItems(e)}),Es(),Os(17,"div",14),Os(18,"div",15),Os(19,"div",16),Os(20,"div",17),Os(21,"h5",18),ca(22,"Cancel Request"),Es(),Os(23,"button",19),Os(24,"span",20),ca(25,"\xd7"),Es(),Es(),Es(),Os(26,"form",21,22),Ds("ngSubmit",function(){At(e);const n=ks(27);return n.form.valid&&t.onCancelSubmitForm(n)}),Os(28,"div",23),ws(29,h_,2,0,"div",24),Os(30,"div",25),Os(31,"label"),ca(32,"Please provide reason for cancellation of request:"),Es(),Os(33,"input",26),Ds("ngModelChange",function(e){return t.job.jobID=e}),Es(),Os(34,"input",27),Ds("ngModelChange",function(e){return t.job.cancellationReason=e}),Es(),Es(),Es(),Os(35,"div",28),Os(36,"button",29),ca(37,"Close"),Es(),Os(38,"button",30),ws(39,d_,1,0,"span",31),ws(40,f_,2,0,"span",11),Es(),Es(),Es(),Es(),Es(),Es(),Es()}if(2&e){const e=ks(27);Wi(6),Cs("ngModel",t.query),Wi(7),Cs("isLoading",t.isLoading),Wi(1),Cs("ngIf",!(t.items.length>0||t.isLoading)),Wi(1),Cs("ngIf",!t.isLoading&&t.items.length>0),Wi(1),Cs("pager",t.pager)("isPaginationLoading",t.isLoading),Wi(13),Cs("ngIf",!t.isCancelled),Wi(4),Cs("ngModel",t.job.jobID),Wi(1),Cs("ngModel",t.job.cancellationReason),Wi(4),Cs("disabled",!e.valid),Wi(1),Cs("ngIf",t.cancelIsLoading),Wi(1),Cs("ngIf",!t.cancelIsLoading)}},directives:[av,Rb,xv,kb,Vb,dh,zb,Sb,Rv,bb,Ib,Kb,uh,s_],pipes:[yh],styles:[".modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{width:350px;max-width:80%;height:100%;margin:0;transform:translate(0);transition:transform .2s}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:inherit;border:0;border-radius:0}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal.fixed-left[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-left:auto;transform:translateX(100%)}.modal.fixed-right[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-right:auto;transform:translateX(-100%)}.modal.show[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{transform:translateX(0)}"]}),e})(),g_=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-notfound"]],decls:13,vars:0,consts:[["id","layoutError"],["id","layoutError_content"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-6"],[1,"text-center","mt-4"],["src","/assets/error-404-monochrome.svg",1,"mb-4","img-error"],[1,"lead"],["routerLink","/Job"],[1,"fas","fa-arrow-left","mr-1"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"main"),Os(3,"div",2),Os(4,"div",3),Os(5,"div",4),Os(6,"div",5),Ps(7,"img",6),Os(8,"p",7),ca(9,"This requested URL was not found on this server."),Es(),Os(10,"a",8),Ps(11,"i",9),ca(12," Return to Home "),Es(),Es(),Es(),Es(),Es(),Es(),Es(),Es())},directives:[Dm],styles:[""]}),e})();var m_,y_=(m_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}m_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v_=function(e){function t(t,n){var r=this,i=this.constructor.prototype;return(r=e.call(this,t)||this).statusCode=n,r.__proto__=i,r}return y_(t,e),t}(Error),b_=function(e){function t(t){void 0===t&&(t="A timeout occurred.");var n=this,r=this.constructor.prototype;return(n=e.call(this,t)||this).__proto__=r,n}return y_(t,e),t}(Error),__=function(e){function t(t){void 0===t&&(t="An abort occurred.");var n=this,r=this.constructor.prototype;return(n=e.call(this,t)||this).__proto__=r,n}return y_(t,e),t}(Error),w_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k_=function(){return function(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}(),S_=function(){function e(){}return e.prototype.get=function(e,t){return this.send(w_({},t,{method:"GET",url:e}))},e.prototype.post=function(e,t){return this.send(w_({},t,{method:"POST",url:e}))},e.prototype.delete=function(e,t){return this.send(w_({},t,{method:"DELETE",url:e}))},e.prototype.getCookieString=function(e){return""},e}(),C_=function(e){return e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None",e}({}),T_=function(){function e(){}return e.prototype.log=function(e,t){},e.instance=new e,e}(),O_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E_=function(){function e(){}return e.isRequired=function(e,t){if(null==e)throw new Error("The '"+t+"' argument is required.")},e.isNotEmpty=function(e,t){if(!e||e.match(/^\s*$/))throw new Error("The '"+t+"' argument should not be empty.")},e.isIn=function(e,t,n){if(!(e in t))throw new Error("Unknown "+n+" value: "+e+".")},e}(),P_=function(){function e(){}return Object.defineProperty(e,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0}),e}();function x_(e,t){var n="";return R_(e)?(n="Binary data of length "+e.byteLength,t&&(n+=". Content: '"+function(e){var t=new Uint8Array(e),n="";return t.forEach(function(e){n+="0x"+(e<16?"0":"")+e.toString(16)+" "}),n.substr(0,n.length-1)}(e)+"'")):"string"==typeof e&&(n="String data of length "+e.length,t&&(n+=". Content: '"+e+"'")),n}function R_(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function j_(e,t,n,r,i,o,s,a,c){return l=this,void 0,h=function(){var l,u,h,d,f,p;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(g){switch(g.label){case 0:return u={},i?[4,i()]:[3,2];case 1:(h=g.sent())&&((l={}).Authorization="Bearer "+h,u=l),g.label=2;case 2:return d=L_(),u[d[0]]=d[1],e.log(C_.Trace,"("+t+" transport) sending data. "+x_(o,s)+"."),f=R_(o)?"arraybuffer":"text",[4,n.post(r,{content:o,headers:O_({},u,c),responseType:f,withCredentials:a})];case 3:return p=g.sent(),e.log(C_.Trace,"("+t+" transport) request complete. Response status: "+p.statusCode+"."),[2]}})},new((u=void 0)||(u=Promise))(function(e,t){function n(e){try{i(h.next(e))}catch(n){t(n)}}function r(e){try{i(h.throw(e))}catch(n){t(n)}}function i(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}i((h=h.apply(l,[])).next())});var l,u,h}var I_=function(){function e(e,t){this.subject=e,this.observer=t}return e.prototype.dispose=function(){var e=this.subject.observers.indexOf(this.observer);e>-1&&this.subject.observers.splice(e,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch(function(e){})},e}(),A_=function(){function e(e){this.minimumLogLevel=e,this.outputConsole=console}return e.prototype.log=function(e,t){if(e>=this.minimumLogLevel)switch(e){case C_.Critical:case C_.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+C_[e]+": "+t);break;case C_.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+C_[e]+": "+t);break;case C_.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+C_[e]+": "+t);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+C_[e]+": "+t)}},e}();function L_(){var e,t,n,r,i,o,s="X-SignalR-User-Agent";return P_.isNode&&(s="User-Agent"),[s,(e="5.0.2",t=D_(),n=P_.isNode?"NodeJS":"Browser",r=M_(),i="Microsoft SignalR/",o=e.split("."),i+=o[0]+"."+o[1],i+=" (5.0.2; ",i+=t&&""!==t?t+"; ":"Unknown OS; ",i+=""+n,i+=r?"; "+r:"; Unknown Runtime Version",i+=")")]}function D_(){if(!P_.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function M_(){if(P_.isNode)return process.versions.node}var N_=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},V_=function(e){function t(t){var n=e.call(this)||this;if(n.logger=t,"undefined"==typeof fetch){var r=require;n.jar=new(r("tough-cookie").CookieJar),n.fetchType=r("node-fetch"),n.fetchType=r("fetch-cookie")(n.fetchType,n.jar),n.abortControllerType=r("abort-controller")}else n.fetchType=fetch.bind(self),n.abortControllerType=AbortController;return n}return N_(t,e),t.prototype.send=function(e){return t=this,void 0,r=function(){var t,n,r,i,o,s,a=this;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(c){switch(c.label){case 0:if(e.abortSignal&&e.abortSignal.aborted)throw new __;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");t=new this.abortControllerType,e.abortSignal&&(e.abortSignal.onabort=function(){t.abort(),n=new __}),r=null,e.timeout&&(r=setTimeout(function(){t.abort(),a.logger.log(C_.Warning,"Timeout from HTTP request."),n=new b_},e.timeout)),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:F_({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"manual",signal:t.signal})];case 2:return i=c.sent(),[3,5];case 3:if(o=c.sent(),n)throw n;throw this.logger.log(C_.Warning,"Error from HTTP request. "+o+"."),o;case 4:return r&&clearTimeout(r),e.abortSignal&&(e.abortSignal.onabort=null),[7];case 5:if(!i.ok)throw new v_(i.statusText,i.status);return[4,function(e,t){var n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(t+" is not supported.");default:n=e.text()}return n}(i,e.responseType)];case 6:return s=c.sent(),[2,new k_(i.status,i.statusText,s)]}})},new((n=void 0)||(n=Promise))(function(e,i){function o(e){try{a(r.next(e))}catch(t){i(t)}}function s(e){try{a(r.throw(e))}catch(t){i(t)}}function a(t){t.done?e(t.value):new n(function(e){e(t.value)}).then(o,s)}a((r=r.apply(t,[])).next())});var t,n,r},t.prototype.getCookieString=function(e){var t="";return P_.isNode&&this.jar&&this.jar.getCookies(e,function(e,n){return t=n.join("; ")}),t},t}(S_),U_=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B_=function(e){function t(t){var n=e.call(this)||this;return n.logger=t,n}return U_(t,e),t.prototype.send=function(e){var t=this;return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new __):e.method?e.url?new Promise(function(n,r){var i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=void 0===e.withCredentials||e.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var o=e.headers;o&&Object.keys(o).forEach(function(e){i.setRequestHeader(e,o[e])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){i.abort(),r(new __)}),e.timeout&&(i.timeout=e.timeout),i.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new k_(i.status,i.statusText,i.response||i.responseText)):r(new v_(i.statusText,i.status))},i.onerror=function(){t.logger.log(C_.Warning,"Error from HTTP request. "+i.status+": "+i.statusText+"."),r(new v_(i.statusText,i.status))},i.ontimeout=function(){t.logger.log(C_.Warning,"Timeout from HTTP request."),r(new b_)},i.send(e.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t}(S_),H_=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q_=function(e){function t(t){var n=e.call(this)||this;if("undefined"!=typeof fetch||P_.isNode)n.httpClient=new V_(t);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");n.httpClient=new B_(t)}return n}return H_(t,e),t.prototype.send=function(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new __):e.method?e.url?this.httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)},t}(S_),z_=function(){function e(){}return e.write=function(t){return""+t+e.RecordSeparator},e.parse=function(t){if(t[t.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");var n=t.split(e.RecordSeparator);return n.pop(),n},e.RecordSeparatorCode=30,e.RecordSeparator=String.fromCharCode(e.RecordSeparatorCode),e}(),W_=function(){function e(){}return e.prototype.writeHandshakeRequest=function(e){return z_.write(JSON.stringify(e))},e.prototype.parseHandshakeResponse=function(e){var t,n;if(R_(e)||"undefined"!=typeof Buffer&&e instanceof Buffer){var r=new Uint8Array(e);if(-1===(o=r.indexOf(z_.RecordSeparatorCode)))throw new Error("Message is incomplete.");var i=o+1;t=String.fromCharCode.apply(null,r.slice(0,i)),n=r.byteLength>i?r.slice(i).buffer:null}else{var o,s=e;if(-1===(o=s.indexOf(z_.RecordSeparator)))throw new Error("Message is incomplete.");t=s.substring(0,i=o+1),n=s.length>i?s.substring(i):null}var a=z_.parse(t),c=JSON.parse(a[0]);if(c.type)throw new Error("Expected a handshake response from the server.");return[n,c]},e}(),$_=function(e){return e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e}({}),G_=function(){function e(){this.observers=[]}return e.prototype.next=function(e){for(var t=0,n=this.observers;t<n.length;t++)n[t].next(e)},e.prototype.error=function(e){for(var t=0,n=this.observers;t<n.length;t++){var r=n[t];r.error&&r.error(e)}},e.prototype.complete=function(){for(var e=0,t=this.observers;e<t.length;e++){var n=t[e];n.complete&&n.complete()}},e.prototype.subscribe=function(e){return this.observers.push(e),new I_(this,e)},e}(),Q_=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},K_=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},J_=function(e){return e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting",e}({}),Y_=function(){function e(e,t,n,r){var i=this;E_.isRequired(e,"connection"),E_.isRequired(t,"logger"),E_.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=t,this.protocol=n,this.connection=e,this.reconnectPolicy=r,this.handshakeProtocol=new W_,this.connection.onreceive=function(e){return i.processIncomingData(e)},this.connection.onclose=function(e){return i.connectionClosed(e)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=J_.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:$_.Ping})}return e.create=function(t,n,r,i){return new e(t,n,r,i)},Object.defineProperty(e.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(e){if(this.connectionState!==J_.Disconnected&&this.connectionState!==J_.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e},enumerable:!0,configurable:!0}),e.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},e.prototype.startWithStateTransitions=function(){return Q_(this,void 0,void 0,function(){var e;return K_(this,function(t){switch(t.label){case 0:if(this.connectionState!==J_.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=J_.Connecting,this.logger.log(C_.Debug,"Starting HubConnection."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return t.sent(),this.connectionState=J_.Connected,this.connectionStarted=!0,this.logger.log(C_.Debug,"HubConnection connected successfully."),[3,4];case 3:return e=t.sent(),this.connectionState=J_.Disconnected,this.logger.log(C_.Debug,"HubConnection failed to start successfully because of error '"+e+"'."),[2,Promise.reject(e)];case 4:return[2]}})})},e.prototype.startInternal=function(){return Q_(this,void 0,void 0,function(){var e,t,n,r=this;return K_(this,function(i){switch(i.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,e=new Promise(function(e,t){r.handshakeResolver=e,r.handshakeRejecter=t}),[4,this.connection.start(this.protocol.transferFormat)];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),t={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(C_.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(t))];case 3:return i.sent(),this.logger.log(C_.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,e];case 4:if(i.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return n=i.sent(),this.logger.log(C_.Debug,"Hub handshake failed with error '"+n+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(n)];case 6:throw i.sent(),n;case 7:return[2]}})})},e.prototype.stop=function(){return Q_(this,void 0,void 0,function(){var e;return K_(this,function(t){switch(t.label){case 0:return e=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,e];case 3:case 4:return t.sent(),[3,5];case 5:return[2]}})})},e.prototype.stopInternal=function(e){return this.connectionState===J_.Disconnected?(this.logger.log(C_.Debug,"Call to HubConnection.stop("+e+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===J_.Disconnecting?(this.logger.log(C_.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=J_.Disconnecting,this.logger.log(C_.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(C_.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=e||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(e)))},e.prototype.stream=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i,o=this.replaceStreamingParams(n),s=o[0],a=o[1],c=this.createStreamInvocation(e,n,a),l=new G_;return l.cancelCallback=function(){var e=t.createCancelInvocation(c.invocationId);return delete t.callbacks[c.invocationId],i.then(function(){return t.sendWithProtocol(e)})},this.callbacks[c.invocationId]=function(e,t){t?l.error(t):e&&(e.type===$_.Completion?e.error?l.error(new Error(e.error)):l.complete():l.next(e.item))},i=this.sendWithProtocol(c).catch(function(e){l.error(e),delete t.callbacks[c.invocationId]}),this.launchStreams(s,i),l},e.prototype.sendMessage=function(e){return this.resetKeepAliveInterval(),this.connection.send(e)},e.prototype.sendWithProtocol=function(e){return this.sendMessage(this.protocol.writeMessage(e))},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.replaceStreamingParams(t),i=r[0],o=r[1],s=this.sendWithProtocol(this.createInvocation(e,t,!0,o));return this.launchStreams(i,s),s},e.prototype.invoke=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.replaceStreamingParams(n),o=i[0],s=i[1],a=this.createInvocation(e,n,!1,s),c=new Promise(function(e,n){t.callbacks[a.invocationId]=function(t,r){r?n(r):t&&(t.type===$_.Completion?t.error?n(new Error(t.error)):e(t.result):n(new Error("Unexpected message type: "+t.type)))};var r=t.sendWithProtocol(a).catch(function(e){n(e),delete t.callbacks[a.invocationId]});t.launchStreams(o,r)});return c},e.prototype.on=function(e,t){e&&t&&(e=e.toLowerCase(),this.methods[e]||(this.methods[e]=[]),-1===this.methods[e].indexOf(t)&&this.methods[e].push(t))},e.prototype.off=function(e,t){if(e){e=e.toLowerCase();var n=this.methods[e];if(n)if(t){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this.methods[e])}else delete this.methods[e]}},e.prototype.onclose=function(e){e&&this.closedCallbacks.push(e)},e.prototype.onreconnecting=function(e){e&&this.reconnectingCallbacks.push(e)},e.prototype.onreconnected=function(e){e&&this.reconnectedCallbacks.push(e)},e.prototype.processIncomingData=function(e){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(e=this.processHandshakeResponse(e),this.receivedHandshakeResponse=!0),e)for(var t=0,n=this.protocol.parseMessages(e,this.logger);t<n.length;t++){var r=n[t];switch(r.type){case $_.Invocation:this.invokeClientMethod(r);break;case $_.StreamItem:case $_.Completion:var i=this.callbacks[r.invocationId];i&&(r.type===$_.Completion&&delete this.callbacks[r.invocationId],i(r));break;case $_.Ping:break;case $_.Close:this.logger.log(C_.Information,"Close message received from server.");var o=r.error?new Error("Server returned an error on close: "+r.error):void 0;!0===r.allowReconnect?this.connection.stop(o):this.stopPromise=this.stopInternal(o);break;default:this.logger.log(C_.Warning,"Invalid message type: "+r.type+".")}}this.resetTimeoutPeriod()},e.prototype.processHandshakeResponse=function(e){var t,n,r,i;try{r=(t=this.handshakeProtocol.parseHandshakeResponse(e))[0],n=t[1]}catch(s){this.logger.log(C_.Error,i="Error parsing handshake response: "+s);var o=new Error(i);throw this.handshakeRejecter(o),o}if(n.error)throw this.logger.log(C_.Error,i="Server returned handshake error: "+n.error),o=new Error(i),this.handshakeRejecter(o),o;return this.logger.log(C_.Debug,"Server handshake complete."),this.handshakeResolver(),r},e.prototype.resetKeepAliveInterval=function(){var e=this;this.connection.features.inherentKeepAlive||(this.cleanupPingTimer(),this.pingServerHandle=setTimeout(function(){return Q_(e,void 0,void 0,function(){return K_(this,function(e){switch(e.label){case 0:if(this.connectionState!==J_.Connected)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return e.sent(),[3,4];case 3:return e.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}})})},this.keepAliveIntervalInMilliseconds))},e.prototype.resetTimeoutPeriod=function(){var e=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(function(){return e.serverTimeout()},this.serverTimeoutInMilliseconds))},e.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},e.prototype.invokeClientMethod=function(e){var t=this,n=this.methods[e.target.toLowerCase()];if(n){try{n.forEach(function(n){return n.apply(t,e.arguments)})}catch(i){this.logger.log(C_.Error,"A callback for the method "+e.target.toLowerCase()+" threw error '"+i+"'.")}if(e.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log(C_.Error,r),this.stopPromise=this.stopInternal(new Error(r))}}else this.logger.log(C_.Warning,"No client method with the name '"+e.target+"' found.")},e.prototype.connectionClosed=function(e){this.logger.log(C_.Debug,"HubConnection.connectionClosed("+e+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||e||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===J_.Disconnecting?this.completeClose(e):this.connectionState===J_.Connected&&this.reconnectPolicy?this.reconnect(e):this.connectionState===J_.Connected&&this.completeClose(e)},e.prototype.completeClose=function(e){var t=this;if(this.connectionStarted){this.connectionState=J_.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach(function(n){return n.apply(t,[e])})}catch(n){this.logger.log(C_.Error,"An onclose callback called with error '"+e+"' threw error '"+n+"'.")}}},e.prototype.reconnect=function(e){return Q_(this,void 0,void 0,function(){var t,n,r,i,o,s=this;return K_(this,function(a){switch(a.label){case 0:if(t=Date.now(),n=0,r=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),null===(i=this.getNextRetryDelay(n++,0,r)))return this.logger.log(C_.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(e),[2];if(this.connectionState=J_.Reconnecting,this.logger.log(C_.Information,e?"Connection reconnecting because of error '"+e+"'.":"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach(function(t){return t.apply(s,[e])})}catch(c){this.logger.log(C_.Error,"An onreconnecting callback called with error '"+e+"' threw error '"+c+"'.")}if(this.connectionState!==J_.Reconnecting)return this.logger.log(C_.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}a.label=1;case 1:return null===i?[3,7]:(this.logger.log(C_.Information,"Reconnect attempt number "+n+" will start in "+i+" ms."),[4,new Promise(function(e){s.reconnectDelayHandle=setTimeout(e,i)})]);case 2:if(a.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==J_.Reconnecting)return this.logger.log(C_.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(a.sent(),this.connectionState=J_.Connected,this.logger.log(C_.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach(function(e){return e.apply(s,[s.connection.connectionId])})}catch(c){this.logger.log(C_.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+c+"'.")}return[2];case 5:return o=a.sent(),this.logger.log(C_.Information,"Reconnect attempt failed because of error '"+o+"'."),this.connectionState!==J_.Reconnecting?(this.logger.log(C_.Debug,"Connection left the reconnecting state during reconnect attempt. Done reconnecting."),[2]):(r=o instanceof Error?o:new Error(o.toString()),i=this.getNextRetryDelay(n++,Date.now()-t,r),[3,6]);case 6:return[3,1];case 7:return this.logger.log(C_.Information,"Reconnect retries have been exhausted after "+(Date.now()-t)+" ms and "+n+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}})})},e.prototype.getNextRetryDelay=function(e,t,n){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(r){return this.logger.log(C_.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+e+", "+t+") threw error '"+r+"'."),null}},e.prototype.cancelCallbacksWithError=function(e){var t=this.callbacks;this.callbacks={},Object.keys(t).forEach(function(n){(0,t[n])(null,e)})},e.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)},e.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},e.prototype.createInvocation=function(e,t,n,r){if(n)return 0!==r.length?{arguments:t,streamIds:r,target:e,type:$_.Invocation}:{arguments:t,target:e,type:$_.Invocation};var i=this.invocationId;return this.invocationId++,0!==r.length?{arguments:t,invocationId:i.toString(),streamIds:r,target:e,type:$_.Invocation}:{arguments:t,invocationId:i.toString(),target:e,type:$_.Invocation}},e.prototype.launchStreams=function(e,t){var n=this;if(0!==e.length){t||(t=Promise.resolve());var r=function(r){e[r].subscribe({complete:function(){t=t.then(function(){return n.sendWithProtocol(n.createCompletionMessage(r))})},error:function(e){var i;i=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then(function(){return n.sendWithProtocol(n.createCompletionMessage(r,i))})},next:function(e){t=t.then(function(){return n.sendWithProtocol(n.createStreamItemMessage(r,e))})}})};for(var i in e)r(i)}},e.prototype.replaceStreamingParams=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];if(this.isObservable(i)){var o=this.invocationId;this.invocationId++,t[o]=i,n.push(o.toString()),e.splice(r,1)}}return[t,n]},e.prototype.isObservable=function(e){return e&&e.subscribe&&"function"==typeof e.subscribe},e.prototype.createStreamInvocation=function(e,t,n){var r=this.invocationId;return this.invocationId++,0!==n.length?{arguments:t,invocationId:r.toString(),streamIds:n,target:e,type:$_.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:$_.StreamInvocation}},e.prototype.createCancelInvocation=function(e){return{invocationId:e,type:$_.CancelInvocation}},e.prototype.createStreamItemMessage=function(e,t){return{invocationId:e,item:t,type:$_.StreamItem}},e.prototype.createCompletionMessage=function(e,t,n){return t?{error:t,invocationId:e,type:$_.Completion}:{invocationId:e,result:n,type:$_.Completion}},e}(),Z_=[0,2e3,1e4,3e4,null],X_=function(){function e(e){this.retryDelays=void 0!==e?e.concat([null]):Z_}return e.prototype.nextRetryDelayInMilliseconds=function(e){return this.retryDelays[e.previousRetryCount]},e}(),ew=function(e){return e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling",e}({}),tw=function(e){return e[e.Text=1]="Text",e[e.Binary=2]="Binary",e}({}),nw=function(){function e(){this.isAborted=!1,this.onabort=null}return e.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(e.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),e}(),rw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iw=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},ow=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},sw=function(){function e(e,t,n,r,i,o){this.httpClient=e,this.accessTokenFactory=t,this.logger=n,this.pollAbort=new nw,this.logMessageContent=r,this.withCredentials=i,this.headers=o,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(e.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),e.prototype.connect=function(e,t){return iw(this,void 0,void 0,function(){var n,r,i,o,s,a,c;return ow(this,function(l){switch(l.label){case 0:if(E_.isRequired(e,"url"),E_.isRequired(t,"transferFormat"),E_.isIn(t,tw,"transferFormat"),this.url=e,this.logger.log(C_.Trace,"(LongPolling transport) Connecting."),t===tw.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return r=L_(),i=rw(((n={})[r[0]]=r[1],n),this.headers),o={abortSignal:this.pollAbort.signal,headers:i,timeout:1e5,withCredentials:this.withCredentials},t===tw.Binary&&(o.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return s=l.sent(),this.updateHeaderToken(o,s),a=e+"&_="+Date.now(),this.logger.log(C_.Trace,"(LongPolling transport) polling: "+a+"."),[4,this.httpClient.get(a,o)];case 2:return 200!==(c=l.sent()).statusCode?(this.logger.log(C_.Error,"(LongPolling transport) Unexpected response code: "+c.statusCode+"."),this.closeError=new v_(c.statusText||"",c.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,o),[2]}})})},e.prototype.getAccessToken=function(){return iw(this,void 0,void 0,function(){return ow(this,function(e){switch(e.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,null]}})})},e.prototype.updateHeaderToken=function(e,t){e.headers||(e.headers={}),t?e.headers.Authorization="Bearer "+t:e.headers.Authorization&&delete e.headers.Authorization},e.prototype.poll=function(e,t){return iw(this,void 0,void 0,function(){var n,r,i,o;return ow(this,function(s){switch(s.label){case 0:s.trys.push([0,,8,9]),s.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:n=s.sent(),this.updateHeaderToken(t,n),s.label=3;case 3:return s.trys.push([3,5,,6]),r=e+"&_="+Date.now(),this.logger.log(C_.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,t)];case 4:return 204===(i=s.sent()).statusCode?(this.logger.log(C_.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==i.statusCode?(this.logger.log(C_.Error,"(LongPolling transport) Unexpected response code: "+i.statusCode+"."),this.closeError=new v_(i.statusText||"",i.statusCode),this.running=!1):i.content?(this.logger.log(C_.Trace,"(LongPolling transport) data received. "+x_(i.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(i.content)):this.logger.log(C_.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return o=s.sent(),this.running?o instanceof b_?this.logger.log(C_.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=o,this.running=!1):this.logger.log(C_.Trace,"(LongPolling transport) Poll errored after shutdown: "+o.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(C_.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}})})},e.prototype.send=function(e){return iw(this,void 0,void 0,function(){return ow(this,function(t){return this.running?[2,j_(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},e.prototype.stop=function(){return iw(this,void 0,void 0,function(){var e,t,n,r;return ow(this,function(i){switch(i.label){case 0:this.logger.log(C_.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),i.label=1;case 1:return i.trys.push([1,,5,6]),[4,this.receiving];case 2:return i.sent(),this.logger.log(C_.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),e={},t=L_(),e[t[0]]=t[1],n={headers:rw({},e,this.headers),withCredentials:this.withCredentials},[4,this.getAccessToken()];case 3:return r=i.sent(),this.updateHeaderToken(n,r),[4,this.httpClient.delete(this.url,n)];case 4:return i.sent(),this.logger.log(C_.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(C_.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}})})},e.prototype.raiseOnClose=function(){if(this.onclose){var e="(LongPolling transport) Firing onclose event.";this.closeError&&(e+=" Error: "+this.closeError),this.logger.log(C_.Trace,e),this.onclose(this.closeError)}},e}(),aw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cw=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},lw=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},uw=function(){function e(e,t,n,r,i,o,s){this.httpClient=e,this.accessTokenFactory=t,this.logger=n,this.logMessageContent=r,this.withCredentials=o,this.eventSourceConstructor=i,this.headers=s,this.onreceive=null,this.onclose=null}return e.prototype.connect=function(e,t){return cw(this,void 0,void 0,function(){var n,r=this;return lw(this,function(i){switch(i.label){case 0:return E_.isRequired(e,"url"),E_.isRequired(t,"transferFormat"),E_.isIn(t,tw,"transferFormat"),this.logger.log(C_.Trace,"(SSE transport) Connecting."),this.url=e,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=i.sent())&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),i.label=2;case 2:return[2,new Promise(function(n,i){var o=!1;if(t===tw.Text){var s;if(P_.isBrowser||P_.isWebWorker)s=new r.eventSourceConstructor(e,{withCredentials:r.withCredentials});else{var a=r.httpClient.getCookieString(e),c={};c.Cookie=a;var l=L_();c[l[0]]=l[1],s=new r.eventSourceConstructor(e,{withCredentials:r.withCredentials,headers:aw({},c,r.headers)})}try{s.onmessage=function(e){if(r.onreceive)try{r.logger.log(C_.Trace,"(SSE transport) data received. "+x_(e.data,r.logMessageContent)+"."),r.onreceive(e.data)}catch(t){return void r.close(t)}},s.onerror=function(e){var t=new Error(e.data||"Error occurred");o?r.close(t):i(t)},s.onopen=function(){r.logger.log(C_.Information,"SSE connected to "+r.url),r.eventSource=s,o=!0,n()}}catch(u){return void i(u)}}else i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})]}})})},e.prototype.send=function(e){return cw(this,void 0,void 0,function(){return lw(this,function(t){return this.eventSource?[2,j_(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},e.prototype.stop=function(){return this.close(),Promise.resolve()},e.prototype.close=function(e){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(e))},e}(),hw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dw=function(){function e(e,t,n,r,i,o){this.logger=n,this.accessTokenFactory=t,this.logMessageContent=r,this.webSocketConstructor=i,this.httpClient=e,this.onreceive=null,this.onclose=null,this.headers=o}return e.prototype.connect=function(e,t){return n=this,void 0,i=function(){var n,r=this;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(i){switch(i.label){case 0:return E_.isRequired(e,"url"),E_.isRequired(t,"transferFormat"),E_.isIn(t,tw,"transferFormat"),this.logger.log(C_.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=i.sent())&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),i.label=2;case 2:return[2,new Promise(function(n,i){var o;e=e.replace(/^http/,"ws");var s=r.httpClient.getCookieString(e),a=!1;if(P_.isNode){var c={},l=L_();c[l[0]]=l[1],s&&(c.Cookie=""+s),o=new r.webSocketConstructor(e,void 0,{headers:hw({},c,r.headers)})}o||(o=new r.webSocketConstructor(e)),t===tw.Binary&&(o.binaryType="arraybuffer"),o.onopen=function(t){r.logger.log(C_.Information,"WebSocket connected to "+e+"."),r.webSocket=o,a=!0,n()},o.onerror=function(e){var t;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:new Error("There was an error with the transport."),i(t)},o.onmessage=function(e){if(r.logger.log(C_.Trace,"(WebSockets transport) data received. "+x_(e.data,r.logMessageContent)+"."),r.onreceive)try{r.onreceive(e.data)}catch(t){return void r.close(t)}},o.onclose=function(e){var t;a?r.close(e):(t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:new Error("There was an error with the transport."),i(t))}})]}})},new((r=void 0)||(r=Promise))(function(e,t){function o(e){try{a(i.next(e))}catch(n){t(n)}}function s(e){try{a(i.throw(e))}catch(n){t(n)}}function a(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(o,s)}a((i=i.apply(n,[])).next())});var n,r,i},e.prototype.send=function(e){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(C_.Trace,"(WebSockets transport) sending data. "+x_(e,this.logMessageContent)+"."),this.webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},e.prototype.stop=function(){return this.webSocket&&this.close(void 0),Promise.resolve()},e.prototype.close=function(e){this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0),this.logger.log(C_.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this.isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error("WebSocket closed with status code: "+e.code+" ("+e.reason+").")))},e.prototype.isCloseEvent=function(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code},e}(),fw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pw=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},gw=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},mw=function(){function e(e,t){var n;if(void 0===t&&(t={}),this.features={},this.negotiateVersion=1,E_.isRequired(e,"url"),this.logger=void 0===(n=t.logger)?new A_(C_.Information):null===n?T_.instance:n.log?n:new A_(n),this.baseUrl=this.resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials;var r=null,i=null;if(P_.isNode){var o=require;r=o("ws"),i=o("eventsource")}P_.isNode||"undefined"==typeof WebSocket||t.WebSocket?P_.isNode&&!t.WebSocket&&r&&(t.WebSocket=r):t.WebSocket=WebSocket,P_.isNode||"undefined"==typeof EventSource||t.EventSource?P_.isNode&&!t.EventSource&&void 0!==i&&(t.EventSource=i):t.EventSource=EventSource,this.httpClient=t.httpClient||new q_(this.logger),this.connectionState="Disconnected",this.connectionStarted=!1,this.options=t,this.onreceive=null,this.onclose=null}return e.prototype.start=function(e){return pw(this,void 0,void 0,function(){var t;return gw(this,function(n){switch(n.label){case 0:return E_.isIn(e=e||tw.Binary,tw,"transferFormat"),this.logger.log(C_.Debug,"Starting connection with transfer format '"+tw[e]+"'."),"Disconnected"!==this.connectionState?[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))]:(this.connectionState="Connecting",this.startInternalPromise=this.startInternal(e),[4,this.startInternalPromise]);case 1:return n.sent(),"Disconnecting"!==this.connectionState?[3,3]:(this.logger.log(C_.Error,t="Failed to start the HttpConnection before stop() was called."),[4,this.stopPromise]);case 2:return n.sent(),[2,Promise.reject(new Error(t))];case 3:if("Connected"!==this.connectionState)return this.logger.log(C_.Error,t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!"),[2,Promise.reject(new Error(t))];n.label=4;case 4:return this.connectionStarted=!0,[2]}})})},e.prototype.send=function(e){return"Connected"!==this.connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this.sendQueue||(this.sendQueue=new yw(this.transport)),this.sendQueue.send(e))},e.prototype.stop=function(e){return pw(this,void 0,void 0,function(){var t=this;return gw(this,function(n){switch(n.label){case 0:return"Disconnected"===this.connectionState?(this.logger.log(C_.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnected state."),[2,Promise.resolve()]):"Disconnecting"===this.connectionState?(this.logger.log(C_.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnecting state."),[2,this.stopPromise]):(this.connectionState="Disconnecting",this.stopPromise=new Promise(function(e){t.stopPromiseResolver=e}),[4,this.stopInternal(e)]);case 1:return n.sent(),[4,this.stopPromise];case 2:return n.sent(),[2]}})})},e.prototype.stopInternal=function(e){return pw(this,void 0,void 0,function(){var t;return gw(this,function(n){switch(n.label){case 0:this.stopError=e,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.startInternalPromise];case 2:case 3:return n.sent(),[3,4];case 4:if(!this.transport)return[3,9];n.label=5;case 5:return n.trys.push([5,7,,8]),[4,this.transport.stop()];case 6:return n.sent(),[3,8];case 7:return t=n.sent(),this.logger.log(C_.Error,"HttpConnection.transport.stop() threw error '"+t+"'."),this.stopConnection(),[3,8];case 8:return this.transport=void 0,[3,10];case 9:this.logger.log(C_.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed."),this.stopConnection(),n.label=10;case 10:return[2]}})})},e.prototype.startInternal=function(e){return pw(this,void 0,void 0,function(){var t,n,r,i,o,s;return gw(this,function(a){switch(a.label){case 0:t=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,a.label=1;case 1:return a.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==ew.WebSockets?[3,3]:(this.transport=this.constructTransport(ew.WebSockets),[4,this.startTransport(t,e)]):[3,5];case 2:return a.sent(),[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null,r=0,i=function(){var e;return gw(this,function(i){switch(i.label){case 0:return[4,o.getNegotiationResponse(t)];case 1:if(n=i.sent(),"Disconnecting"===o.connectionState||"Disconnected"===o.connectionState)throw new Error("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return n.url&&(t=n.url),n.accessToken&&(e=n.accessToken,o.accessTokenFactory=function(){return e}),r++,[2]}})},o=this,a.label=6;case 6:return[5,i()];case 7:a.sent(),a.label=8;case 8:if(n.url&&r<100)return[3,6];a.label=9;case 9:if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(t,this.options.transport,n,e)];case 10:a.sent(),a.label=11;case 11:return this.transport instanceof sw&&(this.features.inherentKeepAlive=!0),"Connecting"===this.connectionState&&(this.logger.log(C_.Debug,"The HttpConnection connected successfully."),this.connectionState="Connected"),[3,13];case 12:return s=a.sent(),this.logger.log(C_.Error,"Failed to start the connection: "+s),this.connectionState="Disconnected",this.transport=void 0,[2,Promise.reject(s)];case 13:return[2]}})})},e.prototype.getNegotiationResponse=function(e){return pw(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return gw(this,function(c){switch(c.label){case 0:return t={},this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=c.sent())&&(t.Authorization="Bearer "+n),c.label=2;case 2:r=L_(),t[r[0]]=r[1],i=this.resolveNegotiateUrl(e),this.logger.log(C_.Debug,"Sending negotiation request: "+i+"."),c.label=3;case 3:return c.trys.push([3,5,,6]),[4,this.httpClient.post(i,{content:"",headers:fw({},t,this.options.headers),withCredentials:this.options.withCredentials})];case 4:return 200!==(o=c.sent()).statusCode?[2,Promise.reject(new Error("Unexpected status code returned from negotiate '"+o.statusCode+"'"))]:((!(s=JSON.parse(o.content)).negotiateVersion||s.negotiateVersion<1)&&(s.connectionToken=s.connectionId),[2,s]);case 5:return a=c.sent(),this.logger.log(C_.Error,"Failed to complete negotiation with the server: "+a),[2,Promise.reject(a)];case 6:return[2]}})})},e.prototype.createConnectUrl=function(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+"id="+t:e},e.prototype.createTransport=function(e,t,n,r){return pw(this,void 0,void 0,function(){var i,o,s,a,c,l,u,h,d;return gw(this,function(f){switch(f.label){case 0:return i=this.createConnectUrl(e,n.connectionToken),this.isITransport(t)?(this.logger.log(C_.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,[4,this.startTransport(i,r)]):[3,2];case 1:return f.sent(),this.connectionId=n.connectionId,[2];case 2:o=[],s=n,a=0,c=n.availableTransports||[],f.label=3;case 3:return a<c.length?(u=this.resolveTransportOrError(l=c[a],t,r))instanceof Error?(o.push(l.transport+" failed: "+u),[3,12]):[3,4]:[3,13];case 4:if(!this.isITransport(u))return[3,12];if(this.transport=u,s)return[3,9];f.label=5;case 5:return f.trys.push([5,7,,8]),[4,this.getNegotiationResponse(e)];case 6:return s=f.sent(),[3,8];case 7:return h=f.sent(),[2,Promise.reject(h)];case 8:i=this.createConnectUrl(e,s.connectionToken),f.label=9;case 9:return f.trys.push([9,11,,12]),[4,this.startTransport(i,r)];case 10:return f.sent(),this.connectionId=s.connectionId,[2];case 11:return d=f.sent(),this.logger.log(C_.Error,"Failed to start the transport '"+l.transport+"': "+d),s=void 0,o.push(l.transport+" failed: "+d),"Connecting"!==this.connectionState?(this.logger.log(C_.Debug,"Failed to select transport before stop() was called."),[2,Promise.reject(new Error("Failed to select transport before stop() was called."))]):[3,12];case 12:return a++,[3,3];case 13:return o.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+o.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}})})},e.prototype.constructTransport=function(e){switch(e){case ew.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new dw(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket,this.options.headers||{});case ew.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new uw(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource,this.options.withCredentials,this.options.headers||{});case ew.LongPolling:return new sw(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.withCredentials,this.options.headers||{});default:throw new Error("Unknown transport: "+e+".")}},e.prototype.startTransport=function(e,t){var n=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=function(e){return n.stopConnection(e)},this.transport.connect(e,t)},e.prototype.resolveTransportOrError=function(e,t,n){var r=ew[e.transport];if(null==r)return this.logger.log(C_.Debug,"Skipping transport '"+e.transport+"' because it is not supported by this client."),new Error("Skipping transport '"+e.transport+"' because it is not supported by this client.");if(!function(e,t){return!e||0!=(t&e)}(t,r))return this.logger.log(C_.Debug,"Skipping transport '"+ew[r]+"' because it was disabled by the client."),new Error("'"+ew[r]+"' is disabled by the client.");if(!(e.transferFormats.map(function(e){return tw[e]}).indexOf(n)>=0))return this.logger.log(C_.Debug,"Skipping transport '"+ew[r]+"' because it does not support the requested transfer format '"+tw[n]+"'."),new Error("'"+ew[r]+"' does not support "+tw[n]+".");if(r===ew.WebSockets&&!this.options.WebSocket||r===ew.ServerSentEvents&&!this.options.EventSource)return this.logger.log(C_.Debug,"Skipping transport '"+ew[r]+"' because it is not supported in your environment.'"),new Error("'"+ew[r]+"' is not supported in your environment.");this.logger.log(C_.Debug,"Selecting transport '"+ew[r]+"'.");try{return this.constructTransport(r)}catch(i){return i}},e.prototype.isITransport=function(e){return e&&"object"==typeof e&&"connect"in e},e.prototype.stopConnection=function(e){var t=this;if(this.logger.log(C_.Debug,"HttpConnection.stopConnection("+e+") called while in state "+this.connectionState+"."),this.transport=void 0,e=this.stopError||e,this.stopError=void 0,"Disconnected"!==this.connectionState){if("Connecting"===this.connectionState)throw this.logger.log(C_.Warning,"Call to HttpConnection.stopConnection("+e+") was ignored because the connection is still in the connecting state."),new Error("HttpConnection.stopConnection("+e+") was called while the connection is still in the connecting state.");if("Disconnecting"===this.connectionState&&this.stopPromiseResolver(),e?this.logger.log(C_.Error,"Connection disconnected with error '"+e+"'."):this.logger.log(C_.Information,"Connection disconnected."),this.sendQueue&&(this.sendQueue.stop().catch(function(e){t.logger.log(C_.Error,"TransportSendQueue.stop() threw error '"+e+"'.")}),this.sendQueue=void 0),this.connectionId=void 0,this.connectionState="Disconnected",this.connectionStarted){this.connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this.logger.log(C_.Error,"HttpConnection.onclose("+e+") threw error '"+n+"'.")}}}else this.logger.log(C_.Debug,"Call to HttpConnection.stopConnection("+e+") was ignored because the connection is already in the disconnected state.")},e.prototype.resolveUrl=function(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!P_.isBrowser||!window.document)throw new Error("Cannot resolve '"+e+"'.");var t=window.document.createElement("a");return t.href=e,this.logger.log(C_.Information,"Normalizing '"+e+"' to '"+t.href+"'."),t.href},e.prototype.resolveNegotiateUrl=function(e){var t=e.indexOf("?"),n=e.substring(0,-1===t?e.length:t);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",-1===(n+=-1===t?"":e.substring(t)).indexOf("negotiateVersion")&&(n+=-1===t?"?":"&",n+="negotiateVersion="+this.negotiateVersion),n},e}(),yw=function(){function e(e){this.transport=e,this.buffer=[],this.executing=!0,this.sendBufferedData=new vw,this.transportResult=new vw,this.sendLoopPromise=this.sendLoop()}return e.prototype.send=function(e){return this.bufferData(e),this.transportResult||(this.transportResult=new vw),this.transportResult.promise},e.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},e.prototype.bufferData=function(e){if(this.buffer.length&&typeof this.buffer[0]!=typeof e)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof e);this.buffer.push(e),this.sendBufferedData.resolve()},e.prototype.sendLoop=function(){return pw(this,void 0,void 0,function(){var t,n,r;return gw(this,function(i){switch(i.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(i.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new vw,t=this.transportResult,this.transportResult=void 0,n="string"==typeof this.buffer[0]?this.buffer.join(""):e.concatBuffers(this.buffer),this.buffer.length=0,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.transport.send(n)];case 3:return i.sent(),t.resolve(),[3,5];case 4:return r=i.sent(),t.reject(r),[3,5];case 5:return[3,0];case 6:return[2]}})})},e.concatBuffers=function(e){for(var t=e.map(function(e){return e.byteLength}).reduce(function(e,t){return e+t}),n=new Uint8Array(t),r=0,i=0,o=e;i<o.length;i++){var s=o[i];n.set(new Uint8Array(s),r),r+=s.byteLength}return n.buffer},e}(),vw=function(){function e(){var e=this;this.promise=new Promise(function(t,n){var r;return e.resolver=(r=[t,n])[0],e.rejecter=r[1],r})}return e.prototype.resolve=function(){this.resolver()},e.prototype.reject=function(e){this.rejecter(e)},e}(),bw=function(){function e(){this.name="json",this.version=1,this.transferFormat=tw.Text}return e.prototype.parseMessages=function(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=T_.instance);for(var n=[],r=0,i=z_.parse(e);r<i.length;r++){var o=JSON.parse(i[r]);if("number"!=typeof o.type)throw new Error("Invalid payload.");switch(o.type){case $_.Invocation:this.isInvocationMessage(o);break;case $_.StreamItem:this.isStreamItemMessage(o);break;case $_.Completion:this.isCompletionMessage(o);break;case $_.Ping:case $_.Close:break;default:t.log(C_.Information,"Unknown message type '"+o.type+"' ignored.");continue}n.push(o)}return n},e.prototype.writeMessage=function(e){return z_.write(JSON.stringify(e))},e.prototype.isInvocationMessage=function(e){this.assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this.assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")},e.prototype.isStreamItemMessage=function(e){if(this.assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")},e.prototype.isCompletionMessage=function(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this.assertNotEmptyString(e.error,"Invalid payload for Completion message."),this.assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")},e.prototype.assertNotEmptyString=function(e,t){if("string"!=typeof e||""===e)throw new Error(t)},e}(),_w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ww={trace:C_.Trace,debug:C_.Debug,info:C_.Information,information:C_.Information,warn:C_.Warning,warning:C_.Warning,error:C_.Error,critical:C_.Critical,none:C_.None},kw=function(){function e(){}return e.prototype.configureLogging=function(e){if(E_.isRequired(e,"logging"),void 0!==e.log)this.logger=e;else if("string"==typeof e){var t=function(e){var t=ww[e.toLowerCase()];if(void 0!==t)return t;throw new Error("Unknown log level: "+e)}(e);this.logger=new A_(t)}else this.logger=new A_(e);return this},e.prototype.withUrl=function(e,t){return E_.isRequired(e,"url"),E_.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions=_w({},this.httpConnectionOptions,"object"==typeof t?t:{transport:t}),this},e.prototype.withHubProtocol=function(e){return E_.isRequired(e,"protocol"),this.protocol=e,this},e.prototype.withAutomaticReconnect=function(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=e?Array.isArray(e)?new X_(e):e:new X_,this},e.prototype.build=function(){var e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var t=new mw(this.url,e);return Y_.create(t,this.logger||T_.instance,this.protocol||new bw,this.reconnectPolicy)},e}();let Sw=(()=>{class e{constructor(){this.messageReceived=new zc,this.connectionIDReceived=new zc,this.datetimeReceived=new zc,this.connectionEstablished=new zc,this.connectionID="",this.connectionIsEstablished=!1}createConnection(e){this._hubConnection=(new kw).withUrl("https://zoomclone.azurewebsites.net/MessageHub?username="+e).withAutomaticReconnect([0,5e3,1e4,15e3,2e4,3e4]).configureLogging(C_.Information).build()}startConnection(){this._hubConnection.start().then(()=>{this.connectionIsEstablished=!0,console.log("Started service . . . ConnectionID: "+this._hubConnection.connectionId),this.connectionEstablished.emit(!0)}).catch(e=>{console.log("Error while establishing connection...")})}sendMessage(e,t){this._hubConnection.invoke("SendMessage",e,t)}registerOnServerEvents(){this._hubConnection.on("MessageReceived",e=>{this.messageReceived.emit(e)}),this._hubConnection.on("onReceivedTime",e=>{this.datetimeReceived.emit(e),console.log(JSON.stringify(e))}),this._hubConnection.onreconnecting(()=>{console.log("Please wait so we can establish the connection to the server . . .")}),this._hubConnection.onreconnected(()=>{console.log("Service has been start after recoonection. . . .")}),this._hubConnection.onclose(()=>{console.log("Service has been stopped. . . .")})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Cw{constructor(){this.MessageID=0}}class Tw{constructor(e){this.notifier=e}call(e,t){const n=new Ow(e),r=V(this.notifier,new N(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class Ow extends F{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Ew=(()=>{class e{constructor(e,t){this.http=e,this.tokenService=t}getMessages(e=""){let t=this.tokenService.getUserName();return this.http.get(`https://zoomclone.azurewebsites.net/Messages/GetMessages?sender=${t}&receiver=${e}`)}}return e.\u0275fac=function(t){return new(t||e)(mr(zh),mr(ud))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Pw(e,t){1&e&&(Os(0,"a",20),ca(1,"Loading . . ."),Es())}function xw(e,t){if(1&e&&(Os(0,"div",23),Ps(1,"img",24),Os(2,"div",25),Os(3,"p"),ca(4),Es(),Os(5,"p",26),Os(6,"time"),ca(7),Vc(8,"date"),Es(),Es(),Es(),Es()),2&e){const e=Fs().$implicit;Wi(4),la(e.message),Wi(3),la(Bc(8,2,e.date,"hh:mm aa"))}}function Rw(e,t){if(1&e&&(Os(0,"div",27),Os(1,"div",25),Os(2,"p"),ca(3),Es(),Os(4,"p",26),Os(5,"time"),ca(6),Vc(7,"date"),Es(),Es(),Es(),Es()),2&e){const e=Fs().$implicit;Wi(3),la(e.message),Wi(3),la(Bc(7,2,e.date,"hh:mm aa"))}}function jw(e,t){if(1&e&&(Os(0,"div"),ws(1,xw,9,5,"div",21),ws(2,Rw,8,5,"div",22),Es()),2&e){const e=t.$implicit;Wi(1),Cs("ngIf","received"==e.type),Wi(1),Cs("ngIf","sent"==e.type)}}let Iw=(()=>{class e extends ay{constructor(e,t,n,r,i){super(),this.chatService=e,this.ngZone=t,this.tokenService=n,this.messageService=r,this.router=i,this.title="ClientApp",this.user="",this.txtMessage="",this.uniqueID=(new Date).getTime().toString(),this.messages=new Array,this.message=new Cw,this.ToUser=""}ngOnInit(){this.chatService.createConnection(this.tokenService.getUserName()),this.chatService.startConnection(),this.chatService.registerOnServerEvents(),this.subscribeToevent(),this.user=this.tokenService.getUser().startName,this.getItems()}sendMessage(){this.txtMessage&&(this.message=new Cw,this.message.clientuniqueid=this.uniqueID,this.message.type="sent",this.message.message=this.txtMessage,this.message.date=new Date,this.message.receiver=this.ToUser,this.message.sender=this.tokenService.getUserName(),this.messages.push(this.message),this.chatService.sendMessage(this.ToUser,this.message),this.txtMessage="")}subscribeToevent(){this.chatService.messageReceived.subscribe(e=>{this.ngZone.run(()=>{e.sender!==this.tokenService.getUserName()&&(e.type="received",this.messages.push(e))})})}getItems(e=1){var t;this.isLoading=!0,this.messageService.getMessages("aftab@gmail.com").pipe((t=this.unsubscribe$,e=>e.lift(new Tw(t)))).subscribe(e=>{e.isSuccess?(this.items=e.listModel,this.items.reverse(),this.items.forEach(e=>{e.sender!==this.tokenService.getUserName()?(e.type="received",this.messages.push(e)):this.messages.push(e)})):(this.isError=!0,this.errorMessage=e.message)},e=>{console.log(e.error),this.isError=!0,this.errorMessage=e.message,401==e.status&&this.router.navigateByUrl("/Login")},()=>{this.isLoading=!1})}getmore(){this.pageNo++,this.getItems(this.pageNo)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Sw),Ss(jl),Ss(ud),Ss(Ew),Ss(Am))},e.\u0275cmp=Fe({type:e,selectors:[["app-chat"]],features:[ss],decls:26,vars:6,consts:[["type","text",1,"form-control",3,"ngModel","ngModelChange"],["id","page-content",1,"page-content","page-container"],[1,"padding"],[1,"row","container","d-flex","justify-content-center"],[1,"col-md-6"],[1,"card","card-bordered"],[1,"card-header"],[1,"card-title"],["class","btn btn-xs btn-secondary","href","#","data-abc","true",4,"ngIf"],["id","chat-content",1,"ps-container","ps-theme-default","ps-active-y",2,"overflow-y","scroll !important","height","400px !important"],[4,"ngFor","ngForOf"],[1,"ps-scrollbar-x-rail",2,"left","0px","bottom","0px"],["tabindex","0",1,"ps-scrollbar-x",2,"left","0px","width","0px"],[1,"ps-scrollbar-y-rail",2,"top","0px","height","0px","right","2px"],["tabindex","0",1,"ps-scrollbar-y",2,"top","0px","height","2px"],[1,"publisher","bt-1","border-light"],["src","https://img.icons8.com/color/36/000000/administrator-male.png","alt","...",1,"avatar","avatar-xs"],["type","text","placeholder","Write something",1,"publisher-input",3,"ngModel","ngModelChange"],["type","button","data-abc","true",1,"publisher-btn","text-info",3,"click"],[1,"fa","fa-paper-plane"],["href","#","data-abc","true",1,"btn","btn-xs","btn-secondary"],["class","media media-chat",4,"ngIf"],["class","media media-chat media-chat-reverse",4,"ngIf"],[1,"media","media-chat"],["src","https://img.icons8.com/color/36/000000/administrator-male.png","alt","...",1,"avatar"],[1,"media-body"],[1,"meta"],[1,"media","media-chat","media-chat-reverse"]],template:function(e,t){1&e&&(Os(0,"input",0),Ds("ngModelChange",function(e){return t.ToUser=e}),Es(),Os(1,"h2"),ca(2),Es(),Os(3,"div",1),Os(4,"div",2),Os(5,"div",3),Os(6,"div",4),Os(7,"div",5),Os(8,"div",6),Os(9,"h4",7),Os(10,"strong"),ca(11),Es(),Es(),ws(12,Pw,2,0,"a",8),Es(),Os(13,"div",9),ws(14,jw,3,2,"div",10),Os(15,"div",11),Ps(16,"div",12),Es(),Os(17,"div",13),Ps(18,"div",14),Es(),Es(),Os(19,"div",15),Ps(20,"img",16),Os(21,"input",17),Ds("ngModelChange",function(e){return t.txtMessage=e}),Es(),Os(22,"button",18),Ds("click",function(){return t.sendMessage()}),Ps(23,"i",19),Es(),Os(24,"button",18),Ds("click",function(){return t.getmore()}),ca(25,"Load..."),Es(),Es(),Es(),Es(),Es(),Es(),Es()),2&e&&(Cs("ngModel",t.ToUser),Wi(2),la(t.ToUser),Wi(9),la(t.user),Wi(1),Cs("ngIf",t.isLoading),Wi(2),Cs("ngForOf",t.messages),Wi(7),Cs("ngModel",t.txtMessage))},directives:[av,xv,kb,dh,uh],pipes:[yh],styles:['.card-bordered[_ngcontent-%COMP%]{border:1px solid #ebebeb}.card[_ngcontent-%COMP%]{border:0;border-radius:0;margin-bottom:30px;box-shadow:0 2px 3px rgba(0,0,0,.03);transition:.5s}.padding[_ngcontent-%COMP%]{padding:3rem!important}body[_ngcontent-%COMP%]{background-color:#f9f9fa}.card-header[_ngcontent-%COMP%]:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background-color:initial;border-bottom:1px solid rgba(77,82,89,.07)}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{padding:0;border:none}h4.card-title[_ngcontent-%COMP%]{font-size:17px}.card-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-right:0}.card-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}.btn-secondary[_ngcontent-%COMP%]{color:#4d5259!important;background-color:#e4e7ea;border-color:#e4e7ea;color:#fff}.btn-xs[_ngcontent-%COMP%]{font-size:11px;padding:2px 8px;line-height:18px}.btn-xs[_ngcontent-%COMP%]:hover{color:#fff!important}.card-title[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:300;line-height:1.5;margin-bottom:0;padding:15px 20px;border-bottom:1px solid rgba(77,82,89,.07)}.ps-container[_ngcontent-%COMP%]{position:relative;touch-action:auto;overflow:hidden!important;-ms-overflow-style:none}.media[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{flex-shrink:0}.avatar[_ngcontent-%COMP%]{position:relative;display:inline-block;width:36px;height:36px;line-height:36px;text-align:center;border-radius:100%;background-color:#f5f6f7;color:#8b95a5;text-transform:uppercase}.media-chat[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]{flex:initial;display:table}.media-body[_ngcontent-%COMP%]{min-width:0}.media-chat[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:100;color:#9b9b9b}.media[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 8px}.media-chat[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   p.meta[_ngcontent-%COMP%]{background-color:initial!important;padding:0;opacity:.8}.media-meta-day[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;margin-bottom:0;color:#8b95a5;opacity:.8;font-weight:400}.media-meta-day[_ngcontent-%COMP%]:before{margin-right:16px}.media-meta-day[_ngcontent-%COMP%]:after, .media-meta-day[_ngcontent-%COMP%]:before{content:"";flex:1 1;border-top:1px solid #ebebeb}.media-meta-day[_ngcontent-%COMP%]:after{margin-left:16px}.media-chat.media-chat-reverse[_ngcontent-%COMP%]{padding-right:12px;padding-left:64px;flex-direction:row-reverse}.media-chat[_ngcontent-%COMP%]{padding-right:64px;margin-bottom:0}.media[_ngcontent-%COMP%]{padding:16px 12px;transition:background-color .2s linear}.media-chat.media-chat-reverse[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:right;clear:right;background-color:#48b0f7;color:#fff}.media-chat[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;padding:6px 8px;margin:4px 0;background-color:#f5f6f7;border-radius:3px}.border-light[_ngcontent-%COMP%]{border-color:#f1f2f3!important}.bt-1[_ngcontent-%COMP%]{border-top:1px solid #ebebeb!important}.publisher[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:12px 20px;background-color:#f9fafb}.publisher[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:0}.publisher[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 8px}.publisher-input[_ngcontent-%COMP%]{flex-grow:1;border:none;outline:none!important;background-color:initial}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:300}.publisher-btn[_ngcontent-%COMP%]{color:#8b95a5}.file-group[_ngcontent-%COMP%]{position:relative;overflow:hidden}.publisher-btn[_ngcontent-%COMP%]{background-color:initial;border:none;color:#cac7c7;font-size:16px;cursor:pointer;overflow:-moz-hidden-unscrollable;transition:.2s linear}.file-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;opacity:0;z-index:-1;width:20px}.text-info[_ngcontent-%COMP%]{color:#48b0f7!important}']}),e})();class Aw{constructor(e){Object.assign(this,e)}}class Lw{}let Dw=(()=>{class e{constructor(e){this.http=e}GetUsers(e=1,t=""){return this.http.get(`https://zoomclone.azurewebsites.net/User/GetUsers?page=${e}&query=${t}`)}SearchUsers(e=""){let t=[],n=1;return this.http.get("https://zoomclone.azurewebsites.net/User/SearchUsers?firstname="+e).pipe(O(e=>{var r;return null===(r=e.listModel)||void 0===r||r.forEach(e=>{t.push({id:n++,name:""+e.userName})}),t}))}Register(e){return this.http.post("https://zoomclone.azurewebsites.net/Account/Register",e)}Login(e){return this.http.post("https://zoomclone.azurewebsites.net/Account/Login",e)}}return e.\u0275fac=function(t){return new(t||e)(mr(zh))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Mw{constructor(e){Object.assign(this,e)}}function Nw(e,t){if(1&e&&(Os(0,"h6",33),ca(1),Es()),2&e){const e=Fs();Wi(1),la(e.errorMessage)}}function Fw(e,t){1&e&&(Os(0,"div",34),ca(1,"First Name is required"),Es())}function Vw(e,t){1&e&&(Os(0,"div",34),ca(1,"Min length 3"),Es())}function Uw(e,t){1&e&&(Os(0,"div",34),ca(1,"Last Name is required"),Es())}function Bw(e,t){1&e&&(Os(0,"div",34),ca(1,"Min length 3"),Es())}function Hw(e,t){1&e&&(Os(0,"div",34),ca(1,"Username is required"),Es())}function qw(e,t){1&e&&(Os(0,"div",34),ca(1,"Min length 3"),Es())}function zw(e,t){1&e&&(Os(0,"div",34),ca(1,"Email is required"),Es())}function Ww(e,t){1&e&&(Os(0,"div",34),ca(1,"Email is not in correct format"),Es())}function $w(e,t){1&e&&(Os(0,"div",34),ca(1,"Password is required"),Es())}function Gw(e,t){1&e&&(Os(0,"div",34),ca(1,"Password does not match the confirm password"),Es())}function Qw(e,t){1&e&&(Os(0,"div",34),ca(1,"Confirm Password is required"),Es())}function Kw(e,t){1&e&&Ps(0,"span",35)}function Jw(e,t){1&e&&(Os(0,"span"),ca(1,"Create Account"),Es())}const Yw=function(e,t){return{"is-valid":e,"is-invalid":t}};let Zw=(()=>{class e extends ay{constructor(e,t,n,r,i){super(),this.formBuilder=e,this.userService=t,this.router=n,this.tokenService=r,this.toastrService=i,this.submitted=!1,this.registerForm=this.formBuilder.group({firstName:new pb("",[fv.required,fv.minLength(3)]),lastName:new pb("",[fv.required,fv.minLength(3)]),username:new pb("",[fv.required,fv.minLength(3)]),email:new pb("",[fv.required,fv.email]),password:new pb("",[fv.required,fv.minLength(6)]),confirmPassword:new pb("",[fv.required,fv.minLength(6)])})}ngOnInit(){this.registerForm.valueChanges.subscribe(e=>{e.password!==e.confirmPassword&&this.registerForm.setErrors({mismatch:!0})})}onSubmit(){this.submitted=!0,this.registerForm.invalid||(this.registerModel=new Aw(this.registerForm.value),this.isLoading=!0,this.userService.Register(this.registerModel).subscribe(e=>{if(!e.isSuccess)return this.isError=!0,void(this.errorMessage=e.message);this.router.navigateByUrl("/Login"),console.log(JSON.stringify(e))},e=>{console.log(JSON.stringify(e)),this.isLoading=!1},()=>{this.isLoading=!1}))}get getFirstName(){return this.registerForm.get("firstName")}get getLastName(){return this.registerForm.get("lastName")}get getUsername(){return this.registerForm.get("username")}get getEmail(){return this.registerForm.get("email")}get getPassword(){return this.registerForm.get("password")}get getConfirmPassword(){return this.registerForm.get("confirmPassword")}}return e.\u0275fac=function(t){return new(t||e)(Ss(Lb),Ss(Dw),Ss(Am),Ss(ud),Ss(Jy))},e.\u0275cmp=Fe({type:e,selectors:[["app-register"]],features:[ss],decls:65,vars:40,consts:[["id","layoutAuthentication"],["id","layoutAuthentication_content"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-7"],[1,"card","shadow-lg","border-0","rounded-lg","mt-5"],[1,"card-header"],[1,"text-center","font-weight-light","my-4"],[1,"card-body"],["class","card-subtitle mb-2 text-center text-danger",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"col-md-6"],[1,"form-group"],["for","inputFirstName",1,"small","mb-1"],["formControlName","firstName","id","inputFirstName","type","text","placeholder","Enter first name",1,"form-control","py-4",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputLastName",1,"small","mb-1"],["formControlName","lastName","id","inputLastName","type","text","placeholder","Enter last name",1,"form-control","py-4",3,"ngClass"],["for","inputEmailAddress",1,"small","mb-1"],["formControlName","username","id","inputEmailAddress","type","text","aria-describedby","emailHelp","placeholder","Enter username",1,"form-control","py-4",3,"ngClass"],["formControlName","email","id","inputEmailAddress","type","email","aria-describedby","emailHelp","placeholder","Enter email address",1,"form-control","py-4",3,"ngClass"],["for","inputPassword",1,"small","mb-1"],["formControlName","password","id","inputPassword","type","password","placeholder","Enter password",1,"form-control","py-4",3,"ngClass"],["for","inputConfirmPassword",1,"small","mb-1"],["formControlName","confirmPassword","id","inputConfirmPassword","type","password","placeholder","Confirm password",1,"form-control","py-4",3,"ngClass"],[1,"form-group","mt-4","mb-0"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[4,"ngIf"],[1,"card-footer","text-center"],[1,"small"],["routerLink","/Login","routerLinkActive","active"],[1,"card-subtitle","mb-2","text-center","text-danger"],[1,"invalid-feedback"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"main"),Os(3,"div",2),Os(4,"div",3),Os(5,"div",4),Os(6,"div",5),Os(7,"div",6),Os(8,"h3",7),ca(9,"Create Account"),Es(),Es(),Os(10,"div",8),ws(11,Nw,2,1,"h6",9),Os(12,"form",10),Ds("ngSubmit",function(){return t.onSubmit()}),Os(13,"div",11),Os(14,"div",12),Os(15,"div",13),Os(16,"label",14),ca(17,"First Name"),Es(),Ps(18,"input",15),ws(19,Fw,2,0,"div",16),ws(20,Vw,2,0,"div",16),Es(),Es(),Os(21,"div",12),Os(22,"div",13),Os(23,"label",17),ca(24,"Last Name"),Es(),Ps(25,"input",18),ws(26,Uw,2,0,"div",16),ws(27,Bw,2,0,"div",16),Es(),Es(),Es(),Os(28,"div",11),Os(29,"div",12),Os(30,"div",13),Os(31,"label",19),ca(32,"Username"),Es(),Ps(33,"input",20),ws(34,Hw,2,0,"div",16),ws(35,qw,2,0,"div",16),Es(),Es(),Os(36,"div",12),Os(37,"div",13),Os(38,"label",19),ca(39,"Email"),Es(),Ps(40,"input",21),ws(41,zw,2,0,"div",16),ws(42,Ww,2,0,"div",16),Es(),Es(),Es(),Os(43,"div",11),Os(44,"div",12),Os(45,"div",13),Os(46,"label",22),ca(47,"Password"),Es(),Ps(48,"input",23),ws(49,$w,2,0,"div",16),ws(50,Gw,2,0,"div",16),Es(),Es(),Os(51,"div",12),Os(52,"div",13),Os(53,"label",24),ca(54,"Confirm Password"),Es(),Ps(55,"input",25),ws(56,Qw,2,0,"div",16),Es(),Es(),Es(),Os(57,"div",26),Os(58,"button",27),ws(59,Kw,1,0,"span",28),ws(60,Jw,2,0,"span",29),Es(),Es(),Es(),Es(),Os(61,"div",30),Os(62,"div",31),Os(63,"a",32),ca(64,"Have an account? Go to login"),Es(),Es(),Es(),Es(),Es(),Es(),Es(),Es(),Es(),Es()),2&e&&(Wi(11),Cs("ngIf",t.isError),Wi(1),Cs("formGroup",t.registerForm),Wi(6),Cs("ngClass",Dc(22,Yw,(null==t.getFirstName?null:t.getFirstName.valid)&&(null==t.getFirstName?null:t.getFirstName.touched)||(null==t.getFirstName?null:t.getFirstName.valid)&&t.submitted,(null==t.getFirstName?null:t.getFirstName.invalid)&&(null==t.getFirstName?null:t.getFirstName.touched)||(null==t.getFirstName?null:t.getFirstName.invalid)&&t.submitted)),Wi(1),Cs("ngIf",(null==t.getFirstName||null==t.getFirstName.errors?null:t.getFirstName.errors.required)&&(null==t.getFirstName?null:t.getFirstName.touched)||(null==t.getFirstName||null==t.getFirstName.errors?null:t.getFirstName.errors.required)&&t.submitted),Wi(1),Cs("ngIf",(null==t.getFirstName||null==t.getFirstName.errors?null:t.getFirstName.errors.minlength)&&(null==t.getFirstName?null:t.getFirstName.touched)||(null==t.getFirstName||null==t.getFirstName.errors?null:t.getFirstName.errors.minlength)&&t.submitted),Wi(5),Cs("ngClass",Dc(25,Yw,(null==t.getLastName?null:t.getLastName.valid)&&(null==t.getLastName?null:t.getLastName.touched)||(null==t.getLastName?null:t.getLastName.valid)&&t.submitted,(null==t.getLastName?null:t.getLastName.invalid)&&(null==t.getLastName?null:t.getLastName.touched)||(null==t.getLastName?null:t.getLastName.invalid)&&t.submitted)),Wi(1),Cs("ngIf",(null==t.getLastName||null==t.getLastName.errors?null:t.getLastName.errors.required)&&(null==t.getLastName?null:t.getLastName.touched)||(null==t.getLastName||null==t.getLastName.errors?null:t.getLastName.errors.required)&&t.submitted),Wi(1),Cs("ngIf",(null==t.getLastName||null==t.getLastName.errors?null:t.getLastName.errors.minlength)&&(null==t.getLastName?null:t.getLastName.touched)||(null==t.getLastName||null==t.getLastName.errors?null:t.getLastName.errors.minlength)&&t.submitted),Wi(6),Cs("ngClass",Dc(28,Yw,(null==t.getUsername?null:t.getUsername.valid)&&(null==t.getUsername?null:t.getUsername.touched)||(null==t.getUsername?null:t.getUsername.valid)&&t.submitted,(null==t.getUsername?null:t.getUsername.invalid)&&(null==t.getUsername?null:t.getUsername.touched)||(null==t.getUsername?null:t.getUsername.invalid)&&t.submitted)),Wi(1),Cs("ngIf",(null==t.getUsername||null==t.getUsername.errors?null:t.getUsername.errors.required)&&(null==t.getUsername?null:t.getUsername.touched)||(null==t.getUsername||null==t.getUsername.errors?null:t.getUsername.errors.required)&&t.submitted),Wi(1),Cs("ngIf",(null==t.getUsername||null==t.getUsername.errors?null:t.getUsername.errors.minlength)&&(null==t.getUsername?null:t.getUsername.touched)||(null==t.getUsername||null==t.getUsername.errors?null:t.getUsername.errors.minlength)&&t.submitted),Wi(5),Cs("ngClass",Dc(31,Yw,(null==t.getEmail?null:t.getEmail.valid)&&(null==t.getEmail?null:t.getEmail.touched)||(null==t.getEmail?null:t.getEmail.valid)&&t.submitted,(null==t.getEmail?null:t.getEmail.invalid)&&(null==t.getEmail?null:t.getEmail.touched)||(null==t.getEmail?null:t.getEmail.invalid)&&t.submitted)),Wi(1),Cs("ngIf",(null==t.getEmail||null==t.getEmail.errors?null:t.getEmail.errors.required)&&(null==t.getEmail?null:t.getEmail.touched)||(null==t.getEmail||null==t.getEmail.errors?null:t.getEmail.errors.required)&&t.submitted),Wi(1),Cs("ngIf",(null==t.getEmail||null==t.getEmail.errors?null:t.getEmail.errors.email)&&(null==t.getEmail?null:t.getEmail.touched)||(null==t.getEmail||null==t.getEmail.errors?null:t.getEmail.errors.email)&&t.submitted),Wi(6),Cs("ngClass",Dc(34,Yw,(null==t.getPassword?null:t.getPassword.valid)&&(null==t.getPassword?null:t.getPassword.touched)||(null==t.getPassword?null:t.getPassword.valid)&&t.submitted,(null==t.getPassword?null:t.getPassword.invalid)&&(null==t.getPassword?null:t.getPassword.touched)||(null==t.getPassword?null:t.getPassword.invalid)&&t.submitted)),Wi(1),Cs("ngIf",(null==t.getPassword||null==t.getPassword.errors?null:t.getPassword.errors.required)&&(null==t.getPassword?null:t.getPassword.touched)||(null==t.getPassword||null==t.getPassword.errors?null:t.getPassword.errors.required)&&t.submitted),Wi(1),Cs("ngIf",(null==t.getPassword||null==t.getPassword.errors?null:t.getPassword.errors.mismatch)&&(null==t.getPassword?null:t.getPassword.touched)||(null==t.getPassword||null==t.getPassword.errors?null:t.getPassword.errors.mismatch)&&t.submitted),Wi(5),Cs("ngClass",Dc(37,Yw,(null==t.getConfirmPassword?null:t.getConfirmPassword.valid)&&(null==t.getConfirmPassword?null:t.getConfirmPassword.touched)||(null==t.getPassword?null:t.getPassword.valid)&&t.submitted,(null==t.getConfirmPassword?null:t.getConfirmPassword.invalid)&&(null==t.getConfirmPassword?null:t.getConfirmPassword.touched)||(null==t.getPassword?null:t.getPassword.invalid)&&t.submitted)),Wi(1),Cs("ngIf",(null==t.getConfirmPassword||null==t.getConfirmPassword.errors?null:t.getConfirmPassword.errors.required)&&(null==t.getConfirmPassword?null:t.getConfirmPassword.touched)||(null==t.getConfirmPassword||null==t.getConfirmPassword.errors?null:t.getConfirmPassword.errors.required)&&t.submitted),Wi(2),Cs("disabled",t.isLoading),Wi(1),Cs("ngIf",t.isLoading),Wi(1),Cs("ngIf",!t.isLoading))},directives:[dh,Sb,Rv,Ob,av,xv,Pb,ch,Dm,Nm],styles:[""]}),e})(),Xw=(()=>{class e{constructor(e,t){this.tokenService=e,this.router=t}ngOnInit(){this.tokenService.removeUser(),this.router.navigateByUrl("/Login")}}return e.\u0275fac=function(t){return new(t||e)(Ss(ud),Ss(Am))},e.\u0275cmp=Fe({type:e,selectors:[["app-logout"]],decls:2,vars:0,template:function(e,t){1&e&&(Os(0,"p"),ca(1,"logout works!"),Es())},styles:[""]}),e})();function ek(e,t,n,i){return r(n)&&(i=n,n=void 0),i?ek(e,t,n).pipe(O(e=>c(e)?i(...e):i(e))):new v(r=>{tk(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function tk(e,t,n,r,i){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),o=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),o=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),o=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,s=e.length;o<s;o++)tk(e[o],t,n,r,i)}r.add(o)}function nk(e,t=Kd){return n=>n.lift(new rk(e,t))}class rk{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new ik(e,this.dueTime,this.scheduler))}}class ik extends p{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ok,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function ok(e){e.debouncedNext()}const sk=["searchInput"],ak=["filteredListElement"],ck=["historyListElement"];function lk(e,t){if(1&e){const e=Is();Os(0,"div",13),Ds("click",function(t){return At(e),Fs().remove(t)}),Os(1,"i",14),ca(2,"close"),Es(),Es()}}function uk(e,t){1&e&&(Os(0,"div",15),Ps(1,"div",16),Ps(2,"div",17),Ps(3,"div",18),Ps(4,"div",19),Ps(5,"div",20),Ps(6,"div",21),Ps(7,"div",22),Ps(8,"div",23),Ps(9,"div",24),Ps(10,"div",25),Ps(11,"div",26),Ps(12,"div",27),Es())}function hk(e,t){if(1&e&&(Os(0,"div",28),Os(1,"div",29),ca(2),Es(),Es()),2&e){const e=Fs();Wi(2),la(e.heading)}}function dk(e,t){1&e&&js(0)}const fk=function(e){return{$implicit:e}};function pk(e,t){if(1&e){const e=Is();Os(0,"div",32),Ds("click",function(){At(e);const t=Fs().$implicit;return Fs().select(t)}),ws(1,dk,1,0,"ng-container",33),Vc(2,"highlight"),Es()}if(2&e){const e=Fs(),t=e.index,n=e.$implicit,r=Fs();Ks("complete-selected",t===r.selectedIdx),Wi(1),Cs("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Lc(7,fk,Bc(2,4,n,r.toHighlight)))}}function gk(e,t){1&e&&js(0)}function mk(e,t){if(1&e){const e=Is();Os(0,"div",32),Ds("click",function(){At(e);const t=Fs().$implicit;return Fs().select(t)}),ws(1,gk,1,0,"ng-container",33),Vc(2,"highlight"),Es()}if(2&e){const e=Fs(),t=e.index,n=e.$implicit,r=Fs();Ks("complete-selected",t===r.selectedIdx),Wi(1),Cs("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Lc(8,fk,function(e,t,n,r,i){const o=jt(),s=wt(o,22);return qc(o,Hc(o,22)?function(e,t,n,r,i,o,s,a){const c=t+n;return function(e,t,n,r,i){const o=vs(e,t,n,r);return ys(e,t+2,i)||o}(e,c,i,o,s)?ms(e,c+3,a?r.call(a,i,o,s):r(i,o,s)):Mc(e,c+3)}(o,Bt(),4,s.transform,n,r,i,s):s.transform(n,r,i))}(0,0,n,r.toHighlight,r.searchKeyword)))}}function yk(e,t){if(1&e&&(Os(0,"li",30),ws(1,pk,3,9,"div",31),ws(2,mk,3,10,"div",31),Es()),2&e){const e=t.$implicit,n=Fs();Wi(1),Cs("ngIf",n.isTypeString(e)),Wi(1),Cs("ngIf",!n.isTypeString(e))}}function vk(e,t){if(1&e){const e=Is();Os(0,"div",28),Os(1,"div",29),ca(2),Es(),Os(3,"div",13),Ds("click",function(t){return At(e),Fs().resetHistoryList(t)}),Os(4,"i",14),ca(5,"delete"),Es(),Es(),Es()}if(2&e){const e=Fs();Wi(2),la(e.historyHeading)}}function bk(e,t){1&e&&js(0)}function _k(e,t){if(1&e){const e=Is();Os(0,"div",32),Ds("click",function(){At(e);const t=Fs().$implicit;return Fs().select(t)}),ws(1,bk,1,0,"ng-container",33),Es()}if(2&e){const e=Fs(),t=e.index,n=e.$implicit,r=Fs();Ks("complete-selected",t===r.selectedIdx),Wi(1),Cs("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Lc(4,fk,n))}}function wk(e,t){1&e&&js(0)}function kk(e,t){if(1&e){const e=Is();Os(0,"div",32),Ds("click",function(){At(e);const t=Fs().$implicit;return Fs().select(t)}),ws(1,wk,1,0,"ng-container",33),Es()}if(2&e){const e=Fs(),t=e.index,n=e.$implicit,r=Fs();Ks("complete-selected",t===r.selectedIdx),Wi(1),Cs("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Lc(4,fk,n))}}function Sk(e,t){if(1&e){const e=Is();Os(0,"li",30),ws(1,_k,2,6,"div",31),ws(2,kk,2,6,"div",31),Os(3,"div",13),Ds("click",function(n){At(e);const r=t.index;return Fs().removeHistoryItem(r,n)}),Os(4,"i",14),ca(5,"close"),Es(),Es(),Es()}if(2&e){const e=t.$implicit,n=Fs();Wi(1),Cs("ngIf",n.isTypeString(e)),Wi(1),Cs("ngIf",!n.isTypeString(e))}}function Ck(e,t){1&e&&js(0)}function Tk(e,t){if(1&e&&(Os(0,"div",34),ws(1,Ck,1,0,"ng-container",33),Es()),2&e){const e=Fs();Wi(1),Cs("ngTemplateOutlet",e.notFoundTemplate)("ngTemplateOutletContext",Lc(2,fk,e.notFoundText))}}function Ok(e,t){if(1&e){const e=Is();Os(0,"div",35),Ds("click",function(){return At(e),Fs().handleOverlay()}),Es()}}const Ek=function(e){return{active:e}},Pk=function(e,t){return{"is-hidden":e,"is-visible":t}},xk=e=>(e=>38===e)(e)||(e=>40===e)(e),Rk=e=>13===e,jk=e=>27===e,Ik=e=>9===e;let Ak=(()=>{class e{constructor(e,t){this.renderer=t,this.query="",this.filteredList=[],this.historyList=[],this.isHistoryListVisible=!0,this.selectedIdx=-1,this.toHighlight="",this.notFound=!1,this.isFocused=!1,this.isOpen=!1,this.isScrollToEnd=!1,this.overlay=!1,this.manualOpen=void 0,this.manualClose=void 0,this.data=[],this.placeholder="",this.heading="",this.historyHeading="Recently selected",this.historyListMaxNumber=15,this.notFoundText="Not found",this.minQueryLength=1,this.focusFirst=!1,this.selected=new zc,this.inputChanged=new zc,this.inputFocused=new zc,this.inputCleared=new zc,this.opened=new zc,this.closed=new zc,this.scrolledToEnd=new zc,this.propagateChange=()=>{},this.onTouched=()=>{},this.elementRef=e}writeValue(e=""){this.query=e&&!this.isTypeString(e)?e[this.searchKeyword]:e}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}onChange(e){this.propagateChange(e.target.value)}setDisabledState(e){this.disabled=e}ngOnInit(){}ngAfterViewInit(){this.initEventStream(),this.handleScroll()}setInitialValue(e){this.initialValue&&this.select(e)}ngOnChanges(e){this.setInitialValue(this.initialValue),e&&e.data&&Array.isArray(e.data.currentValue)&&(this.handleItemsChange(),!e.data.firstChange&&this.isFocused&&this.handleOpen())}handleItemsChange(){this.isScrollToEnd=!1,this.isOpen&&(this.filteredList=this.data,this.notFound=!this.filteredList||0===this.filteredList.length,this.isOpen&&this.filterList())}filterList(){this.selectedIdx=-1,this.initSearchHistory(),null!=this.query&&this.data?(this.toHighlight=this.query,this.filteredList=void 0!==this.customFilter?this.customFilter([...this.data],this.query):this.defaultFilterFunction(),this.filteredList.length>0&&this.focusFirst&&(this.selectedIdx=0)):this.notFound=!1}defaultFilterFunction(){return this.data.filter(e=>"string"==typeof e?e.toLowerCase().indexOf(this.query.toLowerCase())>-1:"object"==typeof e&&e instanceof Object?e[this.searchKeyword].toLowerCase().indexOf(this.query.toLowerCase())>-1:void 0)}isTypeString(e){return"string"==typeof e}select(e){if(this.query=this.isTypeString(e)?e:e[this.searchKeyword],this.isOpen=!0,this.overlay=!1,this.selected.emit(e),this.propagateChange(e),this.initialValue)if(window.localStorage.getItem(""+this.historyIdentifier)){let t=JSON.parse(localStorage[""+this.historyIdentifier]);if(t instanceof Array||(t=[]),t.some(t=>this.isTypeString(t)?t==e:t[this.searchKeyword]==e[this.searchKeyword]))if(this.isTypeString(e)){const n=t.slice();n.splice(n.indexOf(e),1),n.splice(0,0,e),localStorage.setItem(""+this.historyIdentifier,JSON.stringify(n))}else{const n=t.slice(),r=n.map(e=>e[this.searchKeyword]).indexOf(e[this.searchKeyword]);n.splice(r,1),n.splice(0,0,e),localStorage.setItem(""+this.historyIdentifier,JSON.stringify(n))}else t.unshift(e),localStorage.setItem(""+this.historyIdentifier,JSON.stringify(t)),t.length>=this.historyListMaxNumber&&(t.splice(t.length-1,1),localStorage.setItem(""+this.historyIdentifier,JSON.stringify(t)))}else this.saveHistory(e);else this.saveHistory(e);this.handleClose()}handleClick(e){let t=e.target,n=!1;do{t===this.elementRef.nativeElement&&(n=!0,this.filteredList.length&&this.handleOpen()),t=t.parentNode}while(t);n||this.handleClose()}handleOverlay(){this.overlay=!1}handleScroll(){this.renderer.listen(this.filteredListElement.nativeElement,"scroll",()=>{this.scrollToEnd()})}setPanelState(e){e&&e.stopPropagation(),void 0===this.manualOpen&&void 0===this.manualClose&&(this.isOpen=!1,this.handleOpen()),(void 0===this.manualOpen&&!1===this.manualClose||void 0===this.manualClose&&!1===this.manualOpen)&&(this.isOpen=!1,this.handleOpen()),!1===this.manualOpen&&!1===this.manualClose&&(this.isOpen=!1,this.handleOpen()),this.manualOpen&&(this.isOpen=!1,this.handleOpen(),this.manualOpen=!1),this.manualClose&&(this.isOpen=!0,this.handleClose(),this.manualClose=!1)}open(){this.manualOpen=!0,this.isOpen=!1,this.handleOpen()}close(){this.manualClose=!0,this.isOpen=!0,this.handleClose()}focus(){this.handleFocus(event)}clear(){this.remove(event)}remove(e){e.stopPropagation(),this.query="",this.inputCleared.emit(),this.propagateChange(this.query),this.setPanelState(e),this.data&&!this.data.length&&(this.notFound=!1)}initSearchHistory(){if(this.isHistoryListVisible=!1,this.historyIdentifier&&!this.query){const e=window.localStorage.getItem(""+this.historyIdentifier);e?(this.isHistoryListVisible=!0,this.filteredList=[],this.historyList=e?JSON.parse(e):[]):this.isHistoryListVisible=!1}else this.isHistoryListVisible=!1}handleOpen(){this.isOpen||this.isOpen&&!this.isLoading||this.data&&this.data.length&&(this.isOpen=!0,this.overlay=!0,this.filterList(),this.opened.emit())}handleClose(){this.isOpen?(this.isOpen=!1,this.overlay=!1,this.filteredList=[],this.selectedIdx=-1,this.notFound=!1,this.isHistoryListVisible=!1,this.isFocused=!1,this.closed.emit()):this.isFocused=!1}handleFocus(e){this.searchInput.nativeElement.focus(),this.isFocused||(this.inputFocused.emit(e),this.data&&this.data.length&&this.setPanelState(event),this.isFocused=!0)}scrollToEnd(){this.isScrollToEnd||this.filteredListElement.nativeElement.scrollHeight===this.filteredListElement.nativeElement.scrollTop+this.filteredListElement.nativeElement.clientHeight&&(this.scrolledToEnd.emit(),this.isScrollToEnd=!0)}initEventStream(){this.inputKeyUp$=ek(this.searchInput.nativeElement,"keyup").pipe(O(e=>e)),this.inputKeyDown$=ek(this.searchInput.nativeElement,"keydown").pipe(O(e=>e)),this.listenEventStream()}listenEventStream(){this.inputKeyUp$.pipe(Th(e=>!(xk(e.keyCode)||Rk(e.keyCode)||jk(e.keyCode)||Ik(e.keyCode))),nk(this.debounceTime)).subscribe(e=>{this.onKeyUp(e)}),this.inputKeyDown$.pipe(Th(e=>xk(e.keyCode))).subscribe(e=>{e.preventDefault(),this.onFocusItem(e)}),this.inputKeyUp$.pipe(Th(e=>Rk(e.keyCode))).subscribe(e=>{}),this.inputKeyDown$.pipe(Th(e=>Rk(e.keyCode))).subscribe(e=>{this.onHandleEnter()}),this.inputKeyUp$.pipe(Th(e=>jk(e.keyCode),nk(100))).subscribe(e=>{this.onEsc()}),this.inputKeyDown$.pipe(Th(e=>Ik(e.keyCode))).subscribe(e=>{this.onTab()}),this.inputKeyDown$.pipe(Th(e=>8===e.keyCode||46===e.keyCode)).subscribe(e=>{this.onDelete()})}onKeyUp(e){this.notFound=!1,this.query||(this.notFound=!1,this.inputChanged.emit(e.target.value),this.inputCleared.emit(),this.setPanelState(e)),(this.query||""===this.query)&&this.query.length>=this.minQueryLength&&(this.inputChanged.emit(e.target.value),this.filterList(),this.filteredList.length||this.isLoading||(this.notFound=!!this.notFoundText),this.data&&!this.data.length&&(this.isOpen=!0))}onFocusItem(e){if(this.historyList.length&&this.isHistoryListVisible){const t=this.historyList.length;if("ArrowDown"===e.key){let e=this.selectedIdx;e=null===this.selectedIdx?0:e+1,this.selectedIdx=(t+e)%t,this.scrollToFocusedItem(this.selectedIdx)}else"ArrowUp"===e.key&&(-1==this.selectedIdx&&(this.selectedIdx=0),this.selectedIdx=(t+this.selectedIdx-1)%t,this.scrollToFocusedItem(this.selectedIdx))}else{const t=this.filteredList.length;if("ArrowDown"===e.key){let e=this.selectedIdx;e=null===this.selectedIdx?0:e+1,this.selectedIdx=(t+e)%t,this.scrollToFocusedItem(this.selectedIdx)}else"ArrowUp"===e.key&&(-1==this.selectedIdx&&(this.selectedIdx=0),this.selectedIdx=(t+this.selectedIdx-1)%t,this.scrollToFocusedItem(this.selectedIdx))}}scrollToFocusedItem(e){let t=null;t=this.historyList.length&&this.isHistoryListVisible?this.historyListElement.nativeElement:this.filteredListElement.nativeElement;const n=Array.prototype.slice.call(t.childNodes).filter(e=>1===e.nodeType&&e.className.includes("item"));if(!n.length)return;const r=t.offsetHeight,i=n[e].offsetHeight,o=t.scrollTop+r-i,s=n[e].offsetTop;s<t.scrollTop&&(t.scrollTop=s),s>o&&(t.scrollTop=s-r+i)}onHandleEnter(){this.selectedIdx>-1&&(this.historyList.length&&this.isHistoryListVisible?(this.query=this.isTypeString(this.historyList[this.selectedIdx])?this.historyList[this.selectedIdx]:this.historyList[this.selectedIdx][this.searchKeyword],this.saveHistory(this.historyList[this.selectedIdx]),this.select(this.historyList[this.selectedIdx])):(this.query=this.isTypeString(this.filteredList[this.selectedIdx])?this.filteredList[this.selectedIdx]:this.filteredList[this.selectedIdx][this.searchKeyword],this.saveHistory(this.filteredList[this.selectedIdx]),this.select(this.filteredList[this.selectedIdx]))),this.isHistoryListVisible=!1,this.handleClose()}onEsc(){this.searchInput.nativeElement.blur(),this.handleClose()}onTab(){this.searchInput.nativeElement.blur(),this.handleClose()}onDelete(){this.isOpen=!0}saveHistory(e){if(this.historyIdentifier)if(this.historyList.some(t=>this.isTypeString(t)?t==e:t[this.searchKeyword]==e[this.searchKeyword]))if(this.isTypeString(e)){const t=this.historyList.slice();t.splice(this.historyList.indexOf(e),1),t.splice(0,0,e),this.saveHistoryToLocalStorage([...t])}else{const t=this.historyList.slice(),n=t.map(e=>e[this.searchKeyword]).indexOf(e[this.searchKeyword]);t.splice(n,1),t.splice(0,0,e),this.saveHistoryToLocalStorage([...t])}else this.saveHistoryToLocalStorage([e,...this.historyList]),this.historyList.length>=this.historyListMaxNumber&&(this.historyList.splice(this.historyList.length-1,1),this.saveHistoryToLocalStorage([e,...this.historyList]))}saveHistoryToLocalStorage(e){window.localStorage.setItem(""+this.historyIdentifier,JSON.stringify(e))}removeHistoryItem(e,t){t.stopPropagation(),this.historyList=this.historyList.filter((t,n)=>n!==e),this.saveHistoryToLocalStorage(this.historyList),0==this.historyList.length&&(window.localStorage.removeItem(""+this.historyIdentifier),this.filterList())}resetHistoryList(e){e.stopPropagation(),this.historyList=[],window.localStorage.removeItem(""+this.historyIdentifier),this.filterList()}}return e.\u0275fac=function(t){return new(t||e)(Ss(Fa),Ss(Ua))},e.\u0275cmp=Fe({type:e,selectors:[["ng-autocomplete"]],contentQueries:function(e,t,n){if(1&e&&il(n,dc,!0),2&e){let e;nl(e=ol())&&(t.customTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(rl(sk,!0),rl(ak,!0),rl(ck,!0)),2&e){let e;nl(e=ol())&&(t.searchInput=e.first),nl(e=ol())&&(t.filteredListElement=e.first),nl(e=ol())&&(t.historyListElement=e.first)}},hostAttrs:[1,"ng-autocomplete"],hostBindings:function(e,t){1&e&&Ds("click",function(e){return t.handleClick(e)},!1,ai)},inputs:{data:"data",placeholder:"placeholder",heading:"heading",historyHeading:"historyHeading",historyListMaxNumber:"historyListMaxNumber",notFoundText:"notFoundText",minQueryLength:"minQueryLength",focusFirst:"focusFirst",disabled:"disabled",searchKeyword:"searchKeyword",initialValue:"initialValue",historyIdentifier:"historyIdentifier",isLoading:"isLoading",debounceTime:"debounceTime",customFilter:"customFilter",itemTemplate:"itemTemplate",notFoundTemplate:"notFoundTemplate"},outputs:{selected:"selected",inputChanged:"inputChanged",inputFocused:"inputFocused",inputCleared:"inputCleared",opened:"opened",closed:"closed",scrolledToEnd:"scrolledToEnd"},features:[ja([{provide:nv,useExisting:ie(()=>e),multi:!0}]),ct],decls:18,vars:22,consts:[[1,"autocomplete-container",3,"ngClass"],[1,"input-container"],["type","text","autocomplete","off",3,"placeholder","ngModel","disabled","ngModelChange","input","focus","blur"],["searchInput",""],["class","x",3,"click",4,"ngIf"],["class","sk-fading-circle",4,"ngIf"],[1,"suggestions-container",3,"ngClass"],["class","heading",4,"ngIf"],["filteredListElement",""],["class","item",4,"ngFor","ngForOf"],["historyListElement",""],["class","not-found",4,"ngIf"],["class","autocomplete-overlay",3,"click",4,"ngIf"],[1,"x",3,"click"],[1,"material-icons"],[1,"sk-fading-circle"],[1,"sk-circle1","sk-circle"],[1,"sk-circle2","sk-circle"],[1,"sk-circle3","sk-circle"],[1,"sk-circle4","sk-circle"],[1,"sk-circle5","sk-circle"],[1,"sk-circle6","sk-circle"],[1,"sk-circle7","sk-circle"],[1,"sk-circle8","sk-circle"],[1,"sk-circle9","sk-circle"],[1,"sk-circle10","sk-circle"],[1,"sk-circle11","sk-circle"],[1,"sk-circle12","sk-circle"],[1,"heading"],[1,"text"],[1,"item"],[3,"complete-selected","click",4,"ngIf"],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"not-found"],[1,"autocomplete-overlay",3,"click"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"input",2,3),Ds("ngModelChange",function(e){return t.query=e})("input",function(e){return t.onChange(e)})("focus",function(e){return t.handleFocus(e)})("blur",function(e){return t.onTouched(e)}),Es(),ws(4,lk,3,0,"div",4),ws(5,uk,13,0,"div",5),Es(),Os(6,"div",6),ws(7,hk,3,1,"div",7),Os(8,"ul",null,8),ws(10,yk,3,2,"li",9),Es(),Es(),Os(11,"div",6),ws(12,vk,6,1,"div",7),Os(13,"ul",null,10),ws(15,Sk,6,2,"li",9),Es(),Es(),ws(16,Tk,2,4,"div",11),Es(),ws(17,Ok,1,0,"div",12)),2&e&&(Cs("ngClass",Lc(14,Ek,t.isOpen)),Wi(2),Vs("placeholder",t.placeholder),Cs("ngModel",t.query)("disabled",t.disabled),Wi(2),Cs("ngIf",t.query&&!t.isLoading&&!t.disabled),Wi(1),Cs("ngIf",t.isLoading),Wi(1),Cs("ngClass",Dc(16,Pk,t.isHistoryListVisible,!t.isHistoryListVisible)),Wi(1),Cs("ngIf",t.filteredList.length>0&&t.heading),Wi(3),Cs("ngForOf",t.filteredList),Wi(1),Cs("ngClass",Dc(19,Pk,!t.isHistoryListVisible,t.isHistoryListVisible)),Wi(1),Cs("ngIf",t.historyList.length>0&&t.historyHeading),Wi(3),Cs("ngForOf",t.historyList),Wi(1),Cs("ngIf",t.isLoading?!t.isLoading&&t.notFound:t.notFound),Wi(1),Cs("ngIf",t.overlay))},directives:function(){return[ch,av,xv,kb,dh,uh,mh]},pipes:function(){return[Lk]},styles:['@import url(https://fonts.googleapis.com/icon?family=Material+Icons);.ng-autocomplete{width:600px}.autocomplete-container{box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);position:relative;overflow:visible;height:40px}.autocomplete-container .input-container input{font-size:14px;box-sizing:border-box;border:none;box-shadow:none;outline:0;background-color:#fff;color:rgba(0,0,0,.87);width:100%;padding:0 15px;line-height:40px;height:40px}.autocomplete-container .input-container input:disabled{background-color:#eee;color:#666}.autocomplete-container .input-container .x{position:absolute;right:10px;margin:auto;cursor:pointer;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.autocomplete-container .input-container .x i{color:rgba(0,0,0,.54);font-size:22px;vertical-align:middle}.autocomplete-container .suggestions-container{position:absolute;width:100%;background:#fff;height:auto;box-shadow:0 2px 5px rgba(0,0,0,.25);box-sizing:border-box}.autocomplete-container .suggestions-container ul{padding:0;margin:0;max-height:240px;overflow-y:auto}.autocomplete-container .suggestions-container ul li{position:relative;list-style:none;padding:0;margin:0;cursor:pointer}.autocomplete-container .suggestions-container ul li a{padding:14px 15px;display:block;text-decoration:none;cursor:pointer;color:rgba(0,0,0,.87);font-size:15px}.autocomplete-container .suggestions-container .complete-selected,.autocomplete-container .suggestions-container ul li:hover{background-color:rgba(158,158,158,.18)}.autocomplete-container .suggestions-container .heading{position:relative;padding:10px 15px;border:1px solid #f1f1f1}.autocomplete-container .suggestions-container .heading .text{font-size:.85em}.autocomplete-container .suggestions-container .x{position:absolute;right:10px;margin:auto;cursor:pointer;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.autocomplete-container .suggestions-container .x i{color:rgba(0,0,0,.54);font-size:18px;vertical-align:middle}.autocomplete-container .suggestions-container.is-hidden{visibility:hidden}.autocomplete-container .suggestions-container.is-visible{visibility:visible}.autocomplete-container .not-found{padding:0 .75em;border:1px solid #f1f1f1;background:#fff}.autocomplete-container .not-found div{padding:.4em 0;font-size:.95em;line-height:1.4;border-bottom:1px solid rgba(230,230,230,.7)}.autocomplete-container.active{z-index:999}.highlight{font-weight:700}.autocomplete-overlay{position:fixed;background-color:transparent;width:100%;height:100%;top:0;right:0;bottom:0;left:0;z-index:50}input[type=text]::-ms-clear{display:none}.sk-fading-circle{width:20px;height:20px;position:absolute;right:10px;top:0;bottom:0;margin:auto}.sk-fading-circle .sk-circle{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle .sk-circle:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;-webkit-animation:1.2s ease-in-out infinite both sk-circleFadeDelay;animation:1.2s ease-in-out infinite both sk-circleFadeDelay}.sk-fading-circle .sk-circle2{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.sk-fading-circle .sk-circle3{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.sk-fading-circle .sk-circle4{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.sk-fading-circle .sk-circle5{-webkit-transform:rotate(120deg);transform:rotate(120deg)}.sk-fading-circle .sk-circle6{-webkit-transform:rotate(150deg);transform:rotate(150deg)}.sk-fading-circle .sk-circle7{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.sk-fading-circle .sk-circle8{-webkit-transform:rotate(210deg);transform:rotate(210deg)}.sk-fading-circle .sk-circle9{-webkit-transform:rotate(240deg);transform:rotate(240deg)}.sk-fading-circle .sk-circle10{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.sk-fading-circle .sk-circle11{-webkit-transform:rotate(300deg);transform:rotate(300deg)}.sk-fading-circle .sk-circle12{-webkit-transform:rotate(330deg);transform:rotate(330deg)}.sk-fading-circle .sk-circle2:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-fading-circle .sk-circle3:before{-webkit-animation-delay:-1s;animation-delay:-1s}.sk-fading-circle .sk-circle4:before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-fading-circle .sk-circle5:before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.sk-fading-circle .sk-circle6:before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-fading-circle .sk-circle7:before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.sk-fading-circle .sk-circle8:before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-fading-circle .sk-circle9:before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.sk-fading-circle .sk-circle10:before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.sk-fading-circle .sk-circle11:before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.sk-fading-circle .sk-circle12:before{-webkit-animation-delay:-.1s;animation-delay:-.1s}@-webkit-keyframes sk-circleFadeDelay{0%,100%,39%{opacity:0}40%{opacity:1}}@keyframes sk-circleFadeDelay{0%,100%,39%{opacity:0}40%{opacity:1}}'],encapsulation:2}),e})(),Lk=(()=>{class e{transform(e,t,n){let r=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");r=r.split(" ").filter(e=>e.length>0).join("|");const i=new RegExp(r,"gi");if(!t)return e;if(n){const t=e[n].replace(i,e=>`<b>${e}</b>`),r=Object.assign({},e);return r[n]=t,r}return t?e.replace(i,e=>`<b>${e}</b>`):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=We({name:"highlight",type:e,pure:!0}),e})(),Dk=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[vh,Db]]}),e})();function Mk(e,t){if(1&e){const e=Is();Os(0,"i",63),Ds("click",function(){At(e);const t=Fs().$implicit;return Fs(2).showAcceptanceModal(t.jobID)}),Es()}}function Nk(e,t){if(1&e){const e=Is();Os(0,"i",64),Ds("click",function(){At(e);const t=Fs().$implicit;return Fs(2).showassignationModal(t.jobID,t.acceptedBy)}),Es()}}function Fk(e,t){if(1&e&&(Os(0,"tr",56),Os(1,"th",57),Os(2,"div"),ca(3),Es(),Os(4,"div",58),Os(5,"span"),ca(6,"Requested Time: "),Es(),ca(7),Vc(8,"date"),Es(),Es(),Os(9,"td"),Ps(10,"app-coloredrow",59),Es(),Os(11,"td"),ca(12),Es(),Os(13,"td",60),ws(14,Mk,1,0,"i",61),Es(),Os(15,"td",60),ws(16,Nk,1,0,"i",62),Es(),Es()),2&e){const e=t.$implicit;Wi(3),ua(" ",e.name," "),Wi(4),ua("",Uc(8,6,e.createdAt)," "),Wi(3),Cs("jobState",e.jobState),Wi(2),ua("",e.postedBy," "),Wi(2),Cs("ngIf",0===e.jobState),Wi(2),Cs("ngIf",!(0===e.jobState))}}function Vk(e,t){if(1&e&&(Os(0,"table",52),Os(1,"thead"),Os(2,"tr"),Os(3,"th",53),ca(4,"Request"),Es(),Os(5,"th",53),ca(6,"Request State"),Es(),Os(7,"th",53),ca(8,"Requested By"),Es(),Os(9,"th",54),ca(10,"Apply"),Es(),Os(11,"th",54),ca(12,"Assign request"),Es(),Es(),Es(),Os(13,"tbody"),ws(14,Fk,17,8,"tr",55),Es(),Es()),2&e){const e=Fs();Wi(14),Cs("ngForOf",e.items)}}function Uk(e,t){1&e&&(Os(0,"div",65),Ps(1,"i",66),ca(2,"You have successfully accepted the request. "),Es())}function Bk(e,t){1&e&&Ps(0,"span",67)}function Hk(e,t){1&e&&(Os(0,"span"),ca(1,"Save changes"),Es())}function qk(e,t){1&e&&(Os(0,"div",68),Ps(1,"i",66),ca(2,"Request have been assign successfully. "),Es())}function zk(e,t){1&e&&Ps(0,"a",69),2&e&&Cs("innerHTML",t.$implicit.name,Zr)}function Wk(e,t){1&e&&Ps(0,"div",69),2&e&&Cs("innerHTML","No username found ...",Zr)}function $k(e,t){1&e&&Ps(0,"span",67)}function Gk(e,t){1&e&&(Os(0,"span"),ca(1,"Save changes"),Es())}let Qk=(()=>{class e extends ay{constructor(e,t,n,r,i){super(),this.jobService=e,this.router=t,this.tokenService=n,this.userService=r,this.toastrService=i,this.job=new r_,this.isAccepted=!1,this.isAcceptingLoading=!1,this.dataUser=[],this.keyword="name",this.previousUserName="",this.isAssignedSuccessfully=!1,this.allowedRoles=this.tokenService.getUserRoles()}ngOnInit(){this.getItems()}getItems(e=1){this.isLoading=!0,this.add=this.jobService.getJobs(e,this.query).subscribe(e=>{e.isSuccess?(this.items=e.listModel,this.pager=e.pager):(this.isError=!0,this.errorMessage=e.message)},e=>{console.log(e.error),this.isError=!0,this.errorMessage=e.message,401==e.status&&this.router.navigateByUrl("/Login")},()=>{this.isLoading=!1})}reset(){this.query="",this.getItems()}onSubmitForm(e){this.jobService.createJob(this.job).subscribe(e=>{},e=>{console.log(e.error),this.isError=!0,this.errorMessage=e.message,401==e.status&&this.router.navigateByUrl("/Login")},()=>{this.isLoading=!1,e.reset(),this.getItems()})}onAcceptorSubmitForm(e){this.isAcceptingLoading=!0,this.jobService.acceptJob(this.job).subscribe(e=>{e.isSuccess&&(this.isAccepted=!0)},e=>{console.log(e.error),this.isError=!0,this.errorMessage=e.message,401==e.status&&this.router.navigateByUrl("/Login"),this.isAcceptingLoading=!1},()=>{this.isAcceptingLoading=!1,e.reset(),this.getItems()})}onAssignationSubmitForm(e){this.isAcceptingLoading=!0,this.jobService.assignJob(this.job).subscribe(e=>{e.isSuccess&&(this.isAssignedSuccessfully=!0)},e=>{console.log(e.error),this.isError=!0,this.errorMessage=e.message,401==e.status&&this.router.navigateByUrl("/Login"),this.isAcceptingLoading=!1},()=>{this.isAcceptingLoading=!1,e.reset(),this.getItems()})}showAcceptanceModal(e){this.isAccepted=!1,this.job.jobID=e,$("#acceptenceJobModal").modal("show")}showassignationModal(e,t){this.isAssignedSuccessfully=!1,this.previousUserName=null!==t?t:"Assign fresh request...",this.job.jobID=e,$("#assignationModal").modal("show")}selectEventUser(e){this.job.acceptedBy=e.name}onChangeSearchUser(e){this.userService.SearchUsers(e).subscribe(e=>{this.dataUser=e})}ngOnDestroy(){this.dispose()}}return e.\u0275fac=function(t){return new(t||e)(Ss(o_),Ss(Am),Ss(ud),Ss(Dw),Ss(Jy))},e.\u0275cmp=Fe({type:e,selectors:[["app-job"]],features:[ss],decls:104,vars:27,consts:[[1,"container",2,"height","100%"],[1,"row"],[1,"col-md-4"],[1,"pr-2","mr-2",2,"display","inline-block","border-right","1px solid #593196"],["data-toggle","modal","data-target","#modal_aside_left",1,"btn","btn-outline-primary"],[1,"fas","fa-plus","ml-2"],[1,"badge","badge-primary"],[1,"col-md-5"],[1,"col-md-3"],[1,"input-group","mb-3"],["type","text","required","","placeholder","Search here. . .","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[1,"fas","fa-sync-alt"],[3,"isLoading"],["class","table table-hover",4,"ngIf"],[3,"pager","isPaginationLoading","nextPage"],["id","modal_aside_left","tabindex","-1","role","dialog",1,"modal","fixed-left","fade"],["role","document",1,"modal-dialog","modal-dialog-aside"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"ngSubmit"],["jobForm","ngForm"],[1,"modal-body"],[1,"form-group","required"],["type","text","name","name","required","","minlength","3",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"form-group"],["type","text","name","description",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","acceptenceJobModal","tabindex","-1","role","dialog",1,"modal","fixed-left","fade"],["role","document",1,"modal-dialog"],["acceptorjobForm","ngForm"],["style","border-left: 4px solid;","class","text-success alert alert-success",4,"ngIf"],["type","hidden","name","jobID",3,"ngModel","ngModelChange"],["type","text","name","description","required","","minlength","15",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[4,"ngIf"],["id","assignationModal","tabindex","-1","role","dialog",1,"modal","fixed-left","fade"],["assignationjobForm","ngForm"],[1,"modal-body",2,"height","80vh"],["style","border-left: 4px solid;","class","alert alert-success",4,"ngIf"],["type","hidden","name","acceptedBy","required","",3,"ngModel","ngModelChange"],["type","text","readonly","",1,"form-control","form-control-sm",3,"value"],[3,"data","searchKeyword","debounceTime","itemTemplate","notFoundTemplate","selected","inputChanged"],["itemTemplate",""],["notFoundTemplate",""],[1,"table","table-hover"],["scope","col"],["scope","col",1,"text-center"],["class","table-light",4,"ngFor","ngForOf"],[1,"table-light"],["scope","row"],[1,"small","text-muted"],[3,"jobState"],[1,"text-center"],["style","cursor: pointer;;","class","fas fa-hand-point-up text-success",3,"click",4,"ngIf"],["style","cursor: pointer;","class","fas fa-user-tag text-primary",3,"click",4,"ngIf"],[1,"fas","fa-hand-point-up","text-success",2,"cursor","pointer",3,"click"],[1,"fas","fa-user-tag","text-primary",2,"cursor","pointer",3,"click"],[1,"text-success","alert","alert-success",2,"border-left","4px solid"],[1,"fas","fa-check-circle","mr-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"alert","alert-success",2,"border-left","4px solid"],[3,"innerHTML"]],template:function(e,t){if(1&e){const e=Is();Os(0,"div",0),Os(1,"div",1),Os(2,"div",2),Os(3,"span",3),Os(4,"button",4),ca(5," Generate Request"),Ps(6,"i",5),Es(),Es(),Os(7,"span",6),ca(8),Es(),Es(),Ps(9,"div",7),Os(10,"div",8),Os(11,"div",9),Os(12,"input",10),Ds("ngModelChange",function(e){return t.query=e}),Es(),Os(13,"div",11),Os(14,"button",12),Ds("click",function(){return t.getItems()}),Ps(15,"i",13),Es(),Es(),Os(16,"div",11),Os(17,"button",12),Ds("click",function(){return t.reset()}),Ps(18,"i",14),Es(),Es(),Es(),Es(),Es(),Ps(19,"app-loader",15),ws(20,Vk,15,1,"table",16),Os(21,"app-paginaton",17),Ds("nextPage",function(e){return t.getItems(e)}),Es(),Os(22,"div",18),Os(23,"div",19),Os(24,"div",20),Os(25,"div",21),Os(26,"h5",22),ca(27,"Create Request"),Es(),Os(28,"button",23),Os(29,"span",24),ca(30,"\xd7"),Es(),Es(),Es(),Os(31,"form",25,26),Ds("ngSubmit",function(){At(e);const n=ks(32);return n.form.valid&&t.onSubmitForm(n)}),Os(33,"div",27),Os(34,"div",28),Os(35,"label"),ca(36,"Request/Name :"),Es(),Os(37,"input",29),Ds("ngModelChange",function(e){return t.job.name=e}),Es(),Es(),Os(38,"div",30),Os(39,"label"),ca(40,"Description :"),Es(),Os(41,"input",31),Ds("ngModelChange",function(e){return t.job.description=e}),Es(),Es(),Es(),Os(42,"div",32),Os(43,"button",33),ca(44,"Close"),Es(),Os(45,"button",34),ca(46,"Save changes"),Es(),Es(),Es(),Es(),Es(),Es(),Os(47,"div",35),Os(48,"div",36),Os(49,"div",20),Os(50,"div",21),Os(51,"h5",22),ca(52,"Accept Request"),Es(),Os(53,"button",23),Os(54,"span",24),ca(55,"\xd7"),Es(),Es(),Es(),Os(56,"form",25,37),Ds("ngSubmit",function(){At(e);const n=ks(57);return n.form.valid&&t.onAcceptorSubmitForm(n)}),Os(58,"div",27),ws(59,Uk,3,0,"div",38),Os(60,"div",28),Os(61,"label"),ca(62,"Please describe your skills/experience in short terms:"),Es(),Os(63,"input",39),Ds("ngModelChange",function(e){return t.job.jobID=e}),Es(),Os(64,"input",40),Ds("ngModelChange",function(e){return t.job.description=e}),Es(),Es(),Es(),Os(65,"div",32),Os(66,"button",33),ca(67,"Close"),Es(),Os(68,"button",34),ws(69,Bk,1,0,"span",41),ws(70,Hk,2,0,"span",42),Es(),Es(),Es(),Es(),Es(),Es(),Os(71,"div",43),Os(72,"div",19),Os(73,"div",20),Os(74,"div",21),Os(75,"h5",22),ca(76,"Assign Request"),Es(),Os(77,"button",23),Os(78,"span",24),ca(79,"\xd7"),Es(),Es(),Es(),Os(80,"form",25,44),Ds("ngSubmit",function(){At(e);const n=ks(81);return n.form.valid&&t.onAssignationSubmitForm(n)}),Os(82,"div",45),ws(83,qk,3,0,"div",46),Os(84,"div",28),Os(85,"label"),ca(86,"From:"),Es(),Os(87,"input",39),Ds("ngModelChange",function(e){return t.job.jobID=e}),Es(),Os(88,"input",47),Ds("ngModelChange",function(e){return t.job.acceptedBy=e}),Es(),Ps(89,"input",48),Es(),Os(90,"div",28),Os(91,"label"),ca(92,"To:"),Es(),Os(93,"ng-autocomplete",49),Ds("selected",function(e){return t.selectEventUser(e)})("inputChanged",function(e){return t.onChangeSearchUser(e)}),Es(),ws(94,zk,1,1,"ng-template",null,50,ll),ws(96,Wk,1,1,"ng-template",null,51,ll),Es(),Es(),Os(98,"div",32),Os(99,"button",33),ca(100,"Close"),Es(),Os(101,"button",34),ws(102,$k,1,0,"span",41),ws(103,Gk,2,0,"span",42),Es(),Es(),Es(),Es(),Es(),Es(),Es()}if(2&e){const e=ks(32),n=ks(57),r=ks(81),i=ks(95),o=ks(97);Wi(8),ua("Total: ",t.pager.totalItems,""),Wi(4),Cs("ngModel",t.query),Wi(7),Cs("isLoading",t.isLoading),Wi(1),Cs("ngIf",!t.isLoading),Wi(1),Cs("pager",t.pager)("isPaginationLoading",t.isLoading),Wi(16),Cs("ngModel",t.job.name),Wi(4),Cs("ngModel",t.job.description),Wi(4),Cs("disabled",!e.valid),Wi(14),Cs("ngIf",t.isAccepted),Wi(4),Cs("ngModel",t.job.jobID),Wi(1),Cs("ngModel",t.job.description),Wi(4),Cs("disabled",!n.valid||t.isAcceptingLoading),Wi(1),Cs("ngIf",t.isAcceptingLoading),Wi(1),Cs("ngIf",!t.isAcceptingLoading),Wi(13),Cs("ngIf",t.isAssignedSuccessfully),Wi(4),Cs("ngModel",t.job.jobID),Wi(1),Cs("ngModel",t.job.acceptedBy),Wi(1),Cs("value",t.previousUserName),Wi(4),Cs("data",t.dataUser)("searchKeyword",t.keyword)("debounceTime",500)("itemTemplate",i)("notFoundTemplate",o),Wi(8),Cs("disabled",!r.valid||t.isAcceptingLoading),Wi(1),Cs("ngIf",t.isAcceptingLoading),Wi(1),Cs("ngIf",!t.isAcceptingLoading)}},directives:[av,Rb,xv,kb,Vb,dh,zb,Sb,Rv,bb,Ib,Ak,uh,s_],pipes:[yh],styles:[".albums[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));grid-gap:20px}.album[_ngcontent-%COMP%]{background:hsla(0,1.9%,42%,.2);box-shadow:0 0 5px rgba(29,22,22,0);padding:20px;display:grid;grid-template-columns:150px 1fr;grid-gap:10px;align-items:center;color:#000;font-weight:100}.album__artwork[_ngcontent-%COMP%]{width:100%}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{width:350px;max-width:80%;height:100%;margin:0;transform:translate(0);transition:transform .2s}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:inherit;border:0;border-radius:0}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal.fixed-left[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-left:auto;transform:translateX(100%)}.modal.fixed-right[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-right:auto;transform:translateX(-100%)}.modal.show[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{transform:translateX(0)}"]}),e})();var Kk=n("U2p0");function Jk(e,t){if(1&e&&(Os(0,"h6",26),ca(1),Es()),2&e){const e=Fs();Wi(1),la(e.errorMessage)}}function Yk(e,t){1&e&&(Os(0,"div",27),ca(1,"Email is required"),Es())}function Zk(e,t){1&e&&(Os(0,"div",27),ca(1,"Incorrect email"),Es())}function Xk(e,t){1&e&&(Os(0,"div",27),ca(1,"Password is required"),Es())}function eS(e,t){1&e&&(Os(0,"div",27),ca(1,"Minimum length is 3"),Es())}function tS(e,t){1&e&&Ps(0,"span",28)}function nS(e,t){1&e&&(Os(0,"span",29),ca(1,"Loading..."),Es())}function rS(e,t){1&e&&(Os(0,"span"),ca(1,"Login"),Es())}const iS=function(e,t){return{"is-valid":e,"is-invalid":t}},oS=function(e,t){return{"is-invalid":e,"is-valid":t}};let sS=(()=>{class e extends ay{constructor(e,t,n,r){super(),this.formBuilder=e,this.userService=t,this.router=n,this.tokenService=r,this.submitted=!1,this.loginForm=this.formBuilder.group({UserName:new pb("",[fv.required,fv.email]),Password:new pb("",[fv.required,fv.minLength(3)])})}ngOnInit(){}get f(){return this.loginForm.controls}get getEmail(){return this.loginForm.get("UserName")}get getPassword(){return this.loginForm.get("Password")}onSubmit(){this.submitted=!0,this.loginForm.invalid||(this.LoginModel=new Mw(this.loginForm.value),this.isLoading=!0,this.userService.Login(this.LoginModel).pipe(Object(Kk.delay)(500)).subscribe(e=>{e.isSuccess?(this.tokenService.setUser(e.model),this.router.navigateByUrl("/Users")):(this.isError=!0,this.errorMessage=e.message)},e=>{this.isError=!0,this.errorMessage=e.message},()=>{this.isLoading=!1}))}}return e.\u0275fac=function(t){return new(t||e)(Ss(Lb),Ss(Dw),Ss(Am),Ss(ud))},e.\u0275cmp=Fe({type:e,selectors:[["app-login"]],features:[ss],decls:36,vars:18,consts:[["id","layoutAuthentication"],["id","layoutAuthentication_content"],[1,"container","py-5"],[1,"row","justify-content-center"],[1,"col-lg-5"],[1,"card","shadow-lg","border-0","rounded-lg","mt-5"],[1,"card-header"],[1,"text-center","font-weight-light","my-4"],[1,"card-body"],["class","card-subtitle mb-2 text-center text-danger",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"small","mb-1"],["formControlName","UserName","type","email","placeholder","Enter email","autocomplete","true",1,"form-control","py-4",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputPassword",1,"small","mb-1"],["formControlName","Password","type","password","id","inputPassword","type","text","placeholder","Enter password",1,"form-control","py-4",3,"ngClass"],[1,"form-group","d-flex","align-items-center","justify-content-between","mt-4","mb-0"],["href","password.html",1,"small"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","sr-only",4,"ngIf"],[4,"ngIf"],[1,"card-footer","text-center"],[1,"small"],["routerLink","/Register"],[1,"card-subtitle","mb-2","text-center","text-danger"],[1,"invalid-feedback"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"sr-only"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"main"),Os(3,"div",2),Os(4,"div",3),Os(5,"div",4),Os(6,"div",5),Os(7,"div",6),Os(8,"h3",7),ca(9,"Login"),Es(),Es(),Os(10,"div",8),ws(11,Jk,2,1,"h6",9),Os(12,"form",10),Ds("ngSubmit",function(){return t.onSubmit()}),Os(13,"div",11),Os(14,"label",12),ca(15,"Email"),Es(),Ps(16,"input",13),ws(17,Yk,2,0,"div",14),ws(18,Zk,2,0,"div",14),Es(),Os(19,"div",11),Os(20,"label",15),ca(21,"Password"),Es(),Ps(22,"input",16),ws(23,Xk,2,0,"div",14),ws(24,eS,2,0,"div",14),Es(),Os(25,"div",17),Os(26,"a",18),ca(27,"Forgot Password?"),Es(),Os(28,"button",19),ws(29,tS,1,0,"span",20),ws(30,nS,2,0,"span",21),ws(31,rS,2,0,"span",22),Es(),Es(),Es(),Es(),Os(32,"div",23),Os(33,"div",24),Os(34,"a",25),ca(35,"Need an account? Sign up!"),Es(),Es(),Es(),Es(),Es(),Es(),Es(),Es(),Es(),Es()),2&e&&(Wi(11),Cs("ngIf",t.isError),Wi(1),Cs("formGroup",t.loginForm),Wi(4),Cs("ngClass",Dc(12,iS,(null==t.getEmail?null:t.getEmail.valid)&&((null==t.getEmail?null:t.getEmail.dirty)||(null==t.getEmail?null:t.getEmail.touched))||(null==t.getEmail?null:t.getEmail.valid)&&t.submitted,(null==t.getEmail?null:t.getEmail.invalid)&&((null==t.getEmail?null:t.getEmail.dirty)||(null==t.getEmail?null:t.getEmail.touched))||(null==t.getEmail?null:t.getEmail.invalid)&&t.submitted)),Wi(1),Cs("ngIf",(null==t.getEmail||null==t.getEmail.errors?null:t.getEmail.errors.required)&&((null==t.getEmail?null:t.getEmail.touched)||(null==t.getEmail?null:t.getEmail.dirty))||(null==t.getEmail||null==t.getEmail.errors?null:t.getEmail.errors.required)&&t.submitted),Wi(1),Cs("ngIf",(null==t.getEmail||null==t.getEmail.errors?null:t.getEmail.errors.email)&&(null==t.getEmail?null:t.getEmail.touched)),Wi(4),Cs("ngClass",Dc(15,oS,(null==t.getPassword?null:t.getPassword.invalid)&&((null==t.getPassword?null:t.getPassword.touched)||(null==t.getPassword?null:t.getPassword.dirty))||(null==t.getPassword?null:t.getPassword.invalid)&&t.submitted,(null==t.getPassword?null:t.getPassword.valid)&&((null==t.getPassword?null:t.getPassword.touched)||(null==t.getPassword?null:t.getPassword.dirty))||(null==t.getPassword?null:t.getPassword.valid)&&t.submitted)),Wi(1),Cs("ngIf",(null==t.getPassword||null==t.getPassword.errors?null:t.getPassword.errors.required)&&(null==t.getPassword?null:t.getPassword.touched)||(null==t.getPassword||null==t.getPassword.errors?null:t.getPassword.errors.required)&&t.submitted),Wi(1),Cs("ngIf",(null==t.getPassword||null==t.getPassword.errors?null:t.getPassword.errors.minlength)&&(null==t.getPassword?null:t.getPassword.touched)),Wi(4),Cs("disabled",t.isLoading),Wi(1),Cs("ngIf",t.isLoading),Wi(1),Cs("ngIf",t.isLoading),Wi(1),Cs("ngIf",!t.isLoading))},directives:[dh,Sb,Rv,Ob,av,xv,Pb,ch,Dm],styles:[""]}),e})();const aS=["sendingTextt"],cS=["receivingTextt"],lS=["localvid"],uS=["remotevid"];function hS(e,t){1&e&&(Os(0,"h1"),ca(1,"Hello"),Es())}const dS={iceServers:[{urls:"stun:stun.services.mozilla.com"},{urls:"stun:stun.l.google.com:19302"},{urls:"turn:numb.viagenie.ca",username:"khanxhahrukh@gmail.com",credential:"file348132"}]};let fS=(()=>{class e{constructor(){this.issendChannelConnectionOpen=!1,this.isreceivingChannelConnectionOpen=!1}ngOnInit(){}ngAfterViewInit(){}Trace(e){console.log((performance.now()/1e3).toFixed(3)+": "+e)}createConnection(){var e;try{window.localPeerConnection=new RTCPeerConnection(dS),window.sendChannel=null===(e=window.localPeerConnection)||void 0===e?void 0:e.createDataChannel("sendDataChannel"),this.Trace("Created send data channel")}catch(t){alert("Failed to create data channel. You need Chrome M25 or later with RtpDataChannel enabled"),this.Trace("createDataChannel() failed with exception: "+t.message)}window.localPeerConnection.onicecandidate=this.gotLocalCandidate,window.sendChannel.onmessage=this.handleLocalMessage,window.sendChannel.onopen=this.handleSendChannelStateChange,window.sendChannel.onclose=this.handleSendChannelStateChange,window.localPeerConnection.oniceconnectionstatechange=this.Localoniceconnectionstatechange,window.remotePeerConnection=new RTCPeerConnection(dS),console.log("Created Remote Peer Connection Object remotePeerConnection"),window.remotePeerConnection.ontrack=this.onremotetrack,window.remotePeerConnection.onicecandidate=this.gotRemoteIceCandidate,window.remotePeerConnection.ondatachannel=this.gotReceiveChannel,window.remotePeerConnection.oniceconnectionstatechange=this.Remoteoniceconnectionstatechange,window.localPeerConnection.createOffer().then(e=>{console.log("Local Description OR Offer: "+JSON.stringify(e)),this.gotLocalDescription(e)}).catch(e=>this.Trace("Error: "+e))}onremotetrack(e){}attach(e){this.remotevid.nativeElement.srcObject=e,this.remotevid.nativeElement.play()}sendData(){try{window.sendChannel.send(this.sendingTextt.nativeElement.value),console.log("Sent data: "+this.sendingTextt.nativeElement.value)}catch(e){console.log("Error: "+e.message),console.log("Send Channel Ready State: "+window.sendChannel.readyState),console.log("Received Channel Ready State: "+window.receiveChannel.readyState)}}SendReceiveData(){try{window.receiveChannel.send(this.receivingTextt.nativeElement.value),console.log("Sent data: "+this.receivingTextt.nativeElement.value)}catch(e){console.log("Error: "+e.message),console.log("Send Channel Ready State: "+window.sendChannel.readyState),console.log("Received Channel Ready State: "+window.receiveChannel.readyState)}}gotRemoteIceCandidate(e){var t;console.log("Remote Ice Callback"),e.candidate&&(null===(t=window.localPeerConnection)||void 0===t||t.addIceCandidate(e.candidate),console.log("Remote ICE candidate: \n "+e.candidate.candidate)),"complete"==e.target.iceGatheringState&&console.log("Remote Candidate iceGatheringState: "+e.target.iceGatheringState)}gotReceiveChannel(e){window.receiveChannel=e.channel,window.receiveChannel.addEventListener("message",function(e){alert("Received: "+e.data)}),window.receiveChannel.addEventListener("open",function(){console.log("Remote Connection Open")}),window.receiveChannel.addEventListener("close",function(){console.log("Remote Connection Closed")}),console.log("Receive Channel Callback")}handleRemoteMessage(e){console.log("Received message: "+e.data),this.receivingTextt.nativeElement.value=e.data}handleLocalMessage(e){alert("Sent message: "+e.data),this.issendChannelConnectionOpen=!0}handleSendChannelStateChange(){console.log("Send channel state is: "+window.sendChannel.readyState),"open"==window.sendChannel.readyState?(console.log("Send channel state is: open"),this.issendChannelConnectionOpen=!0):console.log("Send channel state is: "+window.sendChannel.readyState)}handleReceiveChannelStateChange(){console.log("Receive channel state is: "+window.receiveChannel.readyState),this.isreceivingChannelConnectionOpen=!0}gotLocalCandidate(e){var t;console.log("Local Ice CallBack"),e.candidate&&(null===(t=window.remotePeerConnection)||void 0===t||t.addIceCandidate(e.candidate),console.log("Local ICE Candidate: \n"+e.candidate.candidate)),"complete"==e.target.iceGatheringState&&console.log("Local Candidate iceGatheringState: "+e.target.iceGatheringState)}gotLocalDescription(e){var t,n;null===(t=window.localPeerConnection)||void 0===t||t.setLocalDescription(e),console.log("Offer from LocalPeerConnection \n"+JSON.stringify(e.sdp)),window.remotePeerConnection.setRemoteDescription(e),null===(n=window.remotePeerConnection)||void 0===n||n.createAnswer().then(e=>{console.log("Remote Description OR Answer: "+JSON.stringify(e)),this.gotRemoteDescription(e)}).catch(e=>this.Trace("Error: "+e))}gotRemoteDescription(e){var t,n;null===(t=window.remotePeerConnection)||void 0===t||t.setLocalDescription(e),console.log("Answer from remotePeerConnection \n"+JSON.stringify(e.sdp)),null===(n=window.localPeerConnection)||void 0===n||n.setRemoteDescription(e)}Localoniceconnectionstatechange(e){console.log("Local oniceconnectionstatechange: "+e.target.iceConnectionState)}Remoteoniceconnectionstatechange(e){console.log("Remote oniceconnectionstatechange: "+e.target.iceConnectionState)}closeDataChannels(){var e,t,n;window.sendChannel.close(),null===(e=window.receiveChannel)||void 0===e||e.close(),null===(t=window.localPeerConnection)||void 0===t||t.close(),null===(n=window.remotePeerConnection)||void 0===n||n.close(),this.issendChannelConnectionOpen=!1,this.isreceivingChannelConnectionOpen=!1}maybeAddLineBreakToEnd(e){return new RegExp(/\n$/).test(e)?e:e+"\n"}ondatachannel(e){}gotRemoteStream(e){console.log("ontrack")}onIceCandidate(e){}onnegotiationneeded(e){console.log("onnegotiationneeded")}onopen(e){console.log("Connection Opened.")}onclose(e){console.log("Connection Closed.")}onmessage(e){console.log(JSON.stringify(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-answer"]],viewQuery:function(e,t){if(1&e&&(rl(aS,!0),rl(cS,!0),rl(lS,!0),rl(uS,!0)),2&e){let e;nl(e=ol())&&(t.sendingTextt=e.first),nl(e=ol())&&(t.receivingTextt=e.first),nl(e=ol())&&(t.localvid=e.first),nl(e=ol())&&(t.remotevid=e.first)}},decls:25,vars:1,consts:[[1,"container"],["autoplay","","muted",""],["localvid",""],["autoplay","","muted","","id","remoteid"],["remotevid",""],[4,"ngIf"],[1,"form-group"],["placeholder","Press Start, enter some text, then press Send."],["rows","1",1,"form-control"],["sendingTextt",""],["receivingTextt",""],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(Os(0,"div",0),Ps(1,"video",1,2),Ps(3,"video",3,4),ws(5,hS,2,0,"h1",5),Os(6,"div",6),Os(7,"label",7),ca(8," Sending "),Es(),Ps(9,"textarea",8,9),Es(),Os(11,"div",6),Os(12,"label"),ca(13," Receiving "),Es(),Ps(14,"textarea",8,10),Es(),Os(16,"div",11),Os(17,"button",12),Ds("click",function(){return t.createConnection()}),ca(18,"Start"),Es(),Os(19,"button",13),Ds("click",function(){return t.sendData()}),ca(20,"Send as Sender"),Es(),Os(21,"button",13),Ds("click",function(){return t.SendReceiveData()}),ca(22,"Send as Receiver"),Es(),Os(23,"button",14),Ds("click",function(){return t.closeDataChannels()}),ca(24,"Stop"),Es(),Es(),Es()),2&e&&(Wi(5),Cs("ngIf",t.issendChannelConnectionOpen))},directives:[dh],styles:[""]}),e})();const pS={iceServers:[{urls:"stun:stun.services.mozilla.com"},{urls:"stun:stun.l.google.com:19302"}]};let gS=(()=>{class e{constructor(){}ngOnInit(){this.rtc=new RTCPeerConnection(pS),this.dc=this.rtc.createDataChannel("channel"),this.rtc.ondatachannel=this.ondatachannel,this.createOffer(),this.dc.onmessage=this.onmessage,this.dc.onopen=this.onopen,this.dc.onclose=this.onclose,this.rtc.onicecandidate=this.onIceCandidate,this.rtc.oniceconnectionstatechange=this.oniceconnectionstatechange,this.rtc.ontrack=this.gotRemoteStream,this.rtc.onnegotiationneeded=this.onnegotiationneeded}createOffer(){var e;null===(e=this.rtc)||void 0===e||e.createOffer().then(e=>{this.setLocalDescription(e)}).catch(e=>{alert(e)})}setLocalDescription(e){var t;null===(t=this.rtc)||void 0===t||t.setLocalDescription(e).then(t=>{this.localDescription=JSON.stringify(e)}).catch(e=>{alert(e)})}setRemoteDescription(e){var t;null===(t=this.rtc)||void 0===t||t.setRemoteDescription(e)}sendToServerLocalDescription(){}gotRemoteStream(e){console.log("ontrack")}ondatachannel(e){console.log(e+" OnDataChannel")}onIceCandidate(e){console.log("onIceCandidate "+JSON.stringify(e))}oniceconnectionstatechange(e){console.log("oniceconnectionstatechange")}onnegotiationneeded(e){console.log("onnegotiationneeded")}onopen(e){console.log("Connection Opened.")}onclose(e){console.log("Connection Closed.")}onmessage(e){console.log(JSON.stringify(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-rtccon"]],decls:17,vars:1,consts:[[1,"container"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter email",1,"form-control"],["for","exampleInputPassword1"],["type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"h1"),ca(2,"Offer"),Es(),Os(3,"form"),Os(4,"div",1),Os(5,"label",2),ca(6,"Email address"),Es(),Ps(7,"input",3),Es(),Os(8,"div",1),Os(9,"label",4),ca(10,"Password"),Es(),Ps(11,"input",5),Es(),Os(12,"button",6),ca(13,"Submit"),Es(),Es(),Os(14,"ul"),Os(15,"li"),ca(16),Es(),Es(),Es()),2&e&&(Wi(16),ua("sdp: ",t.localDescription,""))},directives:[Sb,Rv,bb],styles:[""]}),e})();const mS=["audioCtr"],yS=["ankorTag"];function vS(e,t){if(1&e){const e=Is();Os(0,"button",13),Ds("click",function(){return At(e),Fs().StartRecording()}),Ps(1,"i",14),Es()}}function bS(e,t){if(1&e){const e=Is();Os(0,"button",15),Ds("click",function(){return At(e),Fs().StopRecording()}),Ps(1,"i",16),Es()}}function _S(e,t){if(1&e){const e=Is();Os(0,"button",17),Ds("click",function(){return At(e),Fs().PauseRecording()}),Ps(1,"i",18),Es()}}function wS(e,t){if(1&e){const e=Is();Os(0,"button",17),Ds("click",function(){return At(e),Fs().ResumeRecording()}),Ps(1,"i",14),Es()}}let kS=(()=>{class e{constructor(e){this.ngZone=e,this._recordedChunks=[],this.btnMuteUnmute="fas fa-microphone-slash",this.isAudioMute=!0,this.isRecording=!1,this.isResume=!0}ngAfterViewInit(){this.startWithAudio()}StartRecording(){this.isRecording=!0,null!=this._myMediaStream&&(this.setupMediaRecorder(this._myMediaStream),this._mediaRecorder.start(1e3))}ResumeRecording(){"inactive"!=this._mediaRecorder.state?(this.isResume=!0,this._mediaRecorder.resume()):this._mediaRecorder.start()}PauseRecording(){"inactive"!=this._mediaRecorder.state&&(this.isResume=!1,this._mediaRecorder.pause())}StopRecording(){this.isRecording=!1,this._mediaRecorder.stop()}MuteUnmute(){this._audioTrack&&(0==this._audioTrack.enabled?(this.btnMuteUnmute="fas fa-microphone-slash",this._audioTrack.enabled=!0,this.isAudioMute=!0):(this.btnMuteUnmute="fas fa-microphone",this._audioTrack.enabled=!1,this.isAudioMute=!1),console.log(this._audioTrack))}startWithAudio(){navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(e=>{this._myMediaStream=e,this._audioTrack=e.getAudioTracks()[0],this._audioTrack.onmute=e=>{console.log("Muting Audio Track")},this._audioTrack.onunmute=e=>{this.ngZone.run(()=>{console.log("Unmuting Audio Track")})},this.audioCtr.nativeElement.srcObject=e,this.setupMediaRecorder(e)}).catch(e=>{alert(e)})}setupMediaRecorder(e){this._mediaRecorder=new MediaRecorder(e,{mimeType:"audio/webm"}),this._mediaRecorder.ondataavailable=e=>{console.log(e.data.size),e.data.size>0&&this._recordedChunks.push(e.data)},this._mediaRecorder.onstop=()=>zd(this,void 0,void 0,function*(){var e=new Blob(this._recordedChunks,{type:"video/webm"});let t=window.URL.createObjectURL(e);this.ankorTag.nativeElement.href=t,this.ankorTag.nativeElement.target="_blank",this.ankorTag.nativeElement.download="test.weba",this.ankorTag.nativeElement.click()}),this._mediaRecorder.onstart=()=>{console.log("On start")},this._mediaRecorder.onpause=()=>{console.log("On pause")},this._mediaRecorder.onresume=()=>{console.log("On resume")}}}return e.\u0275fac=function(t){return new(t||e)(Ss(jl))},e.\u0275cmp=Fe({type:e,selectors:[["app-audio"]],viewQuery:function(e,t){if(1&e&&(rl(mS,!0),rl(yS,!0)),2&e){let e;nl(e=ol())&&(t.audioCtr=e.first),nl(e=ol())&&(t.ankorTag=e.first)}},decls:15,vars:6,consts:[[1,"container"],[1,"row","mt-5"],[1,"col-md-4"],["autoplay","","muted","","controls",""],["audioCtr",""],[1,"col-md-6"],["ankorTag",""],["role","group","aria-label","Basic example",1,"btn-group"],[1,"btn",3,"ngClass","click"],[3,"ngClass"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-play"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-stop"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-pause"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"div",2),Ps(3,"audio",3,4),Es(),Os(5,"div",5),Ps(6,"a",null,6),Os(8,"div",7),Os(9,"button",8),Ds("click",function(){return t.MuteUnmute()}),Ps(10,"i",9),Es(),ws(11,vS,2,0,"button",10),ws(12,bS,2,0,"button",11),ws(13,_S,2,0,"button",12),ws(14,wS,2,0,"button",12),Es(),Es(),Es(),Es()),2&e&&(Wi(9),Cs("ngClass",!1===t.isAudioMute?"btn-primary":"btn-danger"),Wi(1),Cs("ngClass",t.btnMuteUnmute),Wi(1),Cs("ngIf",!t.isRecording),Wi(1),Cs("ngIf",t.isRecording),Wi(1),Cs("ngIf",t.isResume&&t.isRecording),Wi(1),Cs("ngIf",!t.isResume&&t.isRecording))},directives:[ch,dh],styles:[".btn.active[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus{background-image:none;outline:0;box-shadow:none;outline:none!important}"]}),e})();const SS=["video"],CS=["screenvideo"],TS=["audioCtr"];let OS=(()=>{class e{constructor(e){this.ngZone=e,this._recordedChunks=[],this.width=200,this.height=220,this.unsubscribe$=new S,this.btnScreenShare="",this.btnScreenShareColor=""}ngAfterViewInit(){}StartStopScreenShare(){if(this._screenTrack)return this._screenTrack.stop(),this._screenTrack=void 0,void(this.btnScreenShare="Share Screen");navigator.mediaDevices.getDisplayMedia({audio:!0,video:{frameRate:1}}).then(e=>{this._screenStream=e,this._screenStream&&this._screenStream.getVideoTracks().length>0&&(this.screenvideo.nativeElement.srcObject=this._screenStream),this.ngZone.run(()=>{this.btnScreenShare="On Activate",this.btnScreenShareColor="text-success"}),this._screenStream.oninactive=e=>{this._screenStream.getTracks().forEach(e=>{e.stop(),console.log(e.id),console.log(e)}),this._screenStream=void 0,this.ngZone.run(()=>{this.btnScreenShare="On in active",this.btnScreenShareColor="text-danger"})}}).catch(e=>{console.log(e)})}setupMediaRecorder(e){var t=[];this._mediaRecorder=new MediaRecorder(e,{mimeType:"audio/webm"}),this._mediaRecorder.ondataavailable=e=>{console.log(e.data.size),e.data.size>0&&t.push(e.data)},this._mediaRecorder.onstart=()=>zd(this,void 0,void 0,function*(){console.log("On start")}),this._mediaRecorder.onpause=()=>zd(this,void 0,void 0,function*(){console.log("On pause")}),this._mediaRecorder.onresume=()=>zd(this,void 0,void 0,function*(){console.log("On resume")})}startWithAudio(){this._myMediaStream=navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(e=>{this._audioTrack=e.getAudioTracks()[0],this._audioTrack.onmute=e=>{console.log("Muting Audio Track")},this._audioTrack.onunmute=e=>{this.ngZone.run(()=>{console.log("Unmuting Audio Track"),this.btnScreenShare="Unmuting"})},this.audioCtr.nativeElement.srcObject=e,this.setupMediaRecorder(e)}).catch(e=>{alert(e)})}onClickMe(){this.setAudioVideo()}setAudioVideo(){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.getUserMedia({audio:!1,video:{width:this.width,height:this.height}}).then(e=>{this._myMediaStream=e,this.video.nativeElement.srcObject=e,this.video.nativeElement.play()}).catch(e=>{alert(e)}):alert("This browser does not support the API yet")}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),console.log("About Destroyed . . . .")}}return e.\u0275fac=function(t){return new(t||e)(Ss(jl))},e.\u0275cmp=Fe({type:e,selectors:[["app-about"]],viewQuery:function(e,t){if(1&e&&(rl(SS,!0),rl(CS,!0),rl(TS,!0)),2&e){let e;nl(e=ol())&&(t.video=e.first),nl(e=ol())&&(t.screenvideo=e.first),nl(e=ol())&&(t.audioCtr=e.first)}},decls:8,vars:4,consts:[[1,"container"],["type","number",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[3,"ngClass"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"input",1),Ds("ngModelChange",function(e){return t.width=e}),Es(),Os(2,"button",2),Ds("click",function(){return t.ngOnDestroy()}),ca(3,"Set"),Es(),Os(4,"p"),ca(5),Es(),Os(6,"h2",3),ca(7),Es(),Es()),2&e&&(Wi(1),Cs("ngModel",t.width),Wi(4),la(t.width),Wi(1),Cs("ngClass",t.btnScreenShareColor),Wi(1),la(t.btnScreenShare))},directives:[Iv,av,xv,kb,ch],styles:[""]}),e})(),ES=(()=>{class e{constructor(){this.OfferReceived=new zc,this.AnswerReceived=new zc,this.IceCandidateReceived=new zc,this.connectionEstablished=new zc,this.connectionIsEstablished=!1,this.startConnection=()=>{this.hubConnection=(new kw).withUrl("https://zoomclone.azurewebsites.net/chart").configureLogging(C_.Information).build(),this.hubConnection.start().then(()=>console.log("Hub Connection started")).catch(e=>console.log("Error while starting connection: "+e))}}SendOffer(e){var t;"Connected"==this.hubConnection.state?null===(t=this.hubConnection)||void 0===t||t.invoke("SendOffer",e):alert("Your connection state has been lost.")}SendAnswer(e){var t;null===(t=this.hubConnection)||void 0===t||t.invoke("SendAnswer",e)}SendOnIceCandidate(e){var t;null===(t=this.hubConnection)||void 0===t||t.invoke("SendOnIceCandidate",e)}registerOnServerEvents(){var e,t,n,r,i;null===(e=this.hubConnection)||void 0===e||e.on("OfferReceived",e=>{this.OfferReceived.emit(e)}),null===(t=this.hubConnection)||void 0===t||t.on("AnswerReceived",e=>{this.AnswerReceived.emit(e)}),null===(n=this.hubConnection)||void 0===n||n.on("IceCandidateReceived",e=>{this.IceCandidateReceived.emit(e)}),null===(r=this.hubConnection)||void 0===r||r.on("disconnected",e=>{console.log(e)}),null===(i=this.hubConnection)||void 0===i||i.on("Connected",e=>{console.log(e),this.connectionEstablished.emit(!0)})}CloseConnection(){var e;null===(e=this.hubConnection)||void 0===e||e.stop().then(()=>console.log("Hub Connection Closed ")).catch(e=>console.log("Error occurred: "+e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),PS=(()=>{class e{constructor(e,t,n,r,i){this.notif=e,this.jobS=t,this.http=n,this.ngZone=r,this.tokenService=i,this.ReceivedOffer="",this.connectionClass="btn-primary",this.Creator=!1,this.conf={iceServers:[]}}ngOnInit(){this.jobS.getIceServers().subscribe(e=>{null==e||e.forEach(e=>{var t;console.log(JSON.stringify(e)),null===(t=this.conf.iceServers)||void 0===t||t.push({credential:e.credential,urls:e.urls,username:e.username})})})}ngAfterViewInit(){this.subscribeToEvents()}startCon(){this.notif.startConnection(),this.notif.registerOnServerEvents()}sendOffer(){console.log(this.conf),this.localPeerConnection=new RTCPeerConnection(this.conf),this.sendChannel=this.localPeerConnection.createDataChannel("DataChannel"),this.localPeerConnection.onicecandidate=this.gotLocalCandidate,this.localPeerConnection.createOffer().then(e=>{console.log("Local Description OR Offer: "+JSON.stringify(e)),this.localPeerConnection.setLocalDescription(e).then(()=>console.log("Local setLocalDescription successfully")).catch(e=>console.log("Error Local setLocalDescription: "+e)),console.info("Offer Created Successfully"),this.Creator=!0;let t=new i_;t.mysdp=e,t.username=this.tokenService.getUserName(),this.notif.SendOffer(JSON.stringify(t))}).catch(e=>{alert(e)})}subscribeToEvents(){this.notif.OfferReceived.subscribe(e=>{this.ngZone.run(()=>{this.Creator||(this.ReceivedOffer=e,console.log("Offer Received successfully."),this.GotOffer(e),$("#modal_aside_left").modal("toggle"))})},e=>{alert("Received offer error: "+e)},()=>{}),this.notif.AnswerReceived.subscribe(e=>{this.ngZone.run(()=>{this.Creator&&(console.log("Answer received successfully."),this.GotAnswer(e))})}),this.notif.IceCandidateReceived.subscribe(e=>{this.ngZone.run(()=>{var t,n;let r=JSON.parse(e);"Local"==r.side?null===(t=window.remotePeerConnection)||void 0===t||t.addIceCandidate(r):null===(n=window.localPeerConnection)||void 0===n||n.addIceCandidate(r)})}),this.notif.connectionEstablished.subscribe(e=>{this.ngZone.run(()=>{this.connectionClass=1==e?"btn-success":"btn-danger"})})}GotOffer(e){let t=new i_;t=JSON.parse(e),this.remotePeerConnection=new RTCPeerConnection(this.conf),this.remotePeerConnection.ontrack=this.onremotetrack,this.remotePeerConnection.setRemoteDescription(t.mysdp).then(()=>console.log("Remote setRemoteDescription successfully")).catch(e=>console.log("Error Remote setRemoteDescription: "+e)),this.remotePeerConnection.onicecandidate=this.gotRemoteIceCandidate,this.remotePeerConnection.createAnswer().then(e=>{console.log("Remote Description OR Answer: "+JSON.stringify(e)),console.log("Answer Created successfully"),this.remotePeerConnection.setLocalDescription(e).then(()=>console.log("Remote setLocalDescription successfully")).catch(e=>console.log("Error Remote setLocalDescription: "+e));let t=new i_;t.mysdp=e,t.username=this.tokenService.getUserName(),this.notif.SendAnswer(JSON.stringify(t))})}GotAnswer(e){let t=new i_;t=JSON.parse(e),this.localPeerConnection.setRemoteDescription(t.mysdp).then(()=>console.log("Local setRemoteDescription successfully")).catch(e=>console.log("Error Local setRemoteDescription: "+e))}gotLocalCandidate(e){console.log("Local Ice Callback"),console.log("Local ICE Candidate: \n"+JSON.stringify(e.candidate)),console.log(JSON.stringify(this.notif)),console.log("Local Candidate send successfully"),console.log("Local Candidate iceGatheringState: "+e.target.iceGatheringState)}gotRemoteIceCandidate(e){console.log("Remote Ice Callback"),console.log("Remote Candidate iceGatheringState: "+e.target.iceGatheringState)}onremotetrack(e){}onlocaltrack(e){}startHttpRequest(){this.http.get("https://zoomclone.azurewebsites.net/Notification/Get").subscribe(e=>{console.log(e)})}ngOnDestroy(){this.notif.CloseConnection()}}return e.\u0275fac=function(t){return new(t||e)(Ss(ES),Ss(o_),Ss(zh),Ss(jl),Ss(ud))},e.\u0275cmp=Fe({type:e,selectors:[["app-contact"]],decls:22,vars:2,consts:[[1,"btn","btn-primary",3,"ngClass","click"],[1,"btn","btn-primary",3,"click"],["id","modal_aside_left","tabindex","-1","role","dialog",1,"modal","fixed-left","fade"],["role","document",1,"modal-dialog","modal-dialog-aside"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"lead"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"]],template:function(e,t){1&e&&(Os(0,"button",0),Ds("click",function(){return t.startCon()}),ca(1,"Start"),Es(),Ps(2,"br"),Os(3,"button",1),Ds("click",function(){return t.sendOffer()}),ca(4,"Send Offer"),Es(),Os(5,"div",2),Os(6,"div",3),Os(7,"div",4),Os(8,"div",5),Os(9,"h5",6),ca(10,"Create Request"),Es(),Os(11,"button",7),Os(12,"span",8),ca(13,"\xd7"),Es(),Es(),Es(),Os(14,"div",9),Os(15,"p",10),ca(16),Es(),Es(),Os(17,"div",11),Os(18,"button",12),ca(19,"Reject"),Es(),Os(20,"button",13),ca(21,"Accept"),Es(),Es(),Es(),Es(),Es()),2&e&&(Cs("ngClass",t.connectionClass),Wi(16),ua("Received Offer ",t.ReceivedOffer,""))},directives:[ch],styles:[".modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{width:350px;max-width:80%;height:100%;margin:0;transform:translate(0);transition:transform .2s}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:inherit;border:0;border-radius:0}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal.fixed-left[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-left:auto;transform:translateX(100%)}.modal.fixed-right[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-right:auto;transform:translateX(-100%)}.modal.show[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{transform:translateX(0)}"]}),e})(),xS=(()=>{class e{constructor(){}canDeactivate(e,t,n,r){return confirm("Are you sure you want to leave !")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),RS=(()=>{class e{constructor(e,t,n){this.tokenService=e,this.router=t,this.jwtHelperService=n,this.Token=localStorage.getItem("access_token")}canActivate(e,t){var n,r;let i=e.data.allowedRoles;return console.log(`Allowed Roles of ${null===(r=null===(n=e.routeConfig)||void 0===n?void 0:n.component)||void 0===r?void 0:r.name} : ${JSON.stringify(i)}`),this.tokenService.isAuthorized(i)&&!!this.tokenService.isAuthenticated()||(this.router.navigate(["/Login"],{queryParams:{returnUrl:t.url}}),!1)}}return e.\u0275fac=function(t){return new(t||e)(mr(ud),mr(Am),mr(ad))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),jS=(()=>{class e{constructor(e){this.tokenService=e,this.userName="",this.isloggedin=!1}ngOnInit(){this.userName=this.tokenService.getUserName(),this.isloggedin=this.tokenService.isAuthenticated()}ngAfterViewInit(){$(document).ready(function(){$("body").css("padding-top",$(".navbar").outerHeight()+"px")})}onToggle(){$("#toggleme").toggleClass("sb-sidenav-toggled")}}return e.\u0275fac=function(t){return new(t||e)(Ss(ud))},e.\u0275cmp=Fe({type:e,selectors:[["app-sitelayout"]],decls:81,vars:1,consts:[[1,"sb-nav-fixed"],[1,"sb-topnav","navbar","navbar-expand","navbar-light","bg-light"],["href","",1,"navbar-brand"],["id","sidebarToggle","href","#",1,"btn","btn-link","btn-sm","order-1","order-lg-0"],[1,"fas","fa-bars"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["id","userDropdown","href","#","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-user","fa-fw","text-primary"],["aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-right"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/Logout",1,"dropdown-item"],[1,"nav-link"],[2,"display","inline-block","height","1.5rem","letter-spacing","1.5px","border-right","1px solid #593196"],["href","/Logout",1,"nav-link","text-primary",2,"cursor","pointer"],["id","layoutSidenav"],["id","layoutSidenav_nav"],["id","sidenavAccordion",1,"sb-sidenav","accordion","sb-sidenav-light"],[1,"sb-sidenav-menu"],[1,"nav"],[1,"sb-sidenav-menu-heading"],["routerLink","/Dashboard",1,"nav-link"],[1,"sb-nav-link-icon"],[1,"fas","fa-tachometer-alt"],["routerLink","/Languages",1,"nav-link"],[1,"fas","fa-language"],["routerLink","/Sessions",1,"nav-link"],[1,"fas","fa-glasses"],["href","#","data-toggle","collapse","data-target","#collapseLayouts","aria-expanded","false","aria-controls","collapseLayouts",1,"nav-link","collapsed"],[1,"fas","fa-columns"],[1,"sb-sidenav-collapse-arrow"],[1,"fas","fa-angle-down"],["id","collapseLayouts","aria-labelledby","headingOne","data-parent","#sidenavAccordion",1,"collapse"],[1,"sb-sidenav-menu-nested","nav"],["routerLink","/Users",1,"nav-link"],["routerLink","/Jobs",1,"nav-link"],["href","charts.html",1,"nav-link"],[1,"fas","fa-chart-area"],[1,"sb-sidenav-footer"],[1,"small"],["id","layoutSidenav_content"],[1,"py-4","bg-light","mt-auto"],[1,"container-fluid"],[1,"d-flex","align-items-center","justify-content-between","small"],[1,"text-muted"],["href","#"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"nav",1),Os(2,"a",2),ca(3,"Beta 1.0.8"),Es(),Os(4,"button",3),Ps(5,"i",4),Es(),Os(6,"ul",5),Os(7,"li",6),Os(8,"a",7),Ps(9,"i",8),Es(),Os(10,"div",9),Os(11,"a",10),ca(12,"Settings"),Es(),Os(13,"a",10),ca(14,"Activity Log"),Es(),Ps(15,"div",11),Os(16,"a",12),ca(17,"Logout"),Es(),Es(),Es(),Os(18,"li",6),Os(19,"a",13),Ps(20,"span",14),Es(),Es(),Os(21,"li",6),Os(22,"a",15),ca(23," Logout "),Es(),Es(),Es(),Es(),Os(24,"div",16),Os(25,"div",17),Os(26,"nav",18),Os(27,"div",19),Os(28,"div",20),Os(29,"div",21),ca(30,"Core"),Es(),Os(31,"a",22),Os(32,"div",23),Ps(33,"i",24),Es(),ca(34," Dashboard "),Es(),Os(35,"a",25),Os(36,"div",23),Ps(37,"i",26),Es(),ca(38," Languages "),Es(),Os(39,"a",27),Os(40,"div",23),Ps(41,"i",28),Es(),ca(42," My sessions "),Es(),Os(43,"div",21),ca(44,"Interface"),Es(),Os(45,"a",29),Os(46,"div",23),Ps(47,"i",30),Es(),ca(48," Layouts "),Os(49,"div",31),Ps(50,"i",32),Es(),Es(),Os(51,"div",33),Os(52,"nav",34),Os(53,"a",35),ca(54,"Users"),Es(),Os(55,"a",36),ca(56,"Jobs"),Es(),Es(),Es(),Os(57,"div",21),ca(58,"Addons"),Es(),Os(59,"a",37),Os(60,"div",23),Ps(61,"i",38),Es(),ca(62," Charts "),Es(),Es(),Es(),Os(63,"div",39),Os(64,"div",40),ca(65,"Logged in as:"),Es(),ca(66),Es(),Es(),Es(),Os(67,"div",41),Os(68,"main"),Ps(69,"router-outlet"),Es(),Os(70,"footer",42),Os(71,"div",43),Os(72,"div",44),Os(73,"div",45),ca(74,"Copyright \xa9 Your Website 2020"),Es(),Os(75,"div"),Os(76,"a",46),ca(77,"Privacy Policy"),Es(),ca(78," \xb7 "),Os(79,"a",46),ca(80,"Terms & Conditions"),Es(),Es(),Es(),Es(),Es(),Es(),Es(),Es()),2&e&&(Wi(66),ua(" ",t.userName," "))},directives:[Dm,Fm],styles:[""]}),e})(),IS=(()=>{class e{constructor(){this.messageReceived=new zc,this.isConnected=new zc}createConnection(e){this._hubConnection=(new kw).withUrl("https://zoomclone.azurewebsites.net/MessageHub?username="+e).configureLogging(C_.Information).build()}startConnection(){this._hubConnection.start().then(()=>{console.log("Started service . . ."),this.isConnected.emit(!0)}).catch(e=>{console.log("Error while establishing connection...")})}sendMessage(e="aftab@gmail.com",t){this._hubConnection.invoke("SendMessage",e,t)}registerOnServerEvents(){this._hubConnection.on("MessageReceived",e=>{this.messageReceived.emit(e)}),this._hubConnection.onclose(()=>{console.log("Service has been stopped. . . ."),this.isConnected.emit(!1)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const AS=["localVideo"],LS=["remoteVideo"],DS={audio:!0,video:{width:320,height:320}},MS={offerToReceiveAudio:!0,offerToReceiveVideo:!0};let NS=(()=>{class e{constructor(e,t,n,r){var i,o;this.videoService=e,this.ngZone=t,this.tokenService=n,this.jobService=r,this.isHubConnected=!1,this.config={iceServers:[]},this.iceCandidateArray=[],this.handleIceCandidateEvent=e=>{console.log("Local: handleIceCandidateEvent: "+JSON.stringify(e)),e.candidate&&this.videoService.sendMessage("aftab@gmail.com",{type:"ice-candidate",data:e.candidate})},this.handleIceConnectionStateChangeEvent=e=>{switch(console.log("Local: handleIceConnectionStateChangeEvent: "+JSON.stringify(e)),this.peerConnection.iceConnectionState){case"closed":case"disconnected":case"failed":this.closeVideoCall()}},this.handleSignalingStateEvent=e=>{switch(console.log("Local: handleSignalingStateEvent: "+JSON.stringify(e)),this.peerConnection.signalingState){case"closed":this.closeVideoCall()}},this.handleTrackEvent=e=>{console.log("Local: handleTrackEvent  - "+JSON.stringify(e.streams[0].id)+" - "+JSON.stringify(e)),this.remoteVideo.nativeElement.srcObject=new MediaStream([e.track])},null===(i=this.config.iceServers)||void 0===i||i.push({urls:"stun:stun.services.mozilla.com"}),null===(o=this.config.iceServers)||void 0===o||o.push({urls:"stun:stun.l.google.com:19302"})}ngOnInit(){this.videoService.createConnection(this.tokenService.getUserName()),this.videoService.startConnection(),this.videoService.registerOnServerEvents(),this.subscribeToevent()}ngAfterViewInit(){return zd(this,void 0,void 0,function*(){this.requestMediaDevices()})}requestMediaDevices(){return zd(this,void 0,void 0,function*(){this.localStream=yield navigator.mediaDevices.getUserMedia(DS),this.localVideo.nativeElement.srcObject=this.localStream})}pauseLocalVideo(){var e;null===(e=this.localStream)||void 0===e||e.getTracks().forEach(e=>{e.enabled=!1})}startLocalVideo(){var e;null===(e=this.localStream)||void 0===e||e.getTracks().forEach(e=>{e.enabled=!0})}call(){var e;return zd(this,void 0,void 0,function*(){this.createPeerConnection(),null===(e=this.localStream)||void 0===e||e.getTracks().forEach(e=>{var t;null===(t=this.peerConnection)||void 0===t||t.addTrack(e,this.localStream)})})}createPeerConnection(){this.peerConnection=new RTCPeerConnection(this.config),this.peerConnection.onnegotiationneeded=e=>zd(this,void 0,void 0,function*(){console.log("onnegotiationneeded: "+JSON.stringify(e));try{const e=yield this.peerConnection.createOffer(MS);console.log("Created offer successfully."),yield this.peerConnection.setLocalDescription(e),console.log("Offer setLocalDescription successfully."),this.videoService.sendMessage("aftab@gmail.com",{type:"offer",data:this.peerConnection.localDescription}),console.log("Send offer successfully.")}catch(t){this.handleGetUserMediaError(t)}}),this.peerConnection.onicecandidate=this.handleIceCandidateEvent,this.peerConnection.onicegatheringstatechange=this.handleIceConnectionStateChangeEvent,this.peerConnection.onsignalingstatechange=this.handleSignalingStateEvent,this.peerConnection.ontrack=this.handleTrackEvent}closeVideoCall(){this.peerConnection&&(this.peerConnection.onicecandidate=null,this.peerConnection.onicegatheringstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.ontrack=null),this.peerConnection.getTransceivers().forEach(e=>{e.stop()}),this.peerConnection.close()}handleGetUserMediaError(e){switch(e.name){case"NotFoundError":alert("No camera and/or microphone found");break;case"SecurityError":case"PermissionDeniedError":break;default:console.error(e),alert("Error:  "+JSON.stringify(e.message))}this.closeVideoCall()}subscribeToevent(){this.videoService.messageReceived.subscribe(e=>{this.ngZone.run(()=>{switch(e.type){case"offer":this.handleOfferMessage(e.data);break;case"answer":this.handleAnswerMessage(e.data);break;case"hangup":this.handleHangupMessage(e);break;case"ice-candidate":this.handleIceCandidateMessage(e.data);break;default:console.log("Unknown message of type "+e.type)}})}),this.videoService.isConnected.subscribe(e=>{this.ngZone.run(()=>{this.isHubConnected=e})})}handleOfferMessage(e){console.log("Remote: Received Offer: "+JSON.stringify(e)),this.peerConnection||this.createPeerConnection(),this.localStream&&this.startLocalVideo(),this.peerConnection.setRemoteDescription(new RTCSessionDescription(e)).then(()=>{console.log("Remote: offer set as setRemoteDescription successfully"),this.localVideo.nativeElement.srcObject=this.localStream,this.localStream.getTracks().forEach(e=>{this.peerConnection.addTrack(e,this.localStream)})}).then(()=>(console.log("Remote: created answer successfully"),this.peerConnection.createAnswer())).then(e=>(console.log("Remote: answer setLocalDescription successfully"),this.peerConnection.setLocalDescription(e))).then(()=>{this.videoService.sendMessage("srk@gmail.com",{type:"answer",data:this.peerConnection.localDescription}),console.log("Remote: Answer send successfully")}).catch(this.handleGetUserMediaError)}handleAnswerMessage(e){console.log("handleAnswerMessage: "+JSON.stringify(e)),console.log("Answer Received successfully."),this.peerConnection.setRemoteDescription(new RTCSessionDescription(e)),console.log("Answer setRemoteDescription successfully.")}handleHangupMessage(e){this.closeVideoCall()}handleIceCandidateMessage(e){e.candidate&&this.peerConnection.addIceCandidate(e).then(()=>console.log("addIceCandidate success")).catch(e=>console.log("Adding Ice Candidate Error: "+e.name))}hangup(){this.closeVideoCall()}}return e.\u0275fac=function(t){return new(t||e)(Ss(IS),Ss(jl),Ss(ud),Ss(o_))},e.\u0275cmp=Fe({type:e,selectors:[["app-video"]],viewQuery:function(e,t){if(1&e&&(rl(AS,!0),rl(LS,!0)),2&e){let e;nl(e=ol())&&(t.localVideo=e.first),nl(e=ol())&&(t.remoteVideo=e.first)}},decls:18,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-6"],[3,"autoplay","muted"],["localVideo",""],[3,"autoplay"],["remoteVideo",""],["role","group","aria-label","Basic example",1,"btn-group"],[1,"btn","btn-primary",3,"click"],[1,"btn",3,"ngClass","click"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"div",2),Ps(3,"video",3,4),Es(),Os(5,"div",2),Ps(6,"video",5,6),Es(),Es(),Os(8,"div",7),Os(9,"button",8),Ds("click",function(){return t.startLocalVideo()}),ca(10,"Start"),Es(),Ps(11,"br"),Os(12,"button",9),Ds("click",function(){return t.pauseLocalVideo()}),ca(13,"Pause"),Es(),Os(14,"button",8),Ds("click",function(){return t.call()}),ca(15,"Call"),Es(),Os(16,"button",8),Ds("click",function(){return t.hangup()}),ca(17,"Pause"),Es(),Es(),Es()),2&e&&(Wi(3),Cs("autoplay",!0)("muted",!0),Wi(3),Cs("autoplay",!0),Wi(6),Cs("ngClass",1==t.isHubConnected?"btn-success":"btn-danger"))},directives:[ch],styles:[""]}),e})();var FS=n("3h4Y");let VS=(()=>{class e{constructor(e){this.http=e,this.roomBroadcast=new jf,this.$roomsUpdated=this.roomBroadcast.asObservable()}getAuthToken(){return zd(this,void 0,void 0,function*(){return(yield this.http.get("https://zoomclone.azurewebsites.net/Video/GetToken").toPromise()).token})}getAllRooms(){return this.http.get("https://zoomclone.azurewebsites.net/Video/GetRooms").toPromise()}joinOrCreateRoom(e,t){return zd(this,void 0,void 0,function*(){let n;try{const r=yield this.getAuthToken();n=yield Object(FS.connect)(r,{name:e,tracks:t,dominantSpeaker:!0})}catch(r){console.error("Unable to connect to Room: "+r.message)}finally{n&&this.roomBroadcast.next(!0)}return n})}nudge(){this.roomBroadcast.next(!0)}}return e.\u0275fac=function(t){return new(t||e)(mr(zh))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function US(e,t){1&e&&(Os(0,"div",4),Os(1,"p",12),ca(2," Add a room to begin. Other online participants can join or create rooms. "),Es(),Es())}const BS=function(e){return{active:e}};function HS(e,t){if(1&e){const e=Is();Os(0,"a",13),Ds("click",function(){At(e);const n=t.$implicit;return Fs().onJoinRoom(n.name)}),ca(1),Os(2,"span",14),ca(3),Es(),Es()}if(2&e){const e=t.$implicit,n=Fs();Cs("ngClass",Lc(4,BS,n.activeRoomName===e.name)),Wi(1),ua(" ",e.name," "),Wi(2),ha(" ",e.participantCount," / ",e.maxParticipants," ")}}let qS=(()=>{class e{constructor(e){this.videoChatService=e,this.roomChanged=new zc}ngOnInit(){return zd(this,void 0,void 0,function*(){yield this.updateRooms(),this.subscription=this.videoChatService.$roomsUpdated.pipe(pf(e=>this.updateRooms())).subscribe()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onTryAddRoom(){this.roomName&&this.onAddRoom(this.roomName)}onAddRoom(e){this.roomName=null,this.roomChanged.emit(e)}onJoinRoom(e){this.roomChanged.emit(e)}updateRooms(){return zd(this,void 0,void 0,function*(){this.rooms=yield this.videoChatService.getAllRooms()})}}return e.\u0275fac=function(t){return new(t||e)(Ss(VS))},e.\u0275cmp=Fe({type:e,selectors:[["app-rooms"]],inputs:{activeRoomName:"activeRoomName"},outputs:{roomChanged:"roomChanged"},decls:14,vars:4,consts:[[1,"jumbotron"],[1,"display-4"],[1,"fas","fa-video"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"input-group"],["type","text","placeholder","Room Name","aria-label","Room Name",1,"form-control","form-control-lg",3,"ngModel","ngModelChange","keydown.enter"],[1,"input-group-append"],["type","button",1,"btn","btn-lg","btn-outline-secondary","twitter-red",3,"disabled","click"],[1,"far","fa-plus-square"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngIf"],["class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"lead"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",3,"ngClass","click"],[1,"badge","badge-primary","badge-pill"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"h5",1),Ps(2,"i",2),ca(3," Rooms"),Es(),Os(4,"div",3),Os(5,"div",4),Os(6,"div",5),Os(7,"input",6),Ds("ngModelChange",function(e){return t.roomName=e})("keydown.enter",function(){return t.onTryAddRoom()}),Es(),Os(8,"div",7),Os(9,"button",8),Ds("click",function(){return t.onAddRoom(t.roomName)}),Ps(10,"i",9),ca(11," Create "),Es(),Es(),Es(),Es(),ws(12,US,3,0,"div",10),ws(13,HS,4,6,"a",11),Es(),Es()),2&e&&(Wi(7),Cs("ngModel",t.roomName),Wi(2),Cs("disabled",!t.roomName),Wi(3),Cs("ngIf",!t.rooms||!t.rooms.length),Wi(1),Cs("ngForOf",t.rooms))},directives:[av,xv,kb,dh,uh,ch],styles:[""]}),e})();const zS=["preview"];function WS(e,t){1&e&&(Os(0,"div"),ca(1,"Loading preview... Please wait."),Es())}let $S=(()=>{class e{constructor(e){this.renderer=e,this.isInitializing=!0,this.localTracks=[]}get tracks(){return this.localTracks}ngAfterViewInit(){return zd(this,void 0,void 0,function*(){this.previewElement&&this.previewElement.nativeElement&&(yield this.initializeDevice())})}initializePreview(e){e?this.initializeDevice(e.kind,e.deviceId):this.initializeDevice()}finalizePreview(){try{this.videoTrack&&this.videoTrack.detach().forEach(e=>e.remove())}catch(e){console.error(e)}}initializeDevice(e,t){return zd(this,void 0,void 0,function*(){try{this.isInitializing=!0,this.finalizePreview(),this.localTracks=e&&t?yield this.initializeTracks(e,t):yield this.initializeTracks(),this.videoTrack=this.localTracks.find(e=>"video"===e.kind);const n=this.videoTrack.attach();this.renderer.setStyle(n,"height","100%"),this.renderer.setStyle(n,"width","100%"),this.renderer.appendChild(this.previewElement.nativeElement,n)}finally{this.isInitializing=!1}})}initializeTracks(e,t){if(e)switch(e){case"audioinput":return Object(FS.createLocalTracks)({audio:{deviceId:t},video:!0});case"videoinput":return Object(FS.createLocalTracks)({audio:!0,video:{deviceId:t}})}return Object(FS.createLocalTracks)({audio:!0,video:!0})}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ua))},e.\u0275cmp=Fe({type:e,selectors:[["app-camera"]],viewQuery:function(e,t){if(1&e&&rl(zS,!0),2&e){let e;nl(e=ol())&&(t.previewElement=e.first)}},decls:3,vars:1,consts:[["id","preview"],["preview",""],[4,"ngIf"]],template:function(e,t){1&e&&(Os(0,"div",0,1),ws(2,WS,2,0,"div",2),Es()),2&e&&(Wi(2),Cs("ngIf",t.isInitializing))},directives:[dh],styles:[""]}),e})();const GS=["list"],QS=function(e,t){return{table:e,"d-none":t}},KS=function(e){return{"d-none":e}};let JS=(()=>{class e{constructor(e){this.renderer=e,this.participantsChanged=new zc,this.leaveRoom=new zc}get participantCount(){return this.participants?this.participants.size:0}get isAlone(){return 0===this.participantCount}clear(){this.participants&&this.participants.clear()}initialize(e){this.participants=e,this.participants&&this.participants.forEach(e=>this.registerParticipantEvents(e))}add(e){this.participants&&e&&(this.participants.set(e.sid,e),this.registerParticipantEvents(e))}remove(e){this.participants&&this.participants.has(e.sid)&&this.participants.delete(e.sid)}loudest(e){this.dominantSpeaker=e}onLeaveRoom(){this.leaveRoom.emit(!0)}registerParticipantEvents(e){e&&(e.tracks.forEach(e=>this.subscribe(e)),e.on("trackPublished",e=>this.subscribe(e)),e.on("trackUnpublished",e=>{e&&e.track&&this.detachRemoteTrack(e.track)}))}subscribe(e){e&&e.on&&(e.on("subscribed",e=>this.attachRemoteTrack(e)),e.on("unsubscribed",e=>this.detachRemoteTrack(e)))}attachRemoteTrack(e){if(this.isAttachable(e)){const t=e.attach();this.renderer.data.id=e.sid,this.renderer.setStyle(t,"width","95%"),this.renderer.setStyle(t,"margin-left","2.5%"),this.renderer.appendChild(this.listRef.nativeElement,t),this.participantsChanged.emit(!0)}}detachRemoteTrack(e){this.isDetachable(e)&&(e.detach().forEach(e=>e.remove()),this.participantsChanged.emit(!0))}isAttachable(e){return!!e&&(void 0!==e.attach||void 0!==e.attach)}isDetachable(e){return!!e&&(void 0!==e.detach||void 0!==e.detach)}}return e.\u0275fac=function(t){return new(t||e)(Ss(Ua))},e.\u0275cmp=Fe({type:e,selectors:[["app-participants"]],viewQuery:function(e,t){if(1&e&&rl(GS,!0),2&e){let e;nl(e=ol())&&(t.listRef=e.first)}},inputs:{activeRoomName:"activeRoomName"},outputs:{participantsChanged:"participantsChanged",leaveRoom:"leaveRoom"},decls:17,vars:8,consts:[["id","participant-list"],["id","alone",3,"ngClass"],[1,"text-center","text-monospace","h3",2,"display","table-cell"],[1,"far","fa-frown"],[3,"ngClass"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-light","shadow"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["type","button","title","Click to leave this room.",1,"btn","btn-lg","leave-room",3,"click"],[1,"fas","fa-times-circle",2,"color","red"],["list",""]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"p",2),ca(3," You're the only one in this room. "),Ps(4,"i",3),Ps(5,"br"),Ps(6,"br"),ca(7," As others join, they'll start showing up here... "),Es(),Es(),Os(8,"div",4),Os(9,"nav",5),Os(10,"ul",6),Os(11,"li",7),Os(12,"button",8),Ds("click",function(){return t.onLeaveRoom()}),ca(13),Ps(14,"i",9),Es(),Es(),Es(),Es(),Ps(15,"div",null,10),Es(),Es()),2&e&&(Wi(1),Cs("ngClass",Dc(3,QS,t.isAlone,!t.isAlone)),Wi(7),Cs("ngClass",Lc(6,KS,t.isAlone)),Wi(5),ua(' Leave "',t.activeRoomName,'" Room? '))},directives:[ch],styles:[""]}),e})(),YS=(()=>{class e{constructor(){this.deviceBroadcast=new jf,navigator&&navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=e=>{this.deviceBroadcast.next(this.getDeviceOptions())}),this.$devicesUpdated=this.deviceBroadcast.asObservable(),this.deviceBroadcast.next(this.getDeviceOptions())}isGrantedMediaPermissions(){return zd(this,void 0,void 0,function*(){if(navigator&&navigator.permissions)try{const e=yield navigator.permissions.query({name:"camera"});if(e)return"granted"===e.state||(yield new Promise(t=>{e.onchange=e=>{t(!0)}}))}catch(e){return!0}return!1})}getDeviceOptions(){return zd(this,void 0,void 0,function*(){const e=yield this.isGrantedMediaPermissions();if(navigator&&navigator.mediaDevices&&e){let e=yield this.tryGetDevices();return e.every(e=>!e.label)&&(e=yield this.tryGetDevices()),e}})}tryGetDevices(){return zd(this,void 0,void 0,function*(){const e=yield navigator.mediaDevices.enumerateDevices();return["audioinput","audiooutput","videoinput"].reduce((t,n)=>e.filter(e=>e.kind===n),[])})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ZS(e,t){if(1&e&&(Os(0,"option",3),ca(1),Es()),2&e){const e=t.$implicit,n=Fs();Cs("value",e.deviceId)("selected",e.deviceId===n.selectedId),Wi(1),ua(" ",e.label," ")}}let XS=(()=>{class e{static getNext(){return++e.id}}return e.id=0,e})(),eC=(()=>{class e{constructor(){this.localDevices=[],this.settingsChanged=new zc,this.id="device-select-"+XS.getNext()}get devices(){return this.localDevices}set devices(e){this.selectedId=this.find(this.localDevices=e)}onSettingsChanged(e){this.setAndEmitSelections(this.selectedId=e.target.value)}find(e){return e&&e.length>0?e[0].deviceId:null}setAndEmitSelections(e){this.settingsChanged.emit(this.devices.find(t=>t.deviceId===e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-device-select"]],inputs:{label:"label",kind:"kind",devices:"devices"},outputs:{settingsChanged:"settingsChanged"},decls:4,vars:4,consts:[[1,"h5",3,"for"],[1,"custom-select",3,"id","change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(e,t){1&e&&(Os(0,"label",0),ca(1),Es(),Os(2,"select",1),Ds("change",function(e){return t.onSettingsChanged(e)}),ws(3,ZS,2,3,"option",2),Es()),2&e&&(Vs("for",t.id),Wi(1),la(t.label),Wi(1),Vs("id",t.id),Wi(1),Cs("ngForOf",t.devices))},directives:[uh,Bv,Wv],styles:[""]}),e})();const tC=["camera"],nC=["videoSelect"];function rC(e,t){if(1&e){const e=Is();Os(0,"div",6),Os(1,"app-device-select",7),Ds("settingsChanged",function(t){return At(e),Fs().onSettingsChanged(t)}),Es(),Es()}if(2&e){const e=Fs();Wi(1),Cs("kind","audioinput")("label","Audio Input Source")("devices",e.devices)}}function iC(e,t){if(1&e){const e=Is();Os(0,"div",6),Os(1,"app-device-select",7),Ds("settingsChanged",function(t){return At(e),Fs().onSettingsChanged(t)}),Es(),Es()}if(2&e){const e=Fs();Wi(1),Cs("kind","audiooutput")("label","Audio Output Source")("devices",e.devices)}}function oC(e,t){if(1&e){const e=Is();Os(0,"div",6),Os(1,"app-device-select",7,8),Ds("settingsChanged",function(t){return At(e),Fs().onSettingsChanged(t)}),Es(),Es()}if(2&e){const e=Fs();Wi(1),Cs("kind","videoinput")("label","Video Input Source")("devices",e.devices)}}let sC=(()=>{class e{constructor(e){this.deviceService=e,this.devices=[],this.settingsChanged=new zc}get hasAudioInputOptions(){return this.devices&&this.devices.filter(e=>"audioinput"===e.kind).length>0}get hasAudioOutputOptions(){return this.devices&&this.devices.filter(e=>"audiooutput"===e.kind).length>0}get hasVideoInputOptions(){return this.devices&&this.devices.filter(e=>"videoinput"===e.kind).length>0}ngOnInit(){this.subscription=this.deviceService.$devicesUpdated.pipe(nk(350)).subscribe(e=>zd(this,void 0,void 0,function*(){this.devices=yield e,this.handleDeviceAvailabilityChanges()}))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onSettingsChanged(e){return zd(this,void 0,void 0,function*(){this.isPreviewing?yield this.showPreviewCamera():this.settingsChanged.emit(e)})}showPreviewCamera(){return zd(this,void 0,void 0,function*(){if(this.isPreviewing=!0,this.videoDeviceId!==this.video.selectedId){this.videoDeviceId=this.video.selectedId;const e=this.devices.find(e=>e.deviceId===this.video.selectedId);yield this.camera.initializePreview(e)}return this.camera.tracks})}hidePreviewCamera(){return this.isPreviewing=!1,this.camera.finalizePreview(),this.devices.find(e=>e.deviceId===this.video.selectedId)}handleDeviceAvailabilityChanges(){if(this.devices&&this.devices.length&&this.video&&this.video.selectedId){let e=this.devices.find(e=>e.deviceId===this.video.selectedId);e||(e=this.devices.find(e=>"videoinput"===e.kind),e&&(this.video.selectedId=e.deviceId,this.onSettingsChanged(e)))}}}return e.\u0275fac=function(t){return new(t||e)(Ss(YS))},e.\u0275cmp=Fe({type:e,selectors:[["app-settings"]],viewQuery:function(e,t){if(1&e&&(rl(tC,!0),rl(nC,!0)),2&e){let e;nl(e=ol())&&(t.camera=e.first),nl(e=ol())&&(t.video=e.first)}},inputs:{isPreviewing:"isPreviewing"},outputs:{settingsChanged:"settingsChanged"},decls:11,vars:5,consts:[[1,"jumbotron"],[1,"display-4"],[1,"fas","fa-cogs"],[1,"form"],["class","form-group",4,"ngIf"],["camera",""],[1,"form-group"],[3,"kind","label","devices","settingsChanged"],["videoSelect",""]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"h4",1),Ps(2,"i",2),ca(3," Settings"),Es(),Os(4,"form",3),ws(5,rC,2,3,"div",4),ws(6,iC,2,3,"div",4),ws(7,oC,3,3,"div",4),Es(),Os(8,"div"),Ps(9,"app-camera",null,5),Es(),Es()),2&e&&(Wi(5),Cs("ngIf",t.hasAudioInputOptions),Wi(1),Cs("ngIf",t.hasAudioOutputOptions),Wi(1),Cs("ngIf",t.hasVideoInputOptions),Wi(1),Qs("display",t.isPreviewing?"block":"none"))},directives:[Sb,Rv,bb,dh,$S,eC],styles:[""]}),e})();const aC=["rooms"],cC=["camera"],lC=["settings"],uC=["participants"];let hC=(()=>{class e{constructor(e){this.videoChatService=e}ngOnInit(){return zd(this,void 0,void 0,function*(){const e=(new kw).configureLogging(C_.Debug).withUrl("https://zoomclone.azurewebsites.net/VideoNotificationHub");this.notificationHub=e.build(),this.notificationHub.on("RoomsUpdated",e=>zd(this,void 0,void 0,function*(){e&&(yield this.rooms.updateRooms())})),yield this.notificationHub.start().then(()=>console.log("Connection started")).catch(e=>console.log(JSON.stringify(e)))})}onSettingsChanged(e){return zd(this,void 0,void 0,function*(){yield this.camera.initializePreview(e)})}onLeaveRoom(e){return zd(this,void 0,void 0,function*(){this.activeRoom&&(this.activeRoom.disconnect(),this.activeRoom=null),this.camera.finalizePreview();const e=this.settings.hidePreviewCamera();this.camera.initializePreview(e),this.participants.clear()})}onRoomChanged(e){return zd(this,void 0,void 0,function*(){if(e){this.activeRoom&&this.activeRoom.disconnect(),this.camera.finalizePreview();const t=yield this.settings.showPreviewCamera();this.activeRoom=yield this.videoChatService.joinOrCreateRoom(e,t),this.participants.initialize(this.activeRoom.participants),this.registerRoomEvents(),this.notificationHub.send("RoomsUpdated",!0)}})}onParticipantsChanged(e){this.videoChatService.nudge()}registerRoomEvents(){this.activeRoom.on("disconnected",e=>e.localParticipant.tracks.forEach(e=>this.detachLocalTrack(e.track))).on("participantConnected",e=>this.participants.add(e)).on("participantDisconnected",e=>this.participants.remove(e)).on("dominantSpeakerChanged",e=>this.participants.loudest(e))}detachLocalTrack(e){this.isDetachable(e)&&e.detach().forEach(e=>e.remove())}isDetachable(e){return!!e&&(void 0!==e.detach||void 0!==e.detach)}}return e.\u0275fac=function(t){return new(t||e)(Ss(VS))},e.\u0275cmp=Fe({type:e,selectors:[["app-home"]],viewQuery:function(e,t){if(1&e&&(rl(aC,!0),rl(cC,!0),rl(lC,!0),rl(uC,!0)),2&e){let e;nl(e=ol())&&(t.rooms=e.first),nl(e=ol())&&(t.camera=e.first),nl(e=ol())&&(t.settings=e.first),nl(e=ol())&&(t.participants=e.first)}},decls:12,vars:6,consts:[[1,"grid-container"],[1,"grid-left"],[3,"activeRoomName","roomChanged"],["rooms",""],[1,"grid-content"],["camera",""],[3,"activeRoomName","leaveRoom","participantsChanged"],["participants",""],[1,"grid-right"],[3,"settingsChanged"],["settings",""]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"app-rooms",2,3),Ds("roomChanged",function(e){return t.onRoomChanged(e)}),Es(),Es(),Os(4,"div",4),Ps(5,"app-camera",null,5),Os(7,"app-participants",6,7),Ds("leaveRoom",function(e){return t.onLeaveRoom(e)})("participantsChanged",function(e){return t.onParticipantsChanged(e)}),Es(),Es(),Os(9,"div",8),Os(10,"app-settings",9,10),Ds("settingsChanged",function(e){return t.onSettingsChanged(e)}),Es(),Es(),Es()),2&e&&(Wi(2),Cs("activeRoomName",t.activeRoom?t.activeRoom.name:""),Wi(3),Qs("display",t.activeRoom?"none":"block"),Wi(2),Qs("display",t.activeRoom?"block":"none"),Cs("activeRoomName",t.activeRoom?t.activeRoom.name:""))},directives:[qS,$S,JS,sC],styles:['.grid-container[_ngcontent-%COMP%]{display:grid;height:100vh;grid-template-columns:2fr 4fr 2fr;grid-template-rows:1fr 7fr 1fr;grid-template-areas:"top-left . top-right" "left content right" "bottom-left . bottom-right"}.grid-content[_ngcontent-%COMP%]{grid-area:content;display:flex;justify-content:center;align-items:center;background-color:#383838}.grid-content[_ngcontent-%COMP%], .grid-left[_ngcontent-%COMP%]{border-top:6px solid #f22f46;border-bottom:6px solid #f22f46}.grid-left[_ngcontent-%COMP%]{grid-area:left;background:linear-gradient(270deg,#383838 0,transparent)}.grid-right[_ngcontent-%COMP%]{grid-area:right;background:linear-gradient(90deg,#383838 0,transparent);border-top:6px solid #f22f46;border-bottom:6px solid #f22f46}.grid-bottom-left[_ngcontent-%COMP%], .grid-bottom-right[_ngcontent-%COMP%], .grid-top-left[_ngcontent-%COMP%], .grid-top-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.grid-top-left[_ngcontent-%COMP%]{grid-area:top-left}.grid-top-right[_ngcontent-%COMP%]{grid-area:top-right}.grid-bottom-left[_ngcontent-%COMP%]{grid-area:bottom-left}.grid-bottom-right[_ngcontent-%COMP%]{grid-area:bottom-right}']}),e})();function dC(e,t){1&e&&(Os(0,"div",24),Ps(1,"i",25),Os(2,"strong"),ca(3,"Your request has been cancelled."),Es(),Es())}function fC(e,t){1&e&&(Os(0,"h3"),ca(1,"Loading . . ."),Es())}function pC(e,t){if(1&e&&(Os(0,"div",28),Ps(1,"img",29),Os(2,"div",30),Os(3,"h2"),ca(4),Es(),Os(5,"p",31),ca(6),Es(),Os(7,"p",32),ca(8),Es(),Os(9,"p",32),ca(10),Es(),Es(),Es()),2&e){const e=t.$implicit;Wi(4),la(e.firstName),Wi(2),la(e.phoneNumber),Wi(2),la(e.language),Wi(2),la(e.userName)}}function gC(e,t){if(1&e&&(Os(0,"div",26),ws(1,pC,11,4,"div",27),Es()),2&e){const e=Fs();Wi(1),Cs("ngForOf",e.items)}}function mC(e,t){if(1&e){const e=Is();Os(0,"li",37),Os(1,"a",38),Ds("click",function(){At(e);const t=Fs(2);return t.getItems(t.pager.currentPage-1)}),ca(2,"Previous"),Es(),Es()}}function yC(e,t){if(1&e){const e=Is();Os(0,"li"),Os(1,"a",38),Ds("click",function(){At(e);const n=t.$implicit;return Fs(2).getItems(n)}),ca(2),Es(),Es()}if(2&e){const e=t.$implicit;da("page-item ",Fs(2).pager.currentPage==e?"active":"",""),Wi(2),la(e)}}function vC(e,t){if(1&e){const e=Is();Os(0,"li",37),Os(1,"a",38),Ds("click",function(){At(e);const t=Fs(2);return t.getItems(t.pager.currentPage+1)}),ca(2,"Next"),Es(),Es()}}function bC(e,t){if(1&e&&(Os(0,"nav",33),Os(1,"ul",34),ws(2,mC,3,0,"li",35),ws(3,yC,3,4,"li",36),ws(4,vC,3,0,"li",35),Es(),Es()),2&e){const e=Fs();Wi(2),Cs("ngIf",e.pager.currentPage>1&&e.pager.totalPages>1),Wi(1),Cs("ngForOf",e.myNumbers),Wi(1),Cs("ngIf",e.pager.currentPage<e.pager.totalPages)}}const _C=[{path:"",component:jS,children:[{path:"Dashboard",component:n_},{path:"Languages",component:t_},{path:"Contact",component:PS},{path:"About",component:OS,canDeactivate:[xS]},{path:"Audio",component:kS},{path:"RTC",component:gS},{path:"Answer",component:fS},{path:"Chat",component:Iw},{path:"Users",component:(()=>{class e extends ay{constructor(e,t,n){super(),this.userService=e,this.router=t,this.tokenService=n,this.model=new Lw,this.allowedRoles=this.tokenService.getUserRoles()}ngOnInit(){console.log("Users components"),this.getItems()}getItems(e=1){this.isLoading=!0,this.add=this.userService.GetUsers(e,this.query).subscribe(e=>{e.isSuccess?(this.items=e.listModel,this.pager=e.pager):(this.isError=!0,this.errorMessage=e.message)},e=>{console.error(JSON.stringify(e.error)),this.isError=!0,this.isLoading=!1,this.errorMessage=e.message,401==e.status&&this.router.navigateByUrl("/Login")},()=>{this.isLoading=!1})}reset(){""!==this.query&&(this.query="",this.getItems())}onPopup(){$("#modal_aside_left").modal("toggle"),this.getItems()}hideModal(){$("#modal_aside_left").modal("hide")}ngOnDestroy(){this.dispose()}}return e.\u0275fac=function(t){return new(t||e)(Ss(Dw),Ss(Am),Ss(ud))},e.\u0275cmp=Fe({type:e,selectors:[["app-users"]],features:[ss],decls:30,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-md-3"],[1,"col-md-6"],["class","shadow-sm alert alert-warning","style","border-left: 5px solid #efa31d;",4,"ngIf"],[1,"input-group","mb-3"],["type","text","required","","placeholder","Search here. . .","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[1,"fas","fa-sync-alt"],[3,"ngIf"],["class","albums mb-3",4,"ngIf"],["aria-label","Page navigation example","style","cursor: pointer;",4,"ngIf"],["id","modal_aside_left","tabindex","-1","role","dialog",1,"modal","fixed-left","fade"],["role","document",1,"modal-dialog","modal-dialog-aside"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","closemodal",1,"btn","btn-secondary",3,"click"],[1,"shadow-sm","alert","alert-warning",2,"border-left","5px solid #efa31d"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"albums","mb-3"],["class","album",4,"ngFor","ngForOf"],[1,"album"],["src","/assets/user.png",1,"album__artwork"],[1,"album__details"],[1,"album__artist"],[1,"album__desc"],["aria-label","Page navigation example",2,"cursor","pointer"],[1,"pagination"],["class","page-item",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"page-item"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Ps(2,"div",2),Os(3,"div",3),ws(4,dC,4,0,"div",4),Es(),Os(5,"div",2),Os(6,"div",5),Os(7,"input",6),Ds("ngModelChange",function(e){return t.query=e}),Es(),Os(8,"div",7),Os(9,"button",8),Ds("click",function(){return t.getItems()}),Ps(10,"i",9),Es(),Es(),Os(11,"div",7),Os(12,"button",8),Ds("click",function(){return t.reset()}),Ps(13,"i",10),Es(),Es(),Es(),Es(),Es(),ws(14,fC,2,0,"ng-template",11),ws(15,gC,2,1,"div",12),ws(16,bC,5,3,"nav",13),Os(17,"div",14),Os(18,"div",15),Os(19,"div",16),Os(20,"div",17),Os(21,"h5",18),ca(22,"User"),Es(),Os(23,"button",19),Os(24,"span",20),ca(25,"\xd7"),Es(),Es(),Es(),Ps(26,"div",21),Os(27,"div",22),Os(28,"button",23),Ds("click",function(){return t.hideModal()}),ca(29,"Close"),Es(),Es(),Es(),Es(),Es(),Es()),2&e&&(Wi(4),Cs("ngIf",t.isError),Wi(3),Cs("ngModel",t.query),Wi(7),Cs("ngIf",t.isLoading),Wi(1),Cs("ngIf",!t.isLoading),Wi(1),Cs("ngIf",t.pager.totalPages>1&&!t.isLoading))},directives:[dh,av,Rb,xv,kb,uh],styles:[".albums[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-gap:20px}.album[_ngcontent-%COMP%]{background:hsla(0,1.9%,42%,.2);box-shadow:0 0 5px rgba(29,22,22,0);display:grid;grid-template-columns:150px 1fr;grid-gap:10px;align-items:center;color:#000;font-weight:100}.album__artwork[_ngcontent-%COMP%]{width:100%}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{width:350px;max-width:80%;height:100%;margin:0;transform:translate(0);transition:transform .2s}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:inherit;border:0;border-radius:0}.modal[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal.fixed-left[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-left:auto;transform:translateX(100%)}.modal.fixed-right[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{margin-right:auto;transform:translateX(-100%)}.modal.show[_ngcontent-%COMP%]   .modal-dialog-aside[_ngcontent-%COMP%]{transform:translateX(0)}"]}),e})()},{path:"Video",component:NS},{path:"TwilioHome",component:hC},{path:"Sessions",component:p_},{path:"Jobs",component:Qk,canActivate:[RS],data:{allowedRoles:["Admin","Visitor","Translator","Client"]}}]},{path:"Login",component:sS},{path:"Logout",component:Xw},{path:"Register",component:Zw},{path:"**",component:g_}];let wC=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[Qm.forRoot(_C)],Qm]}),e})(),kC=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[],imports:[[vh,Bd,Nf,ry,oy,wC,Db,Mb,od]]}),e})(),SC=(()=>{class e{constructor(){}ngAfterViewInit(){$(document).ready(function(){$("body").css("padding-top",$(".navbar").outerHeight()+"px")})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&Ps(0,"router-outlet")},directives:[Fm],styles:['.form-group.required[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]:after{content:"*";color:red}']}),e})();class CC{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new TC(e,this.count,this.source))}}class TC extends p{constructor(e,t,n){super(e),this.count=t,this.source=n}error(e){if(!this.isStopped){const{source:t,count:n}=this;if(0===n)return super.error(e);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}}}var OC={},EC={};function PC(e){for(var t=[],n=0,r=0,i=0;i<e.length;i+=1){var o=OC[e[i]];if(void 0===o)throw new Error("Invalid character ("+e[i]+")");var s=32&o;if(r+=(o&=31)<<n,s)n+=5;else{var a=1&r;r>>>=1,t.push(a?0===r?-2147483648:-r:r),r=n=0}}return t}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(e,t){OC[e]=t,EC[t]=e});let xC=(()=>{class e{constructor(e){this.httpBackend=e}logOnServer(e,t,n){const r=new Nh("POST",e,t,n||{});return this.httpBackend.handle(r).pipe(Th(e=>e instanceof Bh),O(e=>e.body))}}return e.\u0275fac=function(t){return new(t||e)(mr(xh))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const RC={TRACE:0,DEBUG:1,INFO:2,LOG:3,WARN:4,ERROR:5,FATAL:6,OFF:7};RC[RC.TRACE]="TRACE",RC[RC.DEBUG]="DEBUG",RC[RC.INFO]="INFO",RC[RC.LOG]="LOG",RC[RC.WARN]="WARN",RC[RC.ERROR]="ERROR",RC[RC.FATAL]="FATAL",RC[RC.OFF]="OFF";class jC{}class IC{constructor(e){this.config=e,this._config=e}updateConfig(e){this._config=this._clone(e)}getConfig(){return this._clone(this._config)}_clone(e){const t=new jC;return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}}const AC=["purple","teal","gray","gray","red","red","red"];class LC{static prepareMetaString(e,t,n,r){return`${e} ${t}${n?` [${n}:${r}]`:""}`}static getColor(e,t){switch(e){case RC.TRACE:return this.getColorFromConfig(RC.TRACE,t);case RC.DEBUG:return this.getColorFromConfig(RC.DEBUG,t);case RC.INFO:case RC.LOG:return this.getColorFromConfig(RC.INFO,t);case RC.WARN:case RC.ERROR:case RC.FATAL:return this.getColorFromConfig(RC.FATAL,t);case RC.OFF:default:return}}static getColorFromConfig(e,t){return t?t[e]:AC[e]}static getCallerDetails(){const e=new Error("");try{const t=e.stack.split("\n")[4].split("/"),n=t[t.length-1].replace(/[)]/g,"").split(":");return{fileName:n[0],lineNumber:n[1]}}catch(t){return{fileName:null,lineNumber:null}}}static prepareMessage(e){try{"string"==typeof e||e instanceof Error||(e=JSON.stringify(e,null,2))}catch(t){e='The provided "message" value could not be parsed with JSON.stringify().'}return e}static prepareAdditionalParameters(e){return null==e?null:e.map((e,t)=>{try{return"object"==typeof e&&JSON.stringify(e),e}catch(n){return`The additional[${t}] value could not be parsed using JSON.stringify().`}})}}class DC{constructor(e,t,n){this.fileName=e,this.lineNumber=t,this.columnNumber=n}toString(){return this.fileName+":"+this.lineNumber+":"+this.columnNumber}}let MC=(()=>{class e{constructor(e){this.httpBackend=e,this.sourceMapCache=new Map,this.logPositionCache=new Map}static getStackLine(){const e=new Error;try{throw e}catch(t){try{return e.stack.split("\n")[5]}catch(t){return null}}}static getPosition(e){const t=e.lastIndexOf("/");let n=e.indexOf(")");n<0&&(n=void 0);const r=e.substring(t+1,n).split(":");return 3===r.length?new DC(r[0],+r[1],+r[2]):new DC("unknown",0,0)}static getTranspileLocation(e){let t=e.indexOf("(");t<0&&(t=e.lastIndexOf(" "));let n=e.indexOf(")");return n<0&&(n=void 0),e.substring(t+1,n)}static getMapFilePath(t){const n=e.getTranspileLocation(t),r=n.substring(0,n.lastIndexOf(":"));return r.substring(0,r.lastIndexOf(":"))+".map"}static getMapping(e,t){let n=0,r=0,i=0;const o=e.mappings.split(";");for(let s=0;s<o.length;s++){let a=0;const c=o[s].split(",");for(let o=0;o<c.length;o++){const l=PC(c[o]);if(l.length>=4&&(a+=l[0],n+=l[1],r+=l[2],i+=l[3]),s===t.lineNumber){if(a===t.columnNumber)return new DC(e.sources[n],r,i);if(o+1===c.length)return new DC(e.sources[n],r,0)}}}return new DC("unknown",0,0)}_getSourceMap(t,n){const r=new Nh("GET",t),i=n.toString();if(this.logPositionCache.has(i))return this.logPositionCache.get(i);this.sourceMapCache.has(t)||this.sourceMapCache.set(t,this.httpBackend.handle(r).pipe(Th(e=>e instanceof Bh),O(e=>e.body),function(e=-1){return t=>t.lift(new CC(e,t))}(3),Af(1)));const o=this.sourceMapCache.get(t).pipe(O(t=>e.getMapping(t,n)),np(()=>Sh(n)),Af(1));return this.logPositionCache.set(i,o),o}getCallerDetails(t){const n=e.getStackLine();return n?Sh([e.getPosition(n),e.getMapFilePath(n)]).pipe(_f(([e,n])=>t?this._getSourceMap(n,e):Sh(e))):Sh(new DC("",0,0))}}return e.\u0275fac=function(t){return new(t||e)(mr(xh))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const NC=["TRACE","DEBUG","INFO","LOG","WARN","ERROR","FATAL","OFF"];let FC=(()=>{class e{constructor(e,t,n,r,i){this.mapperService=e,this.httpService=t,this.platformId=r,this.datePipe=i,this._withCredentials=!1,this._isIE=bh(r)&&navigator&&navigator.userAgent&&!(-1===navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident\//)&&!navigator.userAgent.match(/Edge\//)),this.config=new IC(n),this._logFunc=this._isIE?this._logIE.bind(this):this._logModern.bind(this)}trace(e,...t){this._log(RC.TRACE,e,t)}debug(e,...t){this._log(RC.DEBUG,e,t)}info(e,...t){this._log(RC.INFO,e,t)}log(e,...t){this._log(RC.LOG,e,t)}warn(e,...t){this._log(RC.WARN,e,t)}error(e,...t){this._log(RC.ERROR,e,t)}fatal(e,...t){this._log(RC.FATAL,e,t)}setCustomHttpHeaders(e){this._customHttpHeaders=e}setCustomParams(e){this._customParams=e}setWithCredentialsOptionValue(e){this._withCredentials=e}registerMonitor(e){this._loggerMonitor=e}updateConfig(e){this.config.updateConfig(e)}getConfigSnapshot(){return this.config.getConfig()}_logIE(e,t,n,r){switch(r=r||[],e){case RC.WARN:console.warn(t+" ",n,...r);break;case RC.ERROR:case RC.FATAL:console.error(t+" ",n,...r);break;case RC.INFO:console.info(t+" ",n,...r);break;default:console.log(t+" ",n,...r)}}_logModern(e,t,n,r){const i=this.getConfigSnapshot().colorScheme,o=LC.getColor(e,i);switch(r=r||[],e){case RC.WARN:console.warn("%c"+t,"color:"+o,n,...r);break;case RC.ERROR:case RC.FATAL:console.error("%c"+t,"color:"+o,n,...r);break;case RC.INFO:console.info("%c"+t,"color:"+o,n,...r);break;default:console.log("%c"+t,"color:"+o,n,...r)}}_log(e,t,n=[],r=!0){const i=this.config.getConfig(),o=r&&i.serverLoggingUrl&&e>=i.serverLogLevel,s=e>=i.level;if(!t||!o&&!s)return;const a=NC[e];t="function"==typeof t?t():t,t=LC.prepareMessage(t);const c=LC.prepareAdditionalParameters(n),l=i.timestampFormat?this.datePipe.transform(new Date,i.timestampFormat):(new Date).toISOString();this.mapperService.getCallerDetails(i.enableSourceMaps).subscribe(r=>{const u={message:t,additional:c,level:e,timestamp:l,fileName:r.fileName,lineNumber:r.lineNumber.toString()};if(this._loggerMonitor&&s&&this._loggerMonitor.onLog(u),o){t=t instanceof Error?t.stack:t,u.message=t;const e=this._customHttpHeaders||new Rh;e.set("Content-Type","application/json");const n={headers:e,params:this._customParams||new Ah,responseType:i.httpResponseType||"json",withCredentials:this._withCredentials};this.httpService.logOnServer(i.serverLoggingUrl,u,n).subscribe(e=>{},e=>{this._log(RC.ERROR,"FAILED TO LOG ON SERVER: "+t,[e],!1)})}if(s&&!i.disableConsoleLogging){const i=LC.prepareMetaString(l,a,r.fileName,r.lineNumber.toString());return this._logFunc(e,i,t,n)}})}}return e.\u0275fac=function(t){return new(t||e)(mr(MC),mr(xC),mr(jC),mr(ml),mr(yh))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),VC=(()=>{class e{constructor(e,t,n,r){this.mapperService=e,this.httpService=t,this.platformId=n,this.datePipe=r}create(e,t,n,r){const i=new FC(r||this.mapperService,t||this.httpService,e,this.platformId,this.datePipe);return n&&i.registerMonitor(n),i}}return e.\u0275fac=function(t){return new(t||e)(mr(MC),mr(xC),mr(ml),mr(yh))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),UC=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:jC,useValue:t||{}},FC,xC,VC,MC]}}static forChild(){return{ngModule:e,providers:[FC,xC,VC,MC]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[FC,xC,VC,MC,yh],imports:[[vh]]}),e})(),BC=(()=>{class e{constructor(e){this.btnScreenShare="",this.btnScreenShareColor="",this.ngZone=e}createConnection(){console.log("createConnection"),this.connection=new RTCPeerConnection}createOffer(){this.connection.createOffer(),console.log("localDescription ",this.connection.localDescription)}StartStopScreenShare(){if(this._screenTrack)return this._screenTrack.stop(),this._screenTrack=void 0,void(this.btnScreenShare="Share Screen");navigator.mediaDevices.getDisplayMedia({audio:!1,video:{frameRate:1}}).then(e=>{this._screenStream=e,this._screenStream&&this._screenStream.getVideoTracks().length>0&&(this.screenvideo.nativeElement.srcObject=this._screenStream,this.screenvideo.nativeElement.play())}).catch(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(mr(jl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),HC=(()=>{class e{constructor(e,t){this.toastr=e,this.router=t}intercept(e,t){return t.handle(e).pipe(np(e=>{let t="";return e.error instanceof ErrorEvent?t="Something bad happen to your network: "+e.error.message:(console.log(JSON.stringify(e)),t=`Error while processing your request: ${e.status}\nMessage: ${e.message}`,401===e.status&&this.router.navigateByUrl("/Logout")),this.toastr.error(""+t,"Error"),Of(t)}))}}return e.\u0275fac=function(t){return new(t||e)(mr(Jy),mr(Am))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qC(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function zC(e){switch(e.length){case 0:return new Ty;case 1:return e[0];default:return new Oy(e)}}function WC(e,t,n,r,i={},o={}){const s=[],a=[];let c=-1,l=null;if(r.forEach(e=>{const n=e.offset,r=n==c,u=r&&l||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,s),a){case"!":a=i[n];break;case vy:a=o[n];break;default:a=t.normalizeStyleValue(n,r,a,s)}u[r]=a}),r||a.push(u),l=u,c=n}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function $C(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&GC(n,"start",e)));break;case"done":e.onDone(()=>r(n&&GC(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&GC(n,"destroy",e)))}}function GC(e,t,n){const r=n.totalTime,i=QC(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function QC(e,t,n,r,i="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function KC(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function JC(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let YC=(e,t)=>!1,ZC=(e,t)=>!1,XC=(e,t,n)=>[];const eT=qC();(eT||"undefined"!=typeof Element)&&(YC=(e,t)=>e.contains(t),ZC=(()=>{if(eT||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):ZC}})(),XC=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let tT=null,nT=!1;function rT(e){tT||(tT=("undefined"!=typeof document?document.body:null)||{},nT=!!tT.style&&"WebkitAppearance"in tT.style);let t=!0;return tT.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in tT.style,!t&&nT)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in tT.style),t}const iT=ZC,oT=YC,sT=XC;function aT(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let cT=(()=>{class e{validateStyleProperty(e){return rT(e)}matchesElement(e,t){return iT(e,t)}containsElement(e,t){return oT(e,t)}query(e,t,n){return sT(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,o=[],s){return new Ty(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),lT=(()=>{class e{}return e.NOOP=new cT,e})();const uT="ng-enter",hT="ng-leave",dT="ng-trigger",fT=".ng-trigger",pT="ng-animating",gT=".ng-animating";function mT(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yT(parseFloat(t[1]),t[2])}function yT(e,t){switch(t){case"s":return 1e3*e;default:return e}}function vT(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,o="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=yT(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=yT(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=e;if(!n){let n=!1,o=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(o,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:o}}(e,t,n)}function bT(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function _T(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else bT(e,n);return n}function wT(e,t,n){return n?t+":"+n+";":""}function kT(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=wT(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=wT(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function ST(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=jT(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),qC()&&kT(e))}function CT(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=jT(t);e.style[n]=""}),qC()&&kT(e))}function TT(e){return Array.isArray(e)?1==e.length?e[0]:_y(e):e}const OT=new RegExp("{{\\s*(.+?)\\s*}}","g");function ET(e){let t=[];if("string"==typeof e){let n;for(;n=OT.exec(e);)t.push(n[1]);OT.lastIndex=0}return t}function PT(e,t,n){const r=e.toString(),i=r.replace(OT,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?e:i}function xT(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const RT=/-+([a-z0-9])/g;function jT(e){return e.replace(RT,(...e)=>e[1].toUpperCase())}function IT(e,t){return 0===e||0===t}function AT(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let o=t[0],s=[];if(r.forEach(e=>{o.hasOwnProperty(e)||s.push(e),o[e]=n[e]}),s.length)for(var i=1;i<t.length;i++){let n=t[i];s.forEach(function(t){n[t]=DT(e,t)})}}return t}function LT(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function DT(e,t){return window.getComputedStyle(e)[t]}const MT="*";function NT(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],o=r[2],s=r[3];t.push(UT(i,s)),"<"!=o[0]||i==MT&&s==MT||t.push(UT(s,i))}(e,n,t)):n.push(e),n}const FT=new Set(["true","1"]),VT=new Set(["false","0"]);function UT(e,t){const n=FT.has(e)||VT.has(e),r=FT.has(t)||VT.has(t);return(i,o)=>{let s=e==MT||e==i,a=t==MT||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?FT.has(e):VT.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?FT.has(t):VT.has(t)),s&&a}}const BT=new RegExp("s*:selfs*,?","g");function HT(e,t,n){return new qT(e).build(t,n)}class qT{constructor(e){this._driver=e}build(e,t){const n=new zT(t);return this._resetContextStyleTimingState(n),LT(this,TT(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,o.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(e=>{if(WT(e)){const t=e;Object.keys(t).forEach(e=>{ET(t[e]).forEach(e=>{o.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=xT(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=LT(this,TT(e.animation),t);return{type:1,matchers:NT(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:$T(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>LT(this,e,t)),options:$T(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=LT(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:$T(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return GT(vT(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=GT(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||vT(r,t),GT(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:wy({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,o=!1;if(!i){o=!0;const e={};n.easing&&(e.easing=n.easing),i=wy(e)}t.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,t);s.isEmptyStep=o,r=s}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==vy?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(WT(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=t.collectedStyles[t.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=ET(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let c=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(WT(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(WT(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),s=s||l<0||l>1,o=o||l<a,a=l,i.push(l),n});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");const l=e.steps.length;let u=0;r>0&&r<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const h=l-1,d=t.currentTime,f=t.currentAnimateTimings,p=f.duration;return c.forEach((e,r)=>{const o=u>0?r==h?1:u*r:i[r],s=o*p;t.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(e,t),e.offset=o,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:LT(this,TT(e.animation),t),options:$T(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:$T(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:$T(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,o]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(BT,"")),[e=e.replace(/@\*/g,fT).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,gT),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,KC(t.collectedStyles,t.currentQuerySelector,{});const s=LT(this,TT(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:$T(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:vT(e.timings,t.errors,!0);return{type:12,animation:LT(this,TT(e.animation),t),timings:n,options:null}}}class zT{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function WT(e){return!Array.isArray(e)&&"object"==typeof e}function $T(e){var t;return e?(e=bT(e)).params&&(e.params=(t=e.params)?bT(t):null):e={},e}function GT(e,t,n){return{duration:e,delay:t,easing:n}}function QT(e,t,n,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class KT{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const JT=new RegExp(":enter","g"),YT=new RegExp(":leave","g");function ZT(e,t,n,r,i,o={},s={},a,c,l=[]){return(new XT).buildKeyframes(e,t,n,r,i,o,s,a,c,l)}class XT{buildKeyframes(e,t,n,r,i,o,s,a,c,l=[]){c=c||new KT;const u=new tO(e,t,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),LT(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(s).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[QT(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?mT(n.duration):null,o=null!=n.delay?mT(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),LT(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eO);const e=mT(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>LT(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?mT(e.options.delay):0;e.steps.forEach(o=>{const s=t.createSubContext(e.options);i&&s.delayNextStep(i),LT(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return vT(t.params?PT(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(e=>{o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?mT(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=eO);let o=n;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{t.currentQueryIndex=r;const s=t.createSubContext(e.options,n);i&&s.delayNextStep(i),n===t.element&&(a=s.currentTimeline),LT(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),s=o*(t.currentQueryTotal-1);let a=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;LT(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const eO={};class tO{constructor(e,t,n,r,i,o,s,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new nO(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=mT(n.duration)),null!=n.delay&&(r.delay=mT(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=PT(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new tO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=eO,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new rO(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,o){let s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(JT,"."+this._enterClassName)).replace(YT,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),s.push(...t)}return i||0!=s.length||o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class nO{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nO(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||vy,this._currentKeyframe[e]=vy}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},o=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=vy})):_T(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=PT(o[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:vy),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=_T(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?e.add(n):r==vy&&t.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=e.size?xT(e.values()):[],o=t.size?xT(t.values()):[];if(n){const e=r[0],t=bT(e);e.offset=0,t.offset=1,r=[e,t]}return QT(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class rO extends nO{constructor(e,t,n,r,i,o,s=!1){super(e,t,o.delay),this.element=t,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],o=n+t,s=t/o,a=_T(e[0],!1);a.offset=0,i.push(a);const c=_T(e[0],!1);c.offset=iO(s),i.push(c);const l=e.length-1;for(let r=1;r<=l;r++){let s=_T(e[r],!1);s.offset=iO((t+s.offset*n)/o),i.push(s)}n=o,t=0,r="",e=i}return QT(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function iO(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class oO{}class sO extends oO{normalizePropertyName(e,t){return jT(e)}normalizeStyleValue(e,t,n,r){let i="";const o=n.toString().trim();if(aO[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return o+i}}const aO=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function cO(e,t,n,r,i,o,s,a,c,l,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const lO={};class uO{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}build(e,t,n,r,i,o,s,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||lO,d=this.buildStyles(n,s&&s.params||lO,u),f=a&&a.params||lO,p=this.buildStyles(r,f,u),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=l?[]:ZT(e,t,this.ast.animation,i,o,d,p,b,c,u);let w=0;if(_.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),u.length)return cO(t,this._triggerName,n,r,v,d,p,[],[],m,y,w,u);_.forEach(e=>{const n=e.element,r=KC(m,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=KC(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const k=xT(g.values());return cO(t,this._triggerName,n,r,v,d,p,_,k,m,y,w)}}class hO{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},r=bT(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let o=i[e];o.length>1&&(o=PT(o,r,t)),n[e]=o})}}),n}}class dO{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new hO(e.style,e.options&&e.options.params||{})}),fO(this.states,"true","1"),fO(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new uO(e,t,this.states))}),this.fallbackTransition=new uO(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function fO(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const pO=new KT;class gO{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=HT(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=WC(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let o;const s=new Map;if(i?(o=ZT(this._driver,t,i,uT,hT,{},{},n,pO,r),o.forEach(e=>{const t=KC(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,vy)})});const a=zC(o.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,r){const i=QC(t,"","","");return $C(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const mO="ng-animate-queued",yO="ng-animate-disabled",vO=".ng-animate-disabled",bO=[],_O={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class kO{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=bT(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const SO="void",CO=new kO(SO);class TO{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,IO(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const o=KC(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);const a=KC(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(IO(e,dT),IO(e,"ng-trigger-"+t),a[t]=CO),()=>{this._engine.afterFlush(()=>{const e=o.indexOf(s);e>=0&&o.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),o=new EO(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(IO(e,dT),IO(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const c=new kO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[t]=c,a||(a=CO),c.value!==SO&&a.value===c.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,c.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{CT(e,n),ST(e,r)})}return}const l=KC(this._engine.playersByElement,e,[]);l.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,c.value,e,c.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(IO(e,mO),o.onStart(()=>{AO(e,mO)})),o.onDone(()=>{let t=this.players.indexOf(o);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(o);e>=0&&n.splice(e,1)}}),this.players.push(o),l.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,fT,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const o=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,SO,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&zC(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const r=t.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(e)[r]||CO,s=new kO(SO),a=new EO(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==_O||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){IO(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(t=>{if(t.name==n.triggerName){const r=QC(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,$C(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class OO{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new TO(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(PO(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!PO(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),IO(e,yO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),AO(e,yO))}removeNode(e,t,n,r){if(PO(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return PO(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,fT,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gT,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zC(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=_O,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,vO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,vO,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)IO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?zC(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new KT,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(e=>{l.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)l.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=jO(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((e,t)=>{const n=uT+p++;f.set(t,n),e.forEach(e=>IO(e,n))});const g=[],m=new Set,y=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const e=this.collectedLeaveElements[R],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):y.add(e))}const v=new Map,b=jO(h,Array.from(m));b.forEach((e,t)=>{const n=hT+p++;v.set(t,n),e.forEach(e=>IO(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=f.get(t);e.forEach(e=>AO(e,n))}),b.forEach((e,t)=>{const n=v.get(t);e.forEach(e=>AO(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const _=[],w=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(_.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const l=!u||!this.driver.containsElement(u,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(e,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return t.onStart(()=>CT(i,p.fromStyles)),t.onDestroy(()=>ST(i,p.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>CT(i,p.fromStyles)),t.onDestroy(()=>ST(i,p.toStyles)),void r.push(t);p.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:t,element:i}),p.queriedElements.forEach(e=>KC(s,e,[]).push(t)),p.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),p.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=c.get(t);r||c.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),_.forEach(e=>e.destroy()),this.reportError(e)}const k=new Map,S=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,k))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{KC(k,t,[]).push(e),e.destroy()})});const C=g.filter(e=>MO(e,a,c)),T=new Map;RO(T,this.driver,y,c,vy).forEach(e=>{MO(e,a,c)&&C.push(e)});const O=new Map;d.forEach((e,t)=>{RO(O,this.driver,new Set(e),a,"!")}),C.forEach(e=>{const t=T.get(e),n=O.get(e);T.set(e,Object.assign(Object.assign({},t),n))});const E=[],P=[],x={};o.forEach(e=>{const{element:t,player:o,instruction:s}=e;if(n.has(t)){if(l.has(t))return o.onDestroy(()=>ST(t,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let e=x;if(S.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=S.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>S.set(t,e))}const n=this._buildAnimation(o.namespaceId,s,k,i,O,T);if(o.setRealPlayer(n),e===x)E.push(o);else{const t=this.playersByElement.get(e);t&&t.length&&(o.parentPlayer=zC(t)),r.push(o)}}else CT(t,s.fromStyles),o.onDestroy(()=>ST(t,s.toStyles)),P.push(o),l.has(t)&&r.push(o)}),P.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=zC(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let R=0;R<g.length;R++){const e=g[R],t=e.__ng_removed;if(AO(e,hT),t&&t.hasAnimation)continue;let n=[];if(s.size){let t=s.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,gT,!0);for(let e=0;e<r.length;e++){let t=s.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?LO(this,e,r):this.processLeaveNode(e)}return g.length=0,E.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),E}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let o=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(o=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==SO;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),o}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==r,c=KC(n,e,[]);this._getPreviousPlayers(e,a,i,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}CT(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,o){const s=t.triggerName,a=t.element,c=[],l=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Ty(t.duration,t.delay);const f=h!==a,p=function(e){const t=[];return DO(e,t),t}((n.get(h)||bO).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=i.get(h),m=o.get(h),y=WC(0,this._normalizer,0,t.keyframes,g,m),v=this._buildPlayer(t,y,p);if(t.subTimeline&&r&&u.add(h),f){const t=new EO(e,s,h);t.setRealPlayer(v),c.push(t)}return v});c.forEach(e=>{KC(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),l.forEach(e=>IO(e,pT));const d=zC(h);return d.onDestroy(()=>{l.forEach(e=>AO(e,pT)),ST(a,t.toStyles)}),u.forEach(e=>{KC(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Ty(e.duration,e.delay)}}class EO{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Ty,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>$C(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){KC(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function PO(e){return e&&1===e.nodeType}function xO(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function RO(e,t,n,r,i){const o=[];n.forEach(e=>o.push(xO(e)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(e=>{const n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=wO,s.push(r))}),e.set(r,o)});let a=0;return n.forEach(e=>xO(e,o[a++])),s}function jO(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function o(e){if(!e)return 1;let t=i.get(e);if(t)return t;const s=e.parentNode;return t=n.has(s)?s:r.has(s)?1:o(s),i.set(e,t),t}return t.forEach(e=>{const t=o(e);1!==t&&n.get(t).push(e)}),n}function IO(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function AO(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function LO(e,t,n){zC(n).onDone(()=>e.processLeaveNode(t))}function DO(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof Oy?DO(r.players,t):t.push(r)}}function MO(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class NO{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new OO(e,t,n),this._timelineEngine=new gO(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const o=e+"-"+r;let s=this._triggerCache[o];if(!s){const e=[],t=HT(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t){return new dO(e,t)}(r,t),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=JC(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=JC(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function FO(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=UO(t[0]),t.length>1&&(r=UO(t[t.length-1]))):t&&(n=UO(t)),n||r?new VO(e,n,r):null}let VO=(()=>{class e{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ST(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ST(this._element,this._initialStyles),this._endStyles&&(ST(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(CT(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(CT(this._element,this._endStyles),this._endStyles=null),ST(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function UO(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];BO(i)&&(t=t||{},t[i]=e[i])}return t}function BO(e){return"display"===e||"position"===e}const HO="animation",qO="animationend";class zO{constructor(e,t,n,r,i,o,s){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=JO(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),KO(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),QO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){WO(this._element,this._name,"paused")}resume(){WO(this._element,this._name,"running")}setPosition(e){const t=$O(this._element,this._name);this._position=e*this._duration,KO(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),QO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=JO(e,"").split(","),r=GO(n,t);r>=0&&(n.splice(r,1),KO(e,"",n.join(",")))}(this._element,this._name))}}function WO(e,t,n){KO(e,"PlayState",n,$O(e,t))}function $O(e,t){const n=JO(e,"");return n.indexOf(",")>0?GO(n.split(","),t):GO([n],t)}function GO(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function QO(e,t,n){n?e.removeEventListener(qO,t):e.addEventListener(qO,t)}function KO(e,t,n,r){const i=HO+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function JO(e,t){return e.style[HO+t]||""}class YO{constructor(e,t,n,r,i,o,s,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new zO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:DT(this.element,n))})}this.currentSnapshot=e}}class ZO extends Ty{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=aT(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class XO{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(e){return rT(e)}matchesElement(e,t){return iT(e,t)}containsElement(e,t){return oT(e,t)}query(e,t,n){return sT(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>aT(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,n,r,i,o=[],s){const a=o.filter(e=>e instanceof YO),c={};IT(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const l=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=AT(e,t,c));if(0==n)return new ZO(e,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);const d=FO(e,t),f=new YO(e,t,u,n,r,i,l,d);return f.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),f}}class eE{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:DT(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class tE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nE().toString()),this._cssKeyframesDriver=new XO}validateStyleProperty(e){return rT(e)}matchesElement(e,t){return iT(e,t)}containsElement(e,t){return oT(e,t)}query(e,t,n){return sT(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=o.filter(e=>e instanceof eE);IT(n,r)&&l.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const u=FO(e,t=AT(e,t=t.map(e=>_T(e,!1)),c));return new eE(e,t,a,u)}}function nE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let rE=(()=>{class e extends yy{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ke.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?_y(e):e;return sE(this._renderer,null,t,"register",[n]),new iE(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(mr(Va),mr(uu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class iE extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new oE(this._id,e,t||{},this._renderer)}}class oE{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return sE(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function sE(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const aE="@",cE="@.disabled";let lE=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new uE("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const o=t=>{Array.isArray(t)?t.forEach(o):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(o),new hE(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(mr(Va),mr(NO),mr(jl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class uE{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==aE&&t==cE?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class hE extends uE{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==aE?"."==t.charAt(1)&&t==cE?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==aE){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),o="";return i.charAt(0)!=aE&&([i,o]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let dE=(()=>{class e extends NO{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(mr(uu),mr(lT),mr(oO))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const fE=[{provide:lT,useFactory:function(){return"function"==typeof nE()?new tE:new XO}},{provide:new Qn("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:yy,useClass:rE},{provide:oO,useFactory:function(){return new sO}},{provide:NO,useClass:dE},{provide:Va,useFactory:function(e,t,n){return new lE(e,t,n)},deps:[Ed,NO,jl]}];let pE=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:fE,imports:[Bd]}),e})();function gE(){return localStorage.getItem("access_token")}let mE=(()=>{class e{}return e.\u0275mod=He({type:e,bootstrap:[SC]}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[BC,{provide:$h,useClass:hd,multi:!0},{provide:$h,useClass:HC,multi:!0}],imports:[[Bd,Nf,ry,oy,wC,Db,Mb,vh,kC,od,pE,Dk,Xy.forRoot({timeOut:5e3,positionClass:"toast-bottom-left",progressBar:!0}),ld.forRoot({config:{tokenGetter:gE}}),UC.forRoot({serverLoggingUrl:"/api/logs",level:RC.DEBUG,serverLogLevel:RC.ERROR})],Db,Mb]}),e})();(function(){if(zl)throw new Error("Cannot enable prod mode after platform setup.");ql=!1})(),Vd().bootstrapModule(mE).catch(e=>console.error(e))},zYCr:function(e,t,n){"use strict";var r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(i,{bytesSent:{value:"number"==typeof n.bytesSent?n.bytesSent:r?0:null,enumerable:!0},packetsSent:{value:"number"==typeof n.packetsSent?n.packetsSent:r?0:null,enumerable:!0},roundTripTime:{value:"number"==typeof n.roundTripTime?n.roundTripTime:r?0:null,enumerable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("0iCT"));e.exports=r},zfKp:function(e,t,n){"use strict";t.observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zzsZ:function(e,t,n){"use strict";var r=n("Q1FS"),i=n("OAkW"),o=n("2qMH");t.fromArray=function(e,t){return t?o.scheduleArray(e,t):new r.Observable(i.subscribeToArray(e))}}},[[0,0]]]);